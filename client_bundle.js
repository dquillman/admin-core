function xX(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Zo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var G1={exports:{}},_m={};var xk;function wX(){if(xk)return _m;xk=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,s){var a=null;if(s!==void 0&&(a=""+s),i.key!==void 0&&(a=""+i.key),"key"in i){s={};for(var l in i)l!=="key"&&(s[l]=i[l])}else s=i;return i=s.ref,{$$typeof:t,type:r,key:a,ref:i!==void 0?i:null,props:s}}return _m.Fragment=e,_m.jsx=n,_m.jsxs=n,_m}var wk;function _X(){return wk||(wk=1,G1.exports=wX()),G1.exports}var p=_X(),Y1={exports:{}},Ye={};var _k;function EX(){if(_k)return Ye;_k=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),y=Symbol.iterator;function v(k){return k===null||typeof k!="object"?null:(k=y&&k[y]||k["@@iterator"],typeof k=="function"?k:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,w={};function A(k,K,re){this.props=k,this.context=K,this.refs=w,this.updater=re||_}A.prototype.isReactComponent={},A.prototype.setState=function(k,K){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,K,"setState")},A.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function C(){}C.prototype=A.prototype;function P(k,K,re){this.props=k,this.context=K,this.refs=w,this.updater=re||_}var L=P.prototype=new C;L.constructor=P,E(L,A.prototype),L.isPureReactComponent=!0;var M=Array.isArray;function z(){}var j={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function D(k,K,re){var ce=re.ref;return{$$typeof:t,type:k,key:K,ref:ce!==void 0?ce:null,props:re}}function B(k,K){return D(k.type,K,k.props)}function V(k){return typeof k=="object"&&k!==null&&k.$$typeof===t}function $(k){var K={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(re){return K[re]})}var q=/\/+/g;function xe(k,K){return typeof k=="object"&&k!==null&&k.key!=null?$(""+k.key):K.toString(36)}function be(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(z,z):(k.status="pending",k.then(function(K){k.status==="pending"&&(k.status="fulfilled",k.value=K)},function(K){k.status==="pending"&&(k.status="rejected",k.reason=K)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function X(k,K,re,ce,se){var ye=typeof k;(ye==="undefined"||ye==="boolean")&&(k=null);var de=!1;if(k===null)de=!0;else switch(ye){case"bigint":case"string":case"number":de=!0;break;case"object":switch(k.$$typeof){case t:case e:de=!0;break;case f:return de=k._init,X(de(k._payload),K,re,ce,se)}}if(de)return se=se(k),de=ce===""?"."+xe(k,0):ce,M(se)?(re="",de!=null&&(re=de.replace(q,"$&/")+"/"),X(se,K,re,"",function(Ee){return Ee})):se!=null&&(V(se)&&(se=B(se,re+(se.key==null||k&&k.key===se.key?"":(""+se.key).replace(q,"$&/")+"/")+de)),K.push(se)),1;de=0;var Se=ce===""?".":ce+":";if(M(k))for(var Z=0;Z<k.length;Z++)ce=k[Z],ye=Se+xe(ce,Z),de+=X(ce,K,re,ye,se);else if(Z=v(k),typeof Z=="function")for(k=Z.call(k),Z=0;!(ce=k.next()).done;)ce=ce.value,ye=Se+xe(ce,Z++),de+=X(ce,K,re,ye,se);else if(ye==="object"){if(typeof k.then=="function")return X(be(k),K,re,ce,se);throw K=String(k),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return de}function ee(k,K,re){if(k==null)return k;var ce=[],se=0;return X(k,ce,"","",function(ye){return K.call(re,ye,se++)}),ce}function he(k){if(k._status===-1){var K=k._result;K=K(),K.then(function(re){(k._status===0||k._status===-1)&&(k._status=1,k._result=re)},function(re){(k._status===0||k._status===-1)&&(k._status=2,k._result=re)}),k._status===-1&&(k._status=0,k._result=K)}if(k._status===1)return k._result.default;throw k._result}var Y=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},H={map:ee,forEach:function(k,K,re){ee(k,function(){K.apply(this,arguments)},re)},count:function(k){var K=0;return ee(k,function(){K++}),K},toArray:function(k){return ee(k,function(K){return K})||[]},only:function(k){if(!V(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return Ye.Activity=m,Ye.Children=H,Ye.Component=A,Ye.Fragment=n,Ye.Profiler=i,Ye.PureComponent=P,Ye.StrictMode=r,Ye.Suspense=u,Ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,Ye.__COMPILER_RUNTIME={__proto__:null,c:function(k){return j.H.useMemoCache(k)}},Ye.cache=function(k){return function(){return k.apply(null,arguments)}},Ye.cacheSignal=function(){return null},Ye.cloneElement=function(k,K,re){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var ce=E({},k.props),se=k.key;if(K!=null)for(ye in K.key!==void 0&&(se=""+K.key),K)!R.call(K,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&K.ref===void 0||(ce[ye]=K[ye]);var ye=arguments.length-2;if(ye===1)ce.children=re;else if(1<ye){for(var de=Array(ye),Se=0;Se<ye;Se++)de[Se]=arguments[Se+2];ce.children=de}return D(k.type,se,ce)},Ye.createContext=function(k){return k={$$typeof:a,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:s,_context:k},k},Ye.createElement=function(k,K,re){var ce,se={},ye=null;if(K!=null)for(ce in K.key!==void 0&&(ye=""+K.key),K)R.call(K,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(se[ce]=K[ce]);var de=arguments.length-2;if(de===1)se.children=re;else if(1<de){for(var Se=Array(de),Z=0;Z<de;Z++)Se[Z]=arguments[Z+2];se.children=Se}if(k&&k.defaultProps)for(ce in de=k.defaultProps,de)se[ce]===void 0&&(se[ce]=de[ce]);return D(k,ye,se)},Ye.createRef=function(){return{current:null}},Ye.forwardRef=function(k){return{$$typeof:l,render:k}},Ye.isValidElement=V,Ye.lazy=function(k){return{$$typeof:f,_payload:{_status:-1,_result:k},_init:he}},Ye.memo=function(k,K){return{$$typeof:d,type:k,compare:K===void 0?null:K}},Ye.startTransition=function(k){var K=j.T,re={};j.T=re;try{var ce=k(),se=j.S;se!==null&&se(re,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(z,Y)}catch(ye){Y(ye)}finally{K!==null&&re.types!==null&&(K.types=re.types),j.T=K}},Ye.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},Ye.use=function(k){return j.H.use(k)},Ye.useActionState=function(k,K,re){return j.H.useActionState(k,K,re)},Ye.useCallback=function(k,K){return j.H.useCallback(k,K)},Ye.useContext=function(k){return j.H.useContext(k)},Ye.useDebugValue=function(){},Ye.useDeferredValue=function(k,K){return j.H.useDeferredValue(k,K)},Ye.useEffect=function(k,K){return j.H.useEffect(k,K)},Ye.useEffectEvent=function(k){return j.H.useEffectEvent(k)},Ye.useId=function(){return j.H.useId()},Ye.useImperativeHandle=function(k,K,re){return j.H.useImperativeHandle(k,K,re)},Ye.useInsertionEffect=function(k,K){return j.H.useInsertionEffect(k,K)},Ye.useLayoutEffect=function(k,K){return j.H.useLayoutEffect(k,K)},Ye.useMemo=function(k,K){return j.H.useMemo(k,K)},Ye.useOptimistic=function(k,K){return j.H.useOptimistic(k,K)},Ye.useReducer=function(k,K,re){return j.H.useReducer(k,K,re)},Ye.useRef=function(k){return j.H.useRef(k)},Ye.useState=function(k){return j.H.useState(k)},Ye.useSyncExternalStore=function(k,K,re){return j.H.useSyncExternalStore(k,K,re)},Ye.useTransition=function(){return j.H.useTransition()},Ye.version="19.2.1",Ye}var Ek;function Xf(){return Ek||(Ek=1,Y1.exports=EX()),Y1.exports}var T=Xf();const SX=Zo(T),TX=xX({__proto__:null,default:SX},[T]);var X1={exports:{}},Em={},Q1={exports:{}},Z1={};var Sk;function AX(){return Sk||(Sk=1,(function(t){function e(X,ee){var he=X.length;X.push(ee);e:for(;0<he;){var Y=he-1>>>1,H=X[Y];if(0<i(H,ee))X[Y]=ee,X[he]=H,he=Y;else break e}}function n(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var ee=X[0],he=X.pop();if(he!==ee){X[0]=he;e:for(var Y=0,H=X.length,k=H>>>1;Y<k;){var K=2*(Y+1)-1,re=X[K],ce=K+1,se=X[ce];if(0>i(re,he))ce<H&&0>i(se,re)?(X[Y]=se,X[ce]=he,Y=ce):(X[Y]=re,X[K]=he,Y=K);else if(ce<H&&0>i(se,he))X[Y]=se,X[ce]=he,Y=ce;else break e}}return ee}function i(X,ee){var he=X.sortIndex-ee.sortIndex;return he!==0?he:X.id-ee.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],d=[],f=1,m=null,y=3,v=!1,_=!1,E=!1,w=!1,A=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function L(X){for(var ee=n(d);ee!==null;){if(ee.callback===null)r(d);else if(ee.startTime<=X)r(d),ee.sortIndex=ee.expirationTime,e(u,ee);else break;ee=n(d)}}function M(X){if(E=!1,L(X),!_)if(n(u)!==null)_=!0,z||(z=!0,$());else{var ee=n(d);ee!==null&&be(M,ee.startTime-X)}}var z=!1,j=-1,R=5,D=-1;function B(){return w?!0:!(t.unstable_now()-D<R)}function V(){if(w=!1,z){var X=t.unstable_now();D=X;var ee=!0;try{e:{_=!1,E&&(E=!1,C(j),j=-1),v=!0;var he=y;try{t:{for(L(X),m=n(u);m!==null&&!(m.expirationTime>X&&B());){var Y=m.callback;if(typeof Y=="function"){m.callback=null,y=m.priorityLevel;var H=Y(m.expirationTime<=X);if(X=t.unstable_now(),typeof H=="function"){m.callback=H,L(X),ee=!0;break t}m===n(u)&&r(u),L(X)}else r(u);m=n(u)}if(m!==null)ee=!0;else{var k=n(d);k!==null&&be(M,k.startTime-X),ee=!1}}break e}finally{m=null,y=he,v=!1}ee=void 0}}finally{ee?$():z=!1}}}var $;if(typeof P=="function")$=function(){P(V)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,xe=q.port2;q.port1.onmessage=V,$=function(){xe.postMessage(null)}}else $=function(){A(V,0)};function be(X,ee){j=A(function(){X(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(X){switch(y){case 1:case 2:case 3:var ee=3;break;default:ee=y}var he=y;y=ee;try{return X()}finally{y=he}},t.unstable_requestPaint=function(){w=!0},t.unstable_runWithPriority=function(X,ee){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var he=y;y=X;try{return ee()}finally{y=he}},t.unstable_scheduleCallback=function(X,ee,he){var Y=t.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?Y+he:Y):he=Y,X){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=he+H,X={id:f++,callback:ee,priorityLevel:X,startTime:he,expirationTime:H,sortIndex:-1},he>Y?(X.sortIndex=he,e(d,X),n(u)===null&&X===n(d)&&(E?(C(j),j=-1):E=!0,be(M,he-Y))):(X.sortIndex=H,e(u,X),_||v||(_=!0,z||(z=!0,$()))),X},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(X){var ee=y;return function(){var he=y;y=ee;try{return X.apply(this,arguments)}finally{y=he}}}})(Z1)),Z1}var Tk;function NX(){return Tk||(Tk=1,Q1.exports=AX()),Q1.exports}var J1={exports:{}},Ur={};var Ak;function CX(){if(Ak)return Ur;Ak=1;var t=Xf();function e(u){var d="https://react.dev/errors/"+u;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)d+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+u+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(u,d,f){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:u,containerInfo:d,implementation:f}}var a=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(u,d){if(u==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Ur.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ur.createPortal=function(u,d){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return s(u,d,null,f)},Ur.flushSync=function(u){var d=a.T,f=r.p;try{if(a.T=null,r.p=2,u)return u()}finally{a.T=d,r.p=f,r.d.f()}},Ur.preconnect=function(u,d){typeof u=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(u,d))},Ur.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},Ur.preinit=function(u,d){if(typeof u=="string"&&d&&typeof d.as=="string"){var f=d.as,m=l(f,d.crossOrigin),y=typeof d.integrity=="string"?d.integrity:void 0,v=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;f==="style"?r.d.S(u,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:m,integrity:y,fetchPriority:v}):f==="script"&&r.d.X(u,{crossOrigin:m,integrity:y,fetchPriority:v,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Ur.preinitModule=function(u,d){if(typeof u=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var f=l(d.as,d.crossOrigin);r.d.M(u,{crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(u)},Ur.preload=function(u,d){if(typeof u=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var f=d.as,m=l(f,d.crossOrigin);r.d.L(u,f,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Ur.preloadModule=function(u,d){if(typeof u=="string")if(d){var f=l(d.as,d.crossOrigin);r.d.m(u,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(u)},Ur.requestFormReset=function(u){r.d.r(u)},Ur.unstable_batchedUpdates=function(u,d){return u(d)},Ur.useFormState=function(u,d,f){return a.H.useFormState(u,d,f)},Ur.useFormStatus=function(){return a.H.useHostTransitionStatus()},Ur.version="19.2.1",Ur}var Nk;function LU(){if(Nk)return J1.exports;Nk=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),J1.exports=CX(),J1.exports}var Ck;function PX(){if(Ck)return Em;Ck=1;var t=NX(),e=Xf(),n=LU();function r(o){var c="https://react.dev/errors/"+o;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)c+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function s(o){var c=o,h=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(h=c.return),o=c.return;while(o)}return c.tag===3?h:null}function a(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function l(o){if(o.tag===31){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function u(o){if(s(o)!==o)throw Error(r(188))}function d(o){var c=o.alternate;if(!c){if(c=s(o),c===null)throw Error(r(188));return c!==o?null:o}for(var h=o,g=c;;){var x=h.return;if(x===null)break;var S=x.alternate;if(S===null){if(g=x.return,g!==null){h=g;continue}break}if(x.child===S.child){for(S=x.child;S;){if(S===h)return u(x),o;if(S===g)return u(x),c;S=S.sibling}throw Error(r(188))}if(h.return!==g.return)h=x,g=S;else{for(var I=!1,U=x.child;U;){if(U===h){I=!0,h=x,g=S;break}if(U===g){I=!0,g=x,h=S;break}U=U.sibling}if(!I){for(U=S.child;U;){if(U===h){I=!0,h=S,g=x;break}if(U===g){I=!0,g=S,h=x;break}U=U.sibling}if(!I)throw Error(r(189))}}if(h.alternate!==g)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?o:c}function f(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o;for(o=o.child;o!==null;){if(c=f(o),c!==null)return c;o=o.sibling}return null}var m=Object.assign,y=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),C=Symbol.for("react.consumer"),P=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function $(o){return o===null||typeof o!="object"?null:(o=V&&o[V]||o["@@iterator"],typeof o=="function"?o:null)}var q=Symbol.for("react.client.reference");function xe(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===q?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case E:return"Fragment";case A:return"Profiler";case w:return"StrictMode";case M:return"Suspense";case z:return"SuspenseList";case D:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case _:return"Portal";case P:return o.displayName||"Context";case C:return(o._context.displayName||"Context")+".Consumer";case L:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case j:return c=o.displayName||null,c!==null?c:xe(o.type)||"Memo";case R:c=o._payload,o=o._init;try{return xe(o(c))}catch{}}return null}var be=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},Y=[],H=-1;function k(o){return{current:o}}function K(o){0>H||(o.current=Y[H],Y[H]=null,H--)}function re(o,c){H++,Y[H]=o.current,o.current=c}var ce=k(null),se=k(null),ye=k(null),de=k(null);function Se(o,c){switch(re(ye,c),re(se,o),re(ce,null),c.nodeType){case 9:case 11:o=(o=c.documentElement)&&(o=o.namespaceURI)?$R(o):0;break;default:if(o=c.tagName,c=c.namespaceURI)c=$R(c),o=qR(c,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}K(ce),re(ce,o)}function Z(){K(ce),K(se),K(ye)}function Ee(o){o.memoizedState!==null&&re(de,o);var c=ce.current,h=qR(c,o.type);c!==h&&(re(se,o),re(ce,h))}function Ae(o){se.current===o&&(K(ce),K(se)),de.current===o&&(K(de),vm._currentValue=he)}var fe,Ke;function _e(o){if(fe===void 0)try{throw Error()}catch(h){var c=h.stack.trim().match(/\n( *(at )?)/);fe=c&&c[1]||"",Ke=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fe+o+Ke}var Me=!1;function ze(o,c){if(!o||Me)return"";Me=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(c){var ge=function(){throw Error()};if(Object.defineProperty(ge.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ge,[])}catch(le){var ie=le}Reflect.construct(o,[],ge)}else{try{ge.call()}catch(le){ie=le}o.call(ge.prototype)}}else{try{throw Error()}catch(le){ie=le}(ge=o())&&typeof ge.catch=="function"&&ge.catch(function(){})}}catch(le){if(le&&ie&&typeof le.stack=="string")return[le.stack,ie.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=g.DetermineComponentFrameRoot(),I=S[0],U=S[1];if(I&&U){var W=I.split(`
`),ne=U.split(`
`);for(x=g=0;g<W.length&&!W[g].includes("DetermineComponentFrameRoot");)g++;for(;x<ne.length&&!ne[x].includes("DetermineComponentFrameRoot");)x++;if(g===W.length||x===ne.length)for(g=W.length-1,x=ne.length-1;1<=g&&0<=x&&W[g]!==ne[x];)x--;for(;1<=g&&0<=x;g--,x--)if(W[g]!==ne[x]){if(g!==1||x!==1)do if(g--,x--,0>x||W[g]!==ne[x]){var ue=`
`+W[g].replace(" at new "," at ");return o.displayName&&ue.includes("<anonymous>")&&(ue=ue.replace("<anonymous>",o.displayName)),ue}while(1<=g&&0<=x);break}}}finally{Me=!1,Error.prepareStackTrace=h}return(h=o?o.displayName||o.name:"")?_e(h):""}function it(o,c){switch(o.tag){case 26:case 27:case 5:return _e(o.type);case 16:return _e("Lazy");case 13:return o.child!==c&&c!==null?_e("Suspense Fallback"):_e("Suspense");case 19:return _e("SuspenseList");case 0:case 15:return ze(o.type,!1);case 11:return ze(o.type.render,!1);case 1:return ze(o.type,!0);case 31:return _e("Activity");default:return""}}function Gt(o){try{var c="",h=null;do c+=it(o,h),h=o,o=o.return;while(o);return c}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}var xt=Object.prototype.hasOwnProperty,pt=t.unstable_scheduleCallback,Kn=t.unstable_cancelCallback,Le=t.unstable_shouldYield,ke=t.unstable_requestPaint,Ie=t.unstable_now,et=t.unstable_getCurrentPriorityLevel,Ze=t.unstable_ImmediatePriority,Ct=t.unstable_UserBlockingPriority,ct=t.unstable_NormalPriority,Pt=t.unstable_LowPriority,It=t.unstable_IdlePriority,Dr=t.log,fi=t.unstable_setDisableYieldValue,ar=null,tn=null;function En(o){if(typeof Dr=="function"&&fi(o),tn&&typeof tn.setStrictMode=="function")try{tn.setStrictMode(ar,o)}catch{}}var dt=Math.clz32?Math.clz32:sl,Lr=Math.log,Sn=Math.LN2;function sl(o){return o>>>=0,o===0?32:31-(Lr(o)/Sn|0)|0}var ft=256,Gn=262144,$t=4194304;function or(o){var c=o&42;if(c!==0)return c;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function Vr(o,c,h){var g=o.pendingLanes;if(g===0)return 0;var x=0,S=o.suspendedLanes,I=o.pingedLanes;o=o.warmLanes;var U=g&134217727;return U!==0?(g=U&~S,g!==0?x=or(g):(I&=U,I!==0?x=or(I):h||(h=U&~o,h!==0&&(x=or(h))))):(U=g&~S,U!==0?x=or(U):I!==0?x=or(I):h||(h=g&~o,h!==0&&(x=or(h)))),x===0?0:c!==0&&c!==x&&(c&S)===0&&(S=x&-x,h=c&-c,S>=h||S===32&&(h&4194048)!==0)?c:x}function lr(o,c){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&c)===0}function Zw(o,c){switch(o){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xg(){var o=$t;return $t<<=1,($t&62914560)===0&&($t=4194304),o}function la(o){for(var c=[],h=0;31>h;h++)c.push(o);return c}function kc(o,c){o.pendingLanes|=c,c!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function Jw(o,c,h,g,x,S){var I=o.pendingLanes;o.pendingLanes=h,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=h,o.entangledLanes&=h,o.errorRecoveryDisabledLanes&=h,o.shellSuspendCounter=0;var U=o.entanglements,W=o.expirationTimes,ne=o.hiddenUpdates;for(h=I&~h;0<h;){var ue=31-dt(h),ge=1<<ue;U[ue]=0,W[ue]=-1;var ie=ne[ue];if(ie!==null)for(ne[ue]=null,ue=0;ue<ie.length;ue++){var le=ie[ue];le!==null&&(le.lane&=-536870913)}h&=~ge}g!==0&&Mc(o,g,0),S!==0&&x===0&&o.tag!==0&&(o.suspendedLanes|=S&~(I&~c))}function Mc(o,c,h){o.pendingLanes|=c,o.suspendedLanes&=~c;var g=31-dt(c);o.entangledLanes|=c,o.entanglements[g]=o.entanglements[g]|1073741824|h&261930}function Eh(o,c){var h=o.entangledLanes|=c;for(o=o.entanglements;h;){var g=31-dt(h),x=1<<g;x&c|o[g]&c&&(o[g]|=c),h&=~x}}function Sh(o,c){var h=c&-c;return h=(h&42)!==0?1:Dc(h),(h&(o.suspendedLanes|c))!==0?0:h}function Dc(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Qa(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function Qg(){var o=ee.p;return o!==0?o:(o=window.event,o===void 0?32:hk(o.type))}function Os(o,c){var h=ee.p;try{return ee.p=o,c()}finally{ee.p=h}}var js=Math.random().toString(36).slice(2),Rn="__reactFiber$"+js,cr="__reactProps$"+js,ca="__reactContainer$"+js,ld="__reactEvents$"+js,e_="__reactListeners$"+js,Zg="__reactHandles$"+js,Jg="__reactResources$"+js,ua="__reactMarker$"+js;function cd(o){delete o[Rn],delete o[cr],delete o[ld],delete o[e_],delete o[Zg]}function da(o){var c=o[Rn];if(c)return c;for(var h=o.parentNode;h;){if(c=h[ca]||h[Rn]){if(h=c.alternate,c.child!==null||h!==null&&h.child!==null)for(o=QR(o);o!==null;){if(h=o[Rn])return h;o=QR(o)}return c}o=h,h=o.parentNode}return null}function es(o){if(o=o[Rn]||o[ca]){var c=o.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return o}return null}function Oi(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o.stateNode;throw Error(r(33))}function fa(o){var c=o[Jg];return c||(c=o[Jg]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function kn(o){o[ua]=!0}var Th=new Set,Ah={};function ha(o,c){ma(o,c),ma(o+"Capture",c)}function ma(o,c){for(Ah[o]=c,o=0;o<c.length;o++)Th.add(c[o])}var Nh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ch={},Ph={};function e0(o){return xt.call(Ph,o)?!0:xt.call(Ch,o)?!1:Nh.test(o)?Ph[o]=!0:(Ch[o]=!0,!1)}function ud(o,c,h){if(e0(c))if(h===null)o.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":o.removeAttribute(c);return;case"boolean":var g=c.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){o.removeAttribute(c);return}}o.setAttribute(c,""+h)}}function ji(o,c,h){if(h===null)o.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(c);return}o.setAttribute(c,""+h)}}function Mn(o,c,h,g){if(g===null)o.removeAttribute(h);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(h);return}o.setAttributeNS(c,h,""+g)}}function ur(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function al(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Ih(o,c,h){var g=Object.getOwnPropertyDescriptor(o.constructor.prototype,c);if(!o.hasOwnProperty(c)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var x=g.get,S=g.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return x.call(this)},set:function(I){h=""+I,S.call(this,I)}}),Object.defineProperty(o,c,{enumerable:g.enumerable}),{getValue:function(){return h},setValue:function(I){h=""+I},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function Ot(o){if(!o._valueTracker){var c=al(o)?"checked":"value";o._valueTracker=Ih(o,c,""+o[c])}}function Lc(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var h=c.getValue(),g="";return o&&(g=al(o)?o.checked?"true":"false":o.value),o=g,o!==h?(c.setValue(o),!0):!1}function pa(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var Vc=/[\n"\\]/g;function hi(o){return o.replace(Vc,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function dd(o,c,h,g,x,S,I,U){o.name="",I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?o.type=I:o.removeAttribute("type"),c!=null?I==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+ur(c)):o.value!==""+ur(c)&&(o.value=""+ur(c)):I!=="submit"&&I!=="reset"||o.removeAttribute("value"),c!=null?Oh(o,I,ur(c)):h!=null?Oh(o,I,ur(h)):g!=null&&o.removeAttribute("value"),x==null&&S!=null&&(o.defaultChecked=!!S),x!=null&&(o.checked=x&&typeof x!="function"&&typeof x!="symbol"),U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"?o.name=""+ur(U):o.removeAttribute("name")}function t0(o,c,h,g,x,S,I,U){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(o.type=S),c!=null||h!=null){if(!(S!=="submit"&&S!=="reset"||c!=null)){Ot(o);return}h=h!=null?""+ur(h):"",c=c!=null?""+ur(c):h,U||c===o.value||(o.value=c),o.defaultValue=c}g=g??x,g=typeof g!="function"&&typeof g!="symbol"&&!!g,o.checked=U?o.checked:!!g,o.defaultChecked=!!g,I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(o.name=I),Ot(o)}function Oh(o,c,h){c==="number"&&pa(o.ownerDocument)===o||o.defaultValue===""+h||(o.defaultValue=""+h)}function ol(o,c,h,g){if(o=o.options,c){c={};for(var x=0;x<h.length;x++)c["$"+h[x]]=!0;for(h=0;h<o.length;h++)x=c.hasOwnProperty("$"+o[h].value),o[h].selected!==x&&(o[h].selected=x),x&&g&&(o[h].defaultSelected=!0)}else{for(h=""+ur(h),c=null,x=0;x<o.length;x++){if(o[x].value===h){o[x].selected=!0,g&&(o[x].defaultSelected=!0);return}c!==null||o[x].disabled||(c=o[x])}c!==null&&(c.selected=!0)}}function n0(o,c,h){if(c!=null&&(c=""+ur(c),c!==o.value&&(o.value=c),h==null)){o.defaultValue!==c&&(o.defaultValue=c);return}o.defaultValue=h!=null?""+ur(h):""}function ll(o,c,h,g){if(c==null){if(g!=null){if(h!=null)throw Error(r(92));if(be(g)){if(1<g.length)throw Error(r(93));g=g[0]}h=g}h==null&&(h=""),c=h}h=ur(c),o.defaultValue=h,g=o.textContent,g===h&&g!==""&&g!==null&&(o.value=g),Ot(o)}function mi(o,c){if(c){var h=o.firstChild;if(h&&h===o.lastChild&&h.nodeType===3){h.nodeValue=c;return}}o.textContent=c}var r0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jh(o,c,h){var g=c.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?g?o.setProperty(c,""):c==="float"?o.cssFloat="":o[c]="":g?o.setProperty(c,h):typeof h!="number"||h===0||r0.has(c)?c==="float"?o.cssFloat=h:o[c]=(""+h).trim():o[c]=h+"px"}function Rh(o,c,h){if(c!=null&&typeof c!="object")throw Error(r(62));if(o=o.style,h!=null){for(var g in h)!h.hasOwnProperty(g)||c!=null&&c.hasOwnProperty(g)||(g.indexOf("--")===0?o.setProperty(g,""):g==="float"?o.cssFloat="":o[g]="");for(var x in c)g=c[x],c.hasOwnProperty(x)&&h[x]!==g&&jh(o,x,g)}else for(var S in c)c.hasOwnProperty(S)&&jh(o,S,c[S])}function fd(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var i0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),cl=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function hd(o){return cl.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function Rs(){}var kh=null;function ts(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var ul=null,ga=null;function Uc(o){var c=es(o);if(c&&(o=c.stateNode)){var h=o[cr]||null;e:switch(o=c.stateNode,c.type){case"input":if(dd(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),c=h.name,h.type==="radio"&&c!=null){for(h=o;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+hi(""+c)+'"][type="radio"]'),c=0;c<h.length;c++){var g=h[c];if(g!==o&&g.form===o.form){var x=g[cr]||null;if(!x)throw Error(r(90));dd(g,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(c=0;c<h.length;c++)g=h[c],g.form===o.form&&Lc(g)}break e;case"textarea":n0(o,h.value,h.defaultValue);break e;case"select":c=h.value,c!=null&&ol(o,!!h.multiple,c,!1)}}}var md=!1;function dl(o,c,h){if(md)return o(c,h);md=!0;try{var g=o(c);return g}finally{if(md=!1,(ul!==null||ga!==null)&&(Q0(),ul&&(c=ul,o=ga,ga=ul=null,Uc(c),o)))for(c=0;c<o.length;c++)Uc(o[c])}}function ks(o,c){var h=o.stateNode;if(h===null)return null;var g=h[cr]||null;if(g===null)return null;h=g[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(o=o.type,g=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!g;break e;default:o=!1}if(o)return null;if(h&&typeof h!="function")throw Error(r(231,c,typeof h));return h}var ns=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zc=!1;if(ns)try{var Vt={};Object.defineProperty(Vt,"passive",{get:function(){zc=!0}}),window.addEventListener("test",Vt,Vt),window.removeEventListener("test",Vt,Vt)}catch{zc=!1}var ya=null,Mh=null,Bc=null;function Dh(){if(Bc)return Bc;var o,c=Mh,h=c.length,g,x="value"in ya?ya.value:ya.textContent,S=x.length;for(o=0;o<h&&c[o]===x[o];o++);var I=h-o;for(g=1;g<=I&&c[h-g]===x[S-g];g++);return Bc=x.slice(o,1<g?1-g:void 0)}function Fc(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function Za(){return!0}function Ms(){return!1}function Er(o){function c(h,g,x,S,I){this._reactName=h,this._targetInst=x,this.type=g,this.nativeEvent=S,this.target=I,this.currentTarget=null;for(var U in o)o.hasOwnProperty(U)&&(h=o[U],this[U]=h?h(S):S[U]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?Za:Ms,this.isPropagationStopped=Ms,this}return m(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Za)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Za)},persist:function(){},isPersistent:Za}),c}var Ja={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},va=Er(Ja),fl=m({},Ja,{view:0,detail:0}),Lh=Er(fl),hl,pd,ba,gd=m({},fl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ml,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==ba&&(ba&&o.type==="mousemove"?(hl=o.screenX-ba.screenX,pd=o.screenY-ba.screenY):pd=hl=0,ba=o),hl)},movementY:function(o){return"movementY"in o?o.movementY:pd}}),Vh=Er(gd),$c=m({},gd,{dataTransfer:0}),s0=Er($c),a0=m({},fl,{relatedTarget:0}),qc=Er(a0),Uh=m({},Ja,{animationName:0,elapsedTime:0,pseudoElement:0}),o0=Er(Uh),yd=m({},Ja,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),l0=Er(yd),c0=m({},Ja,{data:0}),xa=Er(c0),u0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},d0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},f0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function h0(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=f0[o])?!!c[o]:!1}function ml(){return h0}var Xr=m({},fl,{key:function(o){if(o.key){var c=u0[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=Fc(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?d0[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ml,charCode:function(o){return o.type==="keypress"?Fc(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Fc(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),m0=Er(Xr),p0=m({},gd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),eo=Er(p0),b=m({},fl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ml}),N=Er(b),O=m({},Ja,{propertyName:0,elapsedTime:0,pseudoElement:0}),F=Er(O),J=m({},gd,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),ae=Er(J),we=m({},Ja,{newState:0,oldState:0}),Xe=Er(we),Tn=[9,13,27,32],wt=ns&&"CompositionEvent"in window,nn=null;ns&&"documentMode"in document&&(nn=document.documentMode);var rs=ns&&"TextEvent"in window&&!nn,wa=ns&&(!wt||nn&&8<nn&&11>=nn),Ds=" ",Ls=!1;function Hc(o,c){switch(o){case"keyup":return Tn.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vd(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var bd=!1;function qG(o,c){switch(o){case"compositionend":return vd(c);case"keypress":return c.which!==32?null:(Ls=!0,Ds);case"textInput":return o=c.data,o===Ds&&Ls?null:o;default:return null}}function HG(o,c){if(bd)return o==="compositionend"||!wt&&Hc(o,c)?(o=Dh(),Bc=Mh=ya=null,bd=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return wa&&c.locale!=="ko"?null:c.data;default:return null}}var WG={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function eO(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!WG[o.type]:c==="textarea"}function tO(o,c,h,g){ul?ga?ga.push(g):ga=[g]:ul=g,c=iy(c,"onChange"),0<c.length&&(h=new va("onChange","change",null,h,g),o.push({event:h,listeners:c}))}var zh=null,Bh=null;function KG(o){LR(o,0)}function g0(o){var c=Oi(o);if(Lc(c))return o}function nO(o,c){if(o==="change")return c}var rO=!1;if(ns){var t_;if(ns){var n_="oninput"in document;if(!n_){var iO=document.createElement("div");iO.setAttribute("oninput","return;"),n_=typeof iO.oninput=="function"}t_=n_}else t_=!1;rO=t_&&(!document.documentMode||9<document.documentMode)}function sO(){zh&&(zh.detachEvent("onpropertychange",aO),Bh=zh=null)}function aO(o){if(o.propertyName==="value"&&g0(Bh)){var c=[];tO(c,Bh,o,ts(o)),dl(KG,c)}}function GG(o,c,h){o==="focusin"?(sO(),zh=c,Bh=h,zh.attachEvent("onpropertychange",aO)):o==="focusout"&&sO()}function YG(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return g0(Bh)}function XG(o,c){if(o==="click")return g0(c)}function QG(o,c){if(o==="input"||o==="change")return g0(c)}function ZG(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var Ri=typeof Object.is=="function"?Object.is:ZG;function Fh(o,c){if(Ri(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var h=Object.keys(o),g=Object.keys(c);if(h.length!==g.length)return!1;for(g=0;g<h.length;g++){var x=h[g];if(!xt.call(c,x)||!Ri(o[x],c[x]))return!1}return!0}function oO(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function lO(o,c){var h=oO(o);o=0;for(var g;h;){if(h.nodeType===3){if(g=o+h.textContent.length,o<=c&&g>=c)return{node:h,offset:c-o};o=g}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=oO(h)}}function cO(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?cO(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function uO(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var c=pa(o.document);c instanceof o.HTMLIFrameElement;){try{var h=typeof c.contentWindow.location.href=="string"}catch{h=!1}if(h)o=c.contentWindow;else break;c=pa(o.document)}return c}function r_(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}var JG=ns&&"documentMode"in document&&11>=document.documentMode,xd=null,i_=null,$h=null,s_=!1;function dO(o,c,h){var g=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;s_||xd==null||xd!==pa(g)||(g=xd,"selectionStart"in g&&r_(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),$h&&Fh($h,g)||($h=g,g=iy(i_,"onSelect"),0<g.length&&(c=new va("onSelect","select",null,c,h),o.push({event:c,listeners:g}),c.target=xd)))}function Wc(o,c){var h={};return h[o.toLowerCase()]=c.toLowerCase(),h["Webkit"+o]="webkit"+c,h["Moz"+o]="moz"+c,h}var wd={animationend:Wc("Animation","AnimationEnd"),animationiteration:Wc("Animation","AnimationIteration"),animationstart:Wc("Animation","AnimationStart"),transitionrun:Wc("Transition","TransitionRun"),transitionstart:Wc("Transition","TransitionStart"),transitioncancel:Wc("Transition","TransitionCancel"),transitionend:Wc("Transition","TransitionEnd")},a_={},fO={};ns&&(fO=document.createElement("div").style,"AnimationEvent"in window||(delete wd.animationend.animation,delete wd.animationiteration.animation,delete wd.animationstart.animation),"TransitionEvent"in window||delete wd.transitionend.transition);function Kc(o){if(a_[o])return a_[o];if(!wd[o])return o;var c=wd[o],h;for(h in c)if(c.hasOwnProperty(h)&&h in fO)return a_[o]=c[h];return o}var hO=Kc("animationend"),mO=Kc("animationiteration"),pO=Kc("animationstart"),eY=Kc("transitionrun"),tY=Kc("transitionstart"),nY=Kc("transitioncancel"),gO=Kc("transitionend"),yO=new Map,o_="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");o_.push("scrollEnd");function Vs(o,c){yO.set(o,c),ha(c,[o])}var y0=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},is=[],_d=0,l_=0;function v0(){for(var o=_d,c=l_=_d=0;c<o;){var h=is[c];is[c++]=null;var g=is[c];is[c++]=null;var x=is[c];is[c++]=null;var S=is[c];if(is[c++]=null,g!==null&&x!==null){var I=g.pending;I===null?x.next=x:(x.next=I.next,I.next=x),g.pending=x}S!==0&&vO(h,x,S)}}function b0(o,c,h,g){is[_d++]=o,is[_d++]=c,is[_d++]=h,is[_d++]=g,l_|=g,o.lanes|=g,o=o.alternate,o!==null&&(o.lanes|=g)}function c_(o,c,h,g){return b0(o,c,h,g),x0(o)}function Gc(o,c){return b0(o,null,null,c),x0(o)}function vO(o,c,h){o.lanes|=h;var g=o.alternate;g!==null&&(g.lanes|=h);for(var x=!1,S=o.return;S!==null;)S.childLanes|=h,g=S.alternate,g!==null&&(g.childLanes|=h),S.tag===22&&(o=S.stateNode,o===null||o._visibility&1||(x=!0)),o=S,S=S.return;return o.tag===3?(S=o.stateNode,x&&c!==null&&(x=31-dt(h),o=S.hiddenUpdates,g=o[x],g===null?o[x]=[c]:g.push(c),c.lane=h|536870912),S):null}function x0(o){if(50<dm)throw dm=0,v1=null,Error(r(185));for(var c=o.return;c!==null;)o=c,c=o.return;return o.tag===3?o.stateNode:null}var Ed={};function rY(o,c,h,g){this.tag=o,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ki(o,c,h,g){return new rY(o,c,h,g)}function u_(o){return o=o.prototype,!(!o||!o.isReactComponent)}function to(o,c){var h=o.alternate;return h===null?(h=ki(o.tag,c,o.key,o.mode),h.elementType=o.elementType,h.type=o.type,h.stateNode=o.stateNode,h.alternate=o,o.alternate=h):(h.pendingProps=c,h.type=o.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=o.flags&65011712,h.childLanes=o.childLanes,h.lanes=o.lanes,h.child=o.child,h.memoizedProps=o.memoizedProps,h.memoizedState=o.memoizedState,h.updateQueue=o.updateQueue,c=o.dependencies,h.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},h.sibling=o.sibling,h.index=o.index,h.ref=o.ref,h.refCleanup=o.refCleanup,h}function bO(o,c){o.flags&=65011714;var h=o.alternate;return h===null?(o.childLanes=0,o.lanes=c,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=h.childLanes,o.lanes=h.lanes,o.child=h.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=h.memoizedProps,o.memoizedState=h.memoizedState,o.updateQueue=h.updateQueue,o.type=h.type,c=h.dependencies,o.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),o}function w0(o,c,h,g,x,S){var I=0;if(g=o,typeof o=="function")u_(o)&&(I=1);else if(typeof o=="string")I=lX(o,h,ce.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case D:return o=ki(31,h,c,x),o.elementType=D,o.lanes=S,o;case E:return Yc(h.children,x,S,c);case w:I=8,x|=24;break;case A:return o=ki(12,h,c,x|2),o.elementType=A,o.lanes=S,o;case M:return o=ki(13,h,c,x),o.elementType=M,o.lanes=S,o;case z:return o=ki(19,h,c,x),o.elementType=z,o.lanes=S,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case P:I=10;break e;case C:I=9;break e;case L:I=11;break e;case j:I=14;break e;case R:I=16,g=null;break e}I=29,h=Error(r(130,o===null?"null":typeof o,"")),g=null}return c=ki(I,h,c,x),c.elementType=o,c.type=g,c.lanes=S,c}function Yc(o,c,h,g){return o=ki(7,o,g,c),o.lanes=h,o}function d_(o,c,h){return o=ki(6,o,null,c),o.lanes=h,o}function xO(o){var c=ki(18,null,null,0);return c.stateNode=o,c}function f_(o,c,h){return c=ki(4,o.children!==null?o.children:[],o.key,c),c.lanes=h,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}var wO=new WeakMap;function ss(o,c){if(typeof o=="object"&&o!==null){var h=wO.get(o);return h!==void 0?h:(c={value:o,source:c,stack:Gt(c)},wO.set(o,c),c)}return{value:o,source:c,stack:Gt(c)}}var Sd=[],Td=0,_0=null,qh=0,as=[],os=0,pl=null,_a=1,Ea="";function no(o,c){Sd[Td++]=qh,Sd[Td++]=_0,_0=o,qh=c}function _O(o,c,h){as[os++]=_a,as[os++]=Ea,as[os++]=pl,pl=o;var g=_a;o=Ea;var x=32-dt(g)-1;g&=~(1<<x),h+=1;var S=32-dt(c)+x;if(30<S){var I=x-x%5;S=(g&(1<<I)-1).toString(32),g>>=I,x-=I,_a=1<<32-dt(c)+x|h<<x|g,Ea=S+o}else _a=1<<S|h<<x|g,Ea=o}function h_(o){o.return!==null&&(no(o,1),_O(o,1,0))}function m_(o){for(;o===_0;)_0=Sd[--Td],Sd[Td]=null,qh=Sd[--Td],Sd[Td]=null;for(;o===pl;)pl=as[--os],as[os]=null,Ea=as[--os],as[os]=null,_a=as[--os],as[os]=null}function EO(o,c){as[os++]=_a,as[os++]=Ea,as[os++]=pl,_a=c.id,Ea=c.overflow,pl=o}var Sr=null,Yt=null,ut=!1,gl=null,ls=!1,p_=Error(r(519));function yl(o){var c=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Hh(ss(c,o)),p_}function SO(o){var c=o.stateNode,h=o.type,g=o.memoizedProps;switch(c[Rn]=o,c[cr]=g,h){case"dialog":nt("cancel",c),nt("close",c);break;case"iframe":case"object":case"embed":nt("load",c);break;case"video":case"audio":for(h=0;h<hm.length;h++)nt(hm[h],c);break;case"source":nt("error",c);break;case"img":case"image":case"link":nt("error",c),nt("load",c);break;case"details":nt("toggle",c);break;case"input":nt("invalid",c),t0(c,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0);break;case"select":nt("invalid",c);break;case"textarea":nt("invalid",c),ll(c,g.value,g.defaultValue,g.children)}h=g.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||c.textContent===""+h||g.suppressHydrationWarning===!0||BR(c.textContent,h)?(g.popover!=null&&(nt("beforetoggle",c),nt("toggle",c)),g.onScroll!=null&&nt("scroll",c),g.onScrollEnd!=null&&nt("scrollend",c),g.onClick!=null&&(c.onclick=Rs),c=!0):c=!1,c||yl(o,!0)}function TO(o){for(Sr=o.return;Sr;)switch(Sr.tag){case 5:case 31:case 13:ls=!1;return;case 27:case 3:ls=!0;return;default:Sr=Sr.return}}function Ad(o){if(o!==Sr)return!1;if(!ut)return TO(o),ut=!0,!1;var c=o.tag,h;if((h=c!==3&&c!==27)&&((h=c===5)&&(h=o.type,h=!(h!=="form"&&h!=="button")||R1(o.type,o.memoizedProps)),h=!h),h&&Yt&&yl(o),TO(o),c===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));Yt=XR(o)}else if(c===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));Yt=XR(o)}else c===27?(c=Yt,Ol(o.type)?(o=V1,V1=null,Yt=o):Yt=c):Yt=Sr?us(o.stateNode.nextSibling):null;return!0}function Xc(){Yt=Sr=null,ut=!1}function g_(){var o=gl;return o!==null&&(vi===null?vi=o:vi.push.apply(vi,o),gl=null),o}function Hh(o){gl===null?gl=[o]:gl.push(o)}var y_=k(null),Qc=null,ro=null;function vl(o,c,h){re(y_,c._currentValue),c._currentValue=h}function io(o){o._currentValue=y_.current,K(y_)}function v_(o,c,h){for(;o!==null;){var g=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,g!==null&&(g.childLanes|=c)):g!==null&&(g.childLanes&c)!==c&&(g.childLanes|=c),o===h)break;o=o.return}}function b_(o,c,h,g){var x=o.child;for(x!==null&&(x.return=o);x!==null;){var S=x.dependencies;if(S!==null){var I=x.child;S=S.firstContext;e:for(;S!==null;){var U=S;S=x;for(var W=0;W<c.length;W++)if(U.context===c[W]){S.lanes|=h,U=S.alternate,U!==null&&(U.lanes|=h),v_(S.return,h,o),g||(I=null);break e}S=U.next}}else if(x.tag===18){if(I=x.return,I===null)throw Error(r(341));I.lanes|=h,S=I.alternate,S!==null&&(S.lanes|=h),v_(I,h,o),I=null}else I=x.child;if(I!==null)I.return=x;else for(I=x;I!==null;){if(I===o){I=null;break}if(x=I.sibling,x!==null){x.return=I.return,I=x;break}I=I.return}x=I}}function Nd(o,c,h,g){o=null;for(var x=c,S=!1;x!==null;){if(!S){if((x.flags&524288)!==0)S=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var I=x.alternate;if(I===null)throw Error(r(387));if(I=I.memoizedProps,I!==null){var U=x.type;Ri(x.pendingProps.value,I.value)||(o!==null?o.push(U):o=[U])}}else if(x===de.current){if(I=x.alternate,I===null)throw Error(r(387));I.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(o!==null?o.push(vm):o=[vm])}x=x.return}o!==null&&b_(c,o,h,g),c.flags|=262144}function E0(o){for(o=o.firstContext;o!==null;){if(!Ri(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function Zc(o){Qc=o,ro=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Tr(o){return AO(Qc,o)}function S0(o,c){return Qc===null&&Zc(o),AO(o,c)}function AO(o,c){var h=c._currentValue;if(c={context:c,memoizedValue:h,next:null},ro===null){if(o===null)throw Error(r(308));ro=c,o.dependencies={lanes:0,firstContext:c},o.flags|=524288}else ro=ro.next=c;return h}var iY=typeof AbortController<"u"?AbortController:function(){var o=[],c=this.signal={aborted:!1,addEventListener:function(h,g){o.push(g)}};this.abort=function(){c.aborted=!0,o.forEach(function(h){return h()})}},sY=t.unstable_scheduleCallback,aY=t.unstable_NormalPriority,Dn={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function x_(){return{controller:new iY,data:new Map,refCount:0}}function Wh(o){o.refCount--,o.refCount===0&&sY(aY,function(){o.controller.abort()})}var Kh=null,w_=0,Cd=0,Pd=null;function oY(o,c){if(Kh===null){var h=Kh=[];w_=0,Cd=S1(),Pd={status:"pending",value:void 0,then:function(g){h.push(g)}}}return w_++,c.then(NO,NO),c}function NO(){if(--w_===0&&Kh!==null){Pd!==null&&(Pd.status="fulfilled");var o=Kh;Kh=null,Cd=0,Pd=null;for(var c=0;c<o.length;c++)(0,o[c])()}}function lY(o,c){var h=[],g={status:"pending",value:null,reason:null,then:function(x){h.push(x)}};return o.then(function(){g.status="fulfilled",g.value=c;for(var x=0;x<h.length;x++)(0,h[x])(c)},function(x){for(g.status="rejected",g.reason=x,x=0;x<h.length;x++)(0,h[x])(void 0)}),g}var CO=X.S;X.S=function(o,c){dR=Ie(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&oY(o,c),CO!==null&&CO(o,c)};var Jc=k(null);function __(){var o=Jc.current;return o!==null?o:qt.pooledCache}function T0(o,c){c===null?re(Jc,Jc.current):re(Jc,c.pool)}function PO(){var o=__();return o===null?null:{parent:Dn._currentValue,pool:o}}var Id=Error(r(460)),E_=Error(r(474)),A0=Error(r(542)),N0={then:function(){}};function IO(o){return o=o.status,o==="fulfilled"||o==="rejected"}function OO(o,c,h){switch(h=o[h],h===void 0?o.push(c):h!==c&&(c.then(Rs,Rs),c=h),c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,RO(o),o;default:if(typeof c.status=="string")c.then(Rs,Rs);else{if(o=qt,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=c,o.status="pending",o.then(function(g){if(c.status==="pending"){var x=c;x.status="fulfilled",x.value=g}},function(g){if(c.status==="pending"){var x=c;x.status="rejected",x.reason=g}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,RO(o),o}throw tu=c,Id}}function eu(o){try{var c=o._init;return c(o._payload)}catch(h){throw h!==null&&typeof h=="object"&&typeof h.then=="function"?(tu=h,Id):h}}var tu=null;function jO(){if(tu===null)throw Error(r(459));var o=tu;return tu=null,o}function RO(o){if(o===Id||o===A0)throw Error(r(483))}var Od=null,Gh=0;function C0(o){var c=Gh;return Gh+=1,Od===null&&(Od=[]),OO(Od,o,c)}function Yh(o,c){c=c.props.ref,o.ref=c!==void 0?c:null}function P0(o,c){throw c.$$typeof===y?Error(r(525)):(o=Object.prototype.toString.call(c),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o)))}function kO(o){function c(Q,G){if(o){var te=Q.deletions;te===null?(Q.deletions=[G],Q.flags|=16):te.push(G)}}function h(Q,G){if(!o)return null;for(;G!==null;)c(Q,G),G=G.sibling;return null}function g(Q){for(var G=new Map;Q!==null;)Q.key!==null?G.set(Q.key,Q):G.set(Q.index,Q),Q=Q.sibling;return G}function x(Q,G){return Q=to(Q,G),Q.index=0,Q.sibling=null,Q}function S(Q,G,te){return Q.index=te,o?(te=Q.alternate,te!==null?(te=te.index,te<G?(Q.flags|=67108866,G):te):(Q.flags|=67108866,G)):(Q.flags|=1048576,G)}function I(Q){return o&&Q.alternate===null&&(Q.flags|=67108866),Q}function U(Q,G,te,me){return G===null||G.tag!==6?(G=d_(te,Q.mode,me),G.return=Q,G):(G=x(G,te),G.return=Q,G)}function W(Q,G,te,me){var Ve=te.type;return Ve===E?ue(Q,G,te.props.children,me,te.key):G!==null&&(G.elementType===Ve||typeof Ve=="object"&&Ve!==null&&Ve.$$typeof===R&&eu(Ve)===G.type)?(G=x(G,te.props),Yh(G,te),G.return=Q,G):(G=w0(te.type,te.key,te.props,null,Q.mode,me),Yh(G,te),G.return=Q,G)}function ne(Q,G,te,me){return G===null||G.tag!==4||G.stateNode.containerInfo!==te.containerInfo||G.stateNode.implementation!==te.implementation?(G=f_(te,Q.mode,me),G.return=Q,G):(G=x(G,te.children||[]),G.return=Q,G)}function ue(Q,G,te,me,Ve){return G===null||G.tag!==7?(G=Yc(te,Q.mode,me,Ve),G.return=Q,G):(G=x(G,te),G.return=Q,G)}function ge(Q,G,te){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=d_(""+G,Q.mode,te),G.return=Q,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case v:return te=w0(G.type,G.key,G.props,null,Q.mode,te),Yh(te,G),te.return=Q,te;case _:return G=f_(G,Q.mode,te),G.return=Q,G;case R:return G=eu(G),ge(Q,G,te)}if(be(G)||$(G))return G=Yc(G,Q.mode,te,null),G.return=Q,G;if(typeof G.then=="function")return ge(Q,C0(G),te);if(G.$$typeof===P)return ge(Q,S0(Q,G),te);P0(Q,G)}return null}function ie(Q,G,te,me){var Ve=G!==null?G.key:null;if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return Ve!==null?null:U(Q,G,""+te,me);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case v:return te.key===Ve?W(Q,G,te,me):null;case _:return te.key===Ve?ne(Q,G,te,me):null;case R:return te=eu(te),ie(Q,G,te,me)}if(be(te)||$(te))return Ve!==null?null:ue(Q,G,te,me,null);if(typeof te.then=="function")return ie(Q,G,C0(te),me);if(te.$$typeof===P)return ie(Q,G,S0(Q,te),me);P0(Q,te)}return null}function le(Q,G,te,me,Ve){if(typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint")return Q=Q.get(te)||null,U(G,Q,""+me,Ve);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case v:return Q=Q.get(me.key===null?te:me.key)||null,W(G,Q,me,Ve);case _:return Q=Q.get(me.key===null?te:me.key)||null,ne(G,Q,me,Ve);case R:return me=eu(me),le(Q,G,te,me,Ve)}if(be(me)||$(me))return Q=Q.get(te)||null,ue(G,Q,me,Ve,null);if(typeof me.then=="function")return le(Q,G,te,C0(me),Ve);if(me.$$typeof===P)return le(Q,G,te,S0(G,me),Ve);P0(G,me)}return null}function Pe(Q,G,te,me){for(var Ve=null,gt=null,Oe=G,Je=G=0,at=null;Oe!==null&&Je<te.length;Je++){Oe.index>Je?(at=Oe,Oe=null):at=Oe.sibling;var yt=ie(Q,Oe,te[Je],me);if(yt===null){Oe===null&&(Oe=at);break}o&&Oe&&yt.alternate===null&&c(Q,Oe),G=S(yt,G,Je),gt===null?Ve=yt:gt.sibling=yt,gt=yt,Oe=at}if(Je===te.length)return h(Q,Oe),ut&&no(Q,Je),Ve;if(Oe===null){for(;Je<te.length;Je++)Oe=ge(Q,te[Je],me),Oe!==null&&(G=S(Oe,G,Je),gt===null?Ve=Oe:gt.sibling=Oe,gt=Oe);return ut&&no(Q,Je),Ve}for(Oe=g(Oe);Je<te.length;Je++)at=le(Oe,Q,Je,te[Je],me),at!==null&&(o&&at.alternate!==null&&Oe.delete(at.key===null?Je:at.key),G=S(at,G,Je),gt===null?Ve=at:gt.sibling=at,gt=at);return o&&Oe.forEach(function(Dl){return c(Q,Dl)}),ut&&no(Q,Je),Ve}function Ue(Q,G,te,me){if(te==null)throw Error(r(151));for(var Ve=null,gt=null,Oe=G,Je=G=0,at=null,yt=te.next();Oe!==null&&!yt.done;Je++,yt=te.next()){Oe.index>Je?(at=Oe,Oe=null):at=Oe.sibling;var Dl=ie(Q,Oe,yt.value,me);if(Dl===null){Oe===null&&(Oe=at);break}o&&Oe&&Dl.alternate===null&&c(Q,Oe),G=S(Dl,G,Je),gt===null?Ve=Dl:gt.sibling=Dl,gt=Dl,Oe=at}if(yt.done)return h(Q,Oe),ut&&no(Q,Je),Ve;if(Oe===null){for(;!yt.done;Je++,yt=te.next())yt=ge(Q,yt.value,me),yt!==null&&(G=S(yt,G,Je),gt===null?Ve=yt:gt.sibling=yt,gt=yt);return ut&&no(Q,Je),Ve}for(Oe=g(Oe);!yt.done;Je++,yt=te.next())yt=le(Oe,Q,Je,yt.value,me),yt!==null&&(o&&yt.alternate!==null&&Oe.delete(yt.key===null?Je:yt.key),G=S(yt,G,Je),gt===null?Ve=yt:gt.sibling=yt,gt=yt);return o&&Oe.forEach(function(bX){return c(Q,bX)}),ut&&no(Q,Je),Ve}function Bt(Q,G,te,me){if(typeof te=="object"&&te!==null&&te.type===E&&te.key===null&&(te=te.props.children),typeof te=="object"&&te!==null){switch(te.$$typeof){case v:e:{for(var Ve=te.key;G!==null;){if(G.key===Ve){if(Ve=te.type,Ve===E){if(G.tag===7){h(Q,G.sibling),me=x(G,te.props.children),me.return=Q,Q=me;break e}}else if(G.elementType===Ve||typeof Ve=="object"&&Ve!==null&&Ve.$$typeof===R&&eu(Ve)===G.type){h(Q,G.sibling),me=x(G,te.props),Yh(me,te),me.return=Q,Q=me;break e}h(Q,G);break}else c(Q,G);G=G.sibling}te.type===E?(me=Yc(te.props.children,Q.mode,me,te.key),me.return=Q,Q=me):(me=w0(te.type,te.key,te.props,null,Q.mode,me),Yh(me,te),me.return=Q,Q=me)}return I(Q);case _:e:{for(Ve=te.key;G!==null;){if(G.key===Ve)if(G.tag===4&&G.stateNode.containerInfo===te.containerInfo&&G.stateNode.implementation===te.implementation){h(Q,G.sibling),me=x(G,te.children||[]),me.return=Q,Q=me;break e}else{h(Q,G);break}else c(Q,G);G=G.sibling}me=f_(te,Q.mode,me),me.return=Q,Q=me}return I(Q);case R:return te=eu(te),Bt(Q,G,te,me)}if(be(te))return Pe(Q,G,te,me);if($(te)){if(Ve=$(te),typeof Ve!="function")throw Error(r(150));return te=Ve.call(te),Ue(Q,G,te,me)}if(typeof te.then=="function")return Bt(Q,G,C0(te),me);if(te.$$typeof===P)return Bt(Q,G,S0(Q,te),me);P0(Q,te)}return typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint"?(te=""+te,G!==null&&G.tag===6?(h(Q,G.sibling),me=x(G,te),me.return=Q,Q=me):(h(Q,G),me=d_(te,Q.mode,me),me.return=Q,Q=me),I(Q)):h(Q,G)}return function(Q,G,te,me){try{Gh=0;var Ve=Bt(Q,G,te,me);return Od=null,Ve}catch(Oe){if(Oe===Id||Oe===A0)throw Oe;var gt=ki(29,Oe,null,Q.mode);return gt.lanes=me,gt.return=Q,gt}finally{}}}var nu=kO(!0),MO=kO(!1),bl=!1;function S_(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function T_(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function xl(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function wl(o,c,h){var g=o.updateQueue;if(g===null)return null;if(g=g.shared,(_t&2)!==0){var x=g.pending;return x===null?c.next=c:(c.next=x.next,x.next=c),g.pending=c,c=x0(o),vO(o,null,h),c}return b0(o,g,c,h),x0(o)}function Xh(o,c,h){if(c=c.updateQueue,c!==null&&(c=c.shared,(h&4194048)!==0)){var g=c.lanes;g&=o.pendingLanes,h|=g,c.lanes=h,Eh(o,h)}}function A_(o,c){var h=o.updateQueue,g=o.alternate;if(g!==null&&(g=g.updateQueue,h===g)){var x=null,S=null;if(h=h.firstBaseUpdate,h!==null){do{var I={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};S===null?x=S=I:S=S.next=I,h=h.next}while(h!==null);S===null?x=S=c:S=S.next=c}else x=S=c;h={baseState:g.baseState,firstBaseUpdate:x,lastBaseUpdate:S,shared:g.shared,callbacks:g.callbacks},o.updateQueue=h;return}o=h.lastBaseUpdate,o===null?h.firstBaseUpdate=c:o.next=c,h.lastBaseUpdate=c}var N_=!1;function Qh(){if(N_){var o=Pd;if(o!==null)throw o}}function Zh(o,c,h,g){N_=!1;var x=o.updateQueue;bl=!1;var S=x.firstBaseUpdate,I=x.lastBaseUpdate,U=x.shared.pending;if(U!==null){x.shared.pending=null;var W=U,ne=W.next;W.next=null,I===null?S=ne:I.next=ne,I=W;var ue=o.alternate;ue!==null&&(ue=ue.updateQueue,U=ue.lastBaseUpdate,U!==I&&(U===null?ue.firstBaseUpdate=ne:U.next=ne,ue.lastBaseUpdate=W))}if(S!==null){var ge=x.baseState;I=0,ue=ne=W=null,U=S;do{var ie=U.lane&-536870913,le=ie!==U.lane;if(le?(st&ie)===ie:(g&ie)===ie){ie!==0&&ie===Cd&&(N_=!0),ue!==null&&(ue=ue.next={lane:0,tag:U.tag,payload:U.payload,callback:null,next:null});e:{var Pe=o,Ue=U;ie=c;var Bt=h;switch(Ue.tag){case 1:if(Pe=Ue.payload,typeof Pe=="function"){ge=Pe.call(Bt,ge,ie);break e}ge=Pe;break e;case 3:Pe.flags=Pe.flags&-65537|128;case 0:if(Pe=Ue.payload,ie=typeof Pe=="function"?Pe.call(Bt,ge,ie):Pe,ie==null)break e;ge=m({},ge,ie);break e;case 2:bl=!0}}ie=U.callback,ie!==null&&(o.flags|=64,le&&(o.flags|=8192),le=x.callbacks,le===null?x.callbacks=[ie]:le.push(ie))}else le={lane:ie,tag:U.tag,payload:U.payload,callback:U.callback,next:null},ue===null?(ne=ue=le,W=ge):ue=ue.next=le,I|=ie;if(U=U.next,U===null){if(U=x.shared.pending,U===null)break;le=U,U=le.next,le.next=null,x.lastBaseUpdate=le,x.shared.pending=null}}while(!0);ue===null&&(W=ge),x.baseState=W,x.firstBaseUpdate=ne,x.lastBaseUpdate=ue,S===null&&(x.shared.lanes=0),Al|=I,o.lanes=I,o.memoizedState=ge}}function DO(o,c){if(typeof o!="function")throw Error(r(191,o));o.call(c)}function LO(o,c){var h=o.callbacks;if(h!==null)for(o.callbacks=null,o=0;o<h.length;o++)DO(h[o],c)}var jd=k(null),I0=k(0);function VO(o,c){o=mo,re(I0,o),re(jd,c),mo=o|c.baseLanes}function C_(){re(I0,mo),re(jd,jd.current)}function P_(){mo=I0.current,K(jd),K(I0)}var Mi=k(null),cs=null;function _l(o){var c=o.alternate;re(An,An.current&1),re(Mi,o),cs===null&&(c===null||jd.current!==null||c.memoizedState!==null)&&(cs=o)}function I_(o){re(An,An.current),re(Mi,o),cs===null&&(cs=o)}function UO(o){o.tag===22?(re(An,An.current),re(Mi,o),cs===null&&(cs=o)):El()}function El(){re(An,An.current),re(Mi,Mi.current)}function Di(o){K(Mi),cs===o&&(cs=null),K(An)}var An=k(0);function O0(o){for(var c=o;c!==null;){if(c.tag===13){var h=c.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||D1(h)||L1(h)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var so=0,Qe=null,Ut=null,Ln=null,j0=!1,Rd=!1,ru=!1,R0=0,Jh=0,kd=null,cY=0;function yn(){throw Error(r(321))}function O_(o,c){if(c===null)return!1;for(var h=0;h<c.length&&h<o.length;h++)if(!Ri(o[h],c[h]))return!1;return!0}function j_(o,c,h,g,x,S){return so=S,Qe=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,X.H=o===null||o.memoizedState===null?_j:K_,ru=!1,S=h(g,x),ru=!1,Rd&&(S=BO(c,h,g,x)),zO(o),S}function zO(o){X.H=nm;var c=Ut!==null&&Ut.next!==null;if(so=0,Ln=Ut=Qe=null,j0=!1,Jh=0,kd=null,c)throw Error(r(300));o===null||Vn||(o=o.dependencies,o!==null&&E0(o)&&(Vn=!0))}function BO(o,c,h,g){Qe=o;var x=0;do{if(Rd&&(kd=null),Jh=0,Rd=!1,25<=x)throw Error(r(301));if(x+=1,Ln=Ut=null,o.updateQueue!=null){var S=o.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}X.H=Ej,S=c(h,g)}while(Rd);return S}function uY(){var o=X.H,c=o.useState()[0];return c=typeof c.then=="function"?em(c):c,o=o.useState()[0],(Ut!==null?Ut.memoizedState:null)!==o&&(Qe.flags|=1024),c}function R_(){var o=R0!==0;return R0=0,o}function k_(o,c,h){c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~h}function M_(o){if(j0){for(o=o.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}j0=!1}so=0,Ln=Ut=Qe=null,Rd=!1,Jh=R0=0,kd=null}function Qr(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ln===null?Qe.memoizedState=Ln=o:Ln=Ln.next=o,Ln}function Nn(){if(Ut===null){var o=Qe.alternate;o=o!==null?o.memoizedState:null}else o=Ut.next;var c=Ln===null?Qe.memoizedState:Ln.next;if(c!==null)Ln=c,Ut=o;else{if(o===null)throw Qe.alternate===null?Error(r(467)):Error(r(310));Ut=o,o={memoizedState:Ut.memoizedState,baseState:Ut.baseState,baseQueue:Ut.baseQueue,queue:Ut.queue,next:null},Ln===null?Qe.memoizedState=Ln=o:Ln=Ln.next=o}return Ln}function k0(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function em(o){var c=Jh;return Jh+=1,kd===null&&(kd=[]),o=OO(kd,o,c),c=Qe,(Ln===null?c.memoizedState:Ln.next)===null&&(c=c.alternate,X.H=c===null||c.memoizedState===null?_j:K_),o}function M0(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return em(o);if(o.$$typeof===P)return Tr(o)}throw Error(r(438,String(o)))}function D_(o){var c=null,h=Qe.updateQueue;if(h!==null&&(c=h.memoCache),c==null){var g=Qe.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(c={data:g.data.map(function(x){return x.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),h===null&&(h=k0(),Qe.updateQueue=h),h.memoCache=c,h=c.data[c.index],h===void 0)for(h=c.data[c.index]=Array(o),g=0;g<o;g++)h[g]=B;return c.index++,h}function ao(o,c){return typeof c=="function"?c(o):c}function D0(o){var c=Nn();return L_(c,Ut,o)}function L_(o,c,h){var g=o.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=h;var x=o.baseQueue,S=g.pending;if(S!==null){if(x!==null){var I=x.next;x.next=S.next,S.next=I}c.baseQueue=x=S,g.pending=null}if(S=o.baseState,x===null)o.memoizedState=S;else{c=x.next;var U=I=null,W=null,ne=c,ue=!1;do{var ge=ne.lane&-536870913;if(ge!==ne.lane?(st&ge)===ge:(so&ge)===ge){var ie=ne.revertLane;if(ie===0)W!==null&&(W=W.next={lane:0,revertLane:0,gesture:null,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null}),ge===Cd&&(ue=!0);else if((so&ie)===ie){ne=ne.next,ie===Cd&&(ue=!0);continue}else ge={lane:0,revertLane:ne.revertLane,gesture:null,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},W===null?(U=W=ge,I=S):W=W.next=ge,Qe.lanes|=ie,Al|=ie;ge=ne.action,ru&&h(S,ge),S=ne.hasEagerState?ne.eagerState:h(S,ge)}else ie={lane:ge,revertLane:ne.revertLane,gesture:ne.gesture,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},W===null?(U=W=ie,I=S):W=W.next=ie,Qe.lanes|=ge,Al|=ge;ne=ne.next}while(ne!==null&&ne!==c);if(W===null?I=S:W.next=U,!Ri(S,o.memoizedState)&&(Vn=!0,ue&&(h=Pd,h!==null)))throw h;o.memoizedState=S,o.baseState=I,o.baseQueue=W,g.lastRenderedState=S}return x===null&&(g.lanes=0),[o.memoizedState,g.dispatch]}function V_(o){var c=Nn(),h=c.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=o;var g=h.dispatch,x=h.pending,S=c.memoizedState;if(x!==null){h.pending=null;var I=x=x.next;do S=o(S,I.action),I=I.next;while(I!==x);Ri(S,c.memoizedState)||(Vn=!0),c.memoizedState=S,c.baseQueue===null&&(c.baseState=S),h.lastRenderedState=S}return[S,g]}function FO(o,c,h){var g=Qe,x=Nn(),S=ut;if(S){if(h===void 0)throw Error(r(407));h=h()}else h=c();var I=!Ri((Ut||x).memoizedState,h);if(I&&(x.memoizedState=h,Vn=!0),x=x.queue,B_(HO.bind(null,g,x,o),[o]),x.getSnapshot!==c||I||Ln!==null&&Ln.memoizedState.tag&1){if(g.flags|=2048,Md(9,{destroy:void 0},qO.bind(null,g,x,h,c),null),qt===null)throw Error(r(349));S||(so&127)!==0||$O(g,c,h)}return h}function $O(o,c,h){o.flags|=16384,o={getSnapshot:c,value:h},c=Qe.updateQueue,c===null?(c=k0(),Qe.updateQueue=c,c.stores=[o]):(h=c.stores,h===null?c.stores=[o]:h.push(o))}function qO(o,c,h,g){c.value=h,c.getSnapshot=g,WO(c)&&KO(o)}function HO(o,c,h){return h(function(){WO(c)&&KO(o)})}function WO(o){var c=o.getSnapshot;o=o.value;try{var h=c();return!Ri(o,h)}catch{return!0}}function KO(o){var c=Gc(o,2);c!==null&&bi(c,o,2)}function U_(o){var c=Qr();if(typeof o=="function"){var h=o;if(o=h(),ru){En(!0);try{h()}finally{En(!1)}}}return c.memoizedState=c.baseState=o,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ao,lastRenderedState:o},c}function GO(o,c,h,g){return o.baseState=h,L_(o,Ut,typeof g=="function"?g:ao)}function dY(o,c,h,g,x){if(U0(o))throw Error(r(485));if(o=c.action,o!==null){var S={payload:x,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(I){S.listeners.push(I)}};X.T!==null?h(!0):S.isTransition=!1,g(S),h=c.pending,h===null?(S.next=c.pending=S,YO(c,S)):(S.next=h.next,c.pending=h.next=S)}}function YO(o,c){var h=c.action,g=c.payload,x=o.state;if(c.isTransition){var S=X.T,I={};X.T=I;try{var U=h(x,g),W=X.S;W!==null&&W(I,U),XO(o,c,U)}catch(ne){z_(o,c,ne)}finally{S!==null&&I.types!==null&&(S.types=I.types),X.T=S}}else try{S=h(x,g),XO(o,c,S)}catch(ne){z_(o,c,ne)}}function XO(o,c,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(g){QO(o,c,g)},function(g){return z_(o,c,g)}):QO(o,c,h)}function QO(o,c,h){c.status="fulfilled",c.value=h,ZO(c),o.state=h,c=o.pending,c!==null&&(h=c.next,h===c?o.pending=null:(h=h.next,c.next=h,YO(o,h)))}function z_(o,c,h){var g=o.pending;if(o.pending=null,g!==null){g=g.next;do c.status="rejected",c.reason=h,ZO(c),c=c.next;while(c!==g)}o.action=null}function ZO(o){o=o.listeners;for(var c=0;c<o.length;c++)(0,o[c])()}function JO(o,c){return c}function ej(o,c){if(ut){var h=qt.formState;if(h!==null){e:{var g=Qe;if(ut){if(Yt){t:{for(var x=Yt,S=ls;x.nodeType!==8;){if(!S){x=null;break t}if(x=us(x.nextSibling),x===null){x=null;break t}}S=x.data,x=S==="F!"||S==="F"?x:null}if(x){Yt=us(x.nextSibling),g=x.data==="F!";break e}}yl(g)}g=!1}g&&(c=h[0])}}return h=Qr(),h.memoizedState=h.baseState=c,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:JO,lastRenderedState:c},h.queue=g,h=bj.bind(null,Qe,g),g.dispatch=h,g=U_(!1),S=W_.bind(null,Qe,!1,g.queue),g=Qr(),x={state:c,dispatch:null,action:o,pending:null},g.queue=x,h=dY.bind(null,Qe,x,S,h),x.dispatch=h,g.memoizedState=o,[c,h,!1]}function tj(o){var c=Nn();return nj(c,Ut,o)}function nj(o,c,h){if(c=L_(o,c,JO)[0],o=D0(ao)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var g=em(c)}catch(I){throw I===Id?A0:I}else g=c;c=Nn();var x=c.queue,S=x.dispatch;return h!==c.memoizedState&&(Qe.flags|=2048,Md(9,{destroy:void 0},fY.bind(null,x,h),null)),[g,S,o]}function fY(o,c){o.action=c}function rj(o){var c=Nn(),h=Ut;if(h!==null)return nj(c,h,o);Nn(),c=c.memoizedState,h=Nn();var g=h.queue.dispatch;return h.memoizedState=o,[c,g,!1]}function Md(o,c,h,g){return o={tag:o,create:h,deps:g,inst:c,next:null},c=Qe.updateQueue,c===null&&(c=k0(),Qe.updateQueue=c),h=c.lastEffect,h===null?c.lastEffect=o.next=o:(g=h.next,h.next=o,o.next=g,c.lastEffect=o),o}function ij(){return Nn().memoizedState}function L0(o,c,h,g){var x=Qr();Qe.flags|=o,x.memoizedState=Md(1|c,{destroy:void 0},h,g===void 0?null:g)}function V0(o,c,h,g){var x=Nn();g=g===void 0?null:g;var S=x.memoizedState.inst;Ut!==null&&g!==null&&O_(g,Ut.memoizedState.deps)?x.memoizedState=Md(c,S,h,g):(Qe.flags|=o,x.memoizedState=Md(1|c,S,h,g))}function sj(o,c){L0(8390656,8,o,c)}function B_(o,c){V0(2048,8,o,c)}function hY(o){Qe.flags|=4;var c=Qe.updateQueue;if(c===null)c=k0(),Qe.updateQueue=c,c.events=[o];else{var h=c.events;h===null?c.events=[o]:h.push(o)}}function aj(o){var c=Nn().memoizedState;return hY({ref:c,nextImpl:o}),function(){if((_t&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}function oj(o,c){return V0(4,2,o,c)}function lj(o,c){return V0(4,4,o,c)}function cj(o,c){if(typeof c=="function"){o=o();var h=c(o);return function(){typeof h=="function"?h():c(null)}}if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function uj(o,c,h){h=h!=null?h.concat([o]):null,V0(4,4,cj.bind(null,c,o),h)}function F_(){}function dj(o,c){var h=Nn();c=c===void 0?null:c;var g=h.memoizedState;return c!==null&&O_(c,g[1])?g[0]:(h.memoizedState=[o,c],o)}function fj(o,c){var h=Nn();c=c===void 0?null:c;var g=h.memoizedState;if(c!==null&&O_(c,g[1]))return g[0];if(g=o(),ru){En(!0);try{o()}finally{En(!1)}}return h.memoizedState=[g,c],g}function $_(o,c,h){return h===void 0||(so&1073741824)!==0&&(st&261930)===0?o.memoizedState=c:(o.memoizedState=h,o=hR(),Qe.lanes|=o,Al|=o,h)}function hj(o,c,h,g){return Ri(h,c)?h:jd.current!==null?(o=$_(o,h,g),Ri(o,c)||(Vn=!0),o):(so&42)===0||(so&1073741824)!==0&&(st&261930)===0?(Vn=!0,o.memoizedState=h):(o=hR(),Qe.lanes|=o,Al|=o,c)}function mj(o,c,h,g,x){var S=ee.p;ee.p=S!==0&&8>S?S:8;var I=X.T,U={};X.T=U,W_(o,!1,c,h);try{var W=x(),ne=X.S;if(ne!==null&&ne(U,W),W!==null&&typeof W=="object"&&typeof W.then=="function"){var ue=lY(W,g);tm(o,c,ue,Ui(o))}else tm(o,c,g,Ui(o))}catch(ge){tm(o,c,{then:function(){},status:"rejected",reason:ge},Ui())}finally{ee.p=S,I!==null&&U.types!==null&&(I.types=U.types),X.T=I}}function mY(){}function q_(o,c,h,g){if(o.tag!==5)throw Error(r(476));var x=pj(o).queue;mj(o,x,c,he,h===null?mY:function(){return gj(o),h(g)})}function pj(o){var c=o.memoizedState;if(c!==null)return c;c={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ao,lastRenderedState:he},next:null};var h={};return c.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ao,lastRenderedState:h},next:null},o.memoizedState=c,o=o.alternate,o!==null&&(o.memoizedState=c),c}function gj(o){var c=pj(o);c.next===null&&(c=o.alternate.memoizedState),tm(o,c.next.queue,{},Ui())}function H_(){return Tr(vm)}function yj(){return Nn().memoizedState}function vj(){return Nn().memoizedState}function pY(o){for(var c=o.return;c!==null;){switch(c.tag){case 24:case 3:var h=Ui();o=xl(h);var g=wl(c,o,h);g!==null&&(bi(g,c,h),Xh(g,c,h)),c={cache:x_()},o.payload=c;return}c=c.return}}function gY(o,c,h){var g=Ui();h={lane:g,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},U0(o)?xj(c,h):(h=c_(o,c,h,g),h!==null&&(bi(h,o,g),wj(h,c,g)))}function bj(o,c,h){var g=Ui();tm(o,c,h,g)}function tm(o,c,h,g){var x={lane:g,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null};if(U0(o))xj(c,x);else{var S=o.alternate;if(o.lanes===0&&(S===null||S.lanes===0)&&(S=c.lastRenderedReducer,S!==null))try{var I=c.lastRenderedState,U=S(I,h);if(x.hasEagerState=!0,x.eagerState=U,Ri(U,I))return b0(o,c,x,0),qt===null&&v0(),!1}catch{}finally{}if(h=c_(o,c,x,g),h!==null)return bi(h,o,g),wj(h,c,g),!0}return!1}function W_(o,c,h,g){if(g={lane:2,revertLane:S1(),gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},U0(o)){if(c)throw Error(r(479))}else c=c_(o,h,g,2),c!==null&&bi(c,o,2)}function U0(o){var c=o.alternate;return o===Qe||c!==null&&c===Qe}function xj(o,c){Rd=j0=!0;var h=o.pending;h===null?c.next=c:(c.next=h.next,h.next=c),o.pending=c}function wj(o,c,h){if((h&4194048)!==0){var g=c.lanes;g&=o.pendingLanes,h|=g,c.lanes=h,Eh(o,h)}}var nm={readContext:Tr,use:M0,useCallback:yn,useContext:yn,useEffect:yn,useImperativeHandle:yn,useLayoutEffect:yn,useInsertionEffect:yn,useMemo:yn,useReducer:yn,useRef:yn,useState:yn,useDebugValue:yn,useDeferredValue:yn,useTransition:yn,useSyncExternalStore:yn,useId:yn,useHostTransitionStatus:yn,useFormState:yn,useActionState:yn,useOptimistic:yn,useMemoCache:yn,useCacheRefresh:yn};nm.useEffectEvent=yn;var _j={readContext:Tr,use:M0,useCallback:function(o,c){return Qr().memoizedState=[o,c===void 0?null:c],o},useContext:Tr,useEffect:sj,useImperativeHandle:function(o,c,h){h=h!=null?h.concat([o]):null,L0(4194308,4,cj.bind(null,c,o),h)},useLayoutEffect:function(o,c){return L0(4194308,4,o,c)},useInsertionEffect:function(o,c){L0(4,2,o,c)},useMemo:function(o,c){var h=Qr();c=c===void 0?null:c;var g=o();if(ru){En(!0);try{o()}finally{En(!1)}}return h.memoizedState=[g,c],g},useReducer:function(o,c,h){var g=Qr();if(h!==void 0){var x=h(c);if(ru){En(!0);try{h(c)}finally{En(!1)}}}else x=c;return g.memoizedState=g.baseState=x,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:x},g.queue=o,o=o.dispatch=gY.bind(null,Qe,o),[g.memoizedState,o]},useRef:function(o){var c=Qr();return o={current:o},c.memoizedState=o},useState:function(o){o=U_(o);var c=o.queue,h=bj.bind(null,Qe,c);return c.dispatch=h,[o.memoizedState,h]},useDebugValue:F_,useDeferredValue:function(o,c){var h=Qr();return $_(h,o,c)},useTransition:function(){var o=U_(!1);return o=mj.bind(null,Qe,o.queue,!0,!1),Qr().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,c,h){var g=Qe,x=Qr();if(ut){if(h===void 0)throw Error(r(407));h=h()}else{if(h=c(),qt===null)throw Error(r(349));(st&127)!==0||$O(g,c,h)}x.memoizedState=h;var S={value:h,getSnapshot:c};return x.queue=S,sj(HO.bind(null,g,S,o),[o]),g.flags|=2048,Md(9,{destroy:void 0},qO.bind(null,g,S,h,c),null),h},useId:function(){var o=Qr(),c=qt.identifierPrefix;if(ut){var h=Ea,g=_a;h=(g&~(1<<32-dt(g)-1)).toString(32)+h,c="_"+c+"R_"+h,h=R0++,0<h&&(c+="H"+h.toString(32)),c+="_"}else h=cY++,c="_"+c+"r_"+h.toString(32)+"_";return o.memoizedState=c},useHostTransitionStatus:H_,useFormState:ej,useActionState:ej,useOptimistic:function(o){var c=Qr();c.memoizedState=c.baseState=o;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=h,c=W_.bind(null,Qe,!0,h),h.dispatch=c,[o,c]},useMemoCache:D_,useCacheRefresh:function(){return Qr().memoizedState=pY.bind(null,Qe)},useEffectEvent:function(o){var c=Qr(),h={impl:o};return c.memoizedState=h,function(){if((_t&2)!==0)throw Error(r(440));return h.impl.apply(void 0,arguments)}}},K_={readContext:Tr,use:M0,useCallback:dj,useContext:Tr,useEffect:B_,useImperativeHandle:uj,useInsertionEffect:oj,useLayoutEffect:lj,useMemo:fj,useReducer:D0,useRef:ij,useState:function(){return D0(ao)},useDebugValue:F_,useDeferredValue:function(o,c){var h=Nn();return hj(h,Ut.memoizedState,o,c)},useTransition:function(){var o=D0(ao)[0],c=Nn().memoizedState;return[typeof o=="boolean"?o:em(o),c]},useSyncExternalStore:FO,useId:yj,useHostTransitionStatus:H_,useFormState:tj,useActionState:tj,useOptimistic:function(o,c){var h=Nn();return GO(h,Ut,o,c)},useMemoCache:D_,useCacheRefresh:vj};K_.useEffectEvent=aj;var Ej={readContext:Tr,use:M0,useCallback:dj,useContext:Tr,useEffect:B_,useImperativeHandle:uj,useInsertionEffect:oj,useLayoutEffect:lj,useMemo:fj,useReducer:V_,useRef:ij,useState:function(){return V_(ao)},useDebugValue:F_,useDeferredValue:function(o,c){var h=Nn();return Ut===null?$_(h,o,c):hj(h,Ut.memoizedState,o,c)},useTransition:function(){var o=V_(ao)[0],c=Nn().memoizedState;return[typeof o=="boolean"?o:em(o),c]},useSyncExternalStore:FO,useId:yj,useHostTransitionStatus:H_,useFormState:rj,useActionState:rj,useOptimistic:function(o,c){var h=Nn();return Ut!==null?GO(h,Ut,o,c):(h.baseState=o,[o,h.queue.dispatch])},useMemoCache:D_,useCacheRefresh:vj};Ej.useEffectEvent=aj;function G_(o,c,h,g){c=o.memoizedState,h=h(g,c),h=h==null?c:m({},c,h),o.memoizedState=h,o.lanes===0&&(o.updateQueue.baseState=h)}var Y_={enqueueSetState:function(o,c,h){o=o._reactInternals;var g=Ui(),x=xl(g);x.payload=c,h!=null&&(x.callback=h),c=wl(o,x,g),c!==null&&(bi(c,o,g),Xh(c,o,g))},enqueueReplaceState:function(o,c,h){o=o._reactInternals;var g=Ui(),x=xl(g);x.tag=1,x.payload=c,h!=null&&(x.callback=h),c=wl(o,x,g),c!==null&&(bi(c,o,g),Xh(c,o,g))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var h=Ui(),g=xl(h);g.tag=2,c!=null&&(g.callback=c),c=wl(o,g,h),c!==null&&(bi(c,o,h),Xh(c,o,h))}};function Sj(o,c,h,g,x,S,I){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(g,S,I):c.prototype&&c.prototype.isPureReactComponent?!Fh(h,g)||!Fh(x,S):!0}function Tj(o,c,h,g){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(h,g),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(h,g),c.state!==o&&Y_.enqueueReplaceState(c,c.state,null)}function iu(o,c){var h=c;if("ref"in c){h={};for(var g in c)g!=="ref"&&(h[g]=c[g])}if(o=o.defaultProps){h===c&&(h=m({},h));for(var x in o)h[x]===void 0&&(h[x]=o[x])}return h}function Aj(o){y0(o)}function Nj(o){console.error(o)}function Cj(o){y0(o)}function z0(o,c){try{var h=o.onUncaughtError;h(c.value,{componentStack:c.stack})}catch(g){setTimeout(function(){throw g})}}function Pj(o,c,h){try{var g=o.onCaughtError;g(h.value,{componentStack:h.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function X_(o,c,h){return h=xl(h),h.tag=3,h.payload={element:null},h.callback=function(){z0(o,c)},h}function Ij(o){return o=xl(o),o.tag=3,o}function Oj(o,c,h,g){var x=h.type.getDerivedStateFromError;if(typeof x=="function"){var S=g.value;o.payload=function(){return x(S)},o.callback=function(){Pj(c,h,g)}}var I=h.stateNode;I!==null&&typeof I.componentDidCatch=="function"&&(o.callback=function(){Pj(c,h,g),typeof x!="function"&&(Nl===null?Nl=new Set([this]):Nl.add(this));var U=g.stack;this.componentDidCatch(g.value,{componentStack:U!==null?U:""})})}function yY(o,c,h,g,x){if(h.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(c=h.alternate,c!==null&&Nd(c,h,x,!0),h=Mi.current,h!==null){switch(h.tag){case 31:case 13:return cs===null?Z0():h.alternate===null&&vn===0&&(vn=3),h.flags&=-257,h.flags|=65536,h.lanes=x,g===N0?h.flags|=16384:(c=h.updateQueue,c===null?h.updateQueue=new Set([g]):c.add(g),w1(o,g,x)),!1;case 22:return h.flags|=65536,g===N0?h.flags|=16384:(c=h.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([g])},h.updateQueue=c):(h=c.retryQueue,h===null?c.retryQueue=new Set([g]):h.add(g)),w1(o,g,x)),!1}throw Error(r(435,h.tag))}return w1(o,g,x),Z0(),!1}if(ut)return c=Mi.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=x,g!==p_&&(o=Error(r(422),{cause:g}),Hh(ss(o,h)))):(g!==p_&&(c=Error(r(423),{cause:g}),Hh(ss(c,h))),o=o.current.alternate,o.flags|=65536,x&=-x,o.lanes|=x,g=ss(g,h),x=X_(o.stateNode,g,x),A_(o,x),vn!==4&&(vn=2)),!1;var S=Error(r(520),{cause:g});if(S=ss(S,h),um===null?um=[S]:um.push(S),vn!==4&&(vn=2),c===null)return!0;g=ss(g,h),h=c;do{switch(h.tag){case 3:return h.flags|=65536,o=x&-x,h.lanes|=o,o=X_(h.stateNode,g,o),A_(h,o),!1;case 1:if(c=h.type,S=h.stateNode,(h.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Nl===null||!Nl.has(S))))return h.flags|=65536,x&=-x,h.lanes|=x,x=Ij(x),Oj(x,o,h,g),A_(h,x),!1}h=h.return}while(h!==null);return!1}var Q_=Error(r(461)),Vn=!1;function Ar(o,c,h,g){c.child=o===null?MO(c,null,h,g):nu(c,o.child,h,g)}function jj(o,c,h,g,x){h=h.render;var S=c.ref;if("ref"in g){var I={};for(var U in g)U!=="ref"&&(I[U]=g[U])}else I=g;return Zc(c),g=j_(o,c,h,I,S,x),U=R_(),o!==null&&!Vn?(k_(o,c,x),oo(o,c,x)):(ut&&U&&h_(c),c.flags|=1,Ar(o,c,g,x),c.child)}function Rj(o,c,h,g,x){if(o===null){var S=h.type;return typeof S=="function"&&!u_(S)&&S.defaultProps===void 0&&h.compare===null?(c.tag=15,c.type=S,kj(o,c,S,g,x)):(o=w0(h.type,null,g,c,c.mode,x),o.ref=c.ref,o.return=c,c.child=o)}if(S=o.child,!s1(o,x)){var I=S.memoizedProps;if(h=h.compare,h=h!==null?h:Fh,h(I,g)&&o.ref===c.ref)return oo(o,c,x)}return c.flags|=1,o=to(S,g),o.ref=c.ref,o.return=c,c.child=o}function kj(o,c,h,g,x){if(o!==null){var S=o.memoizedProps;if(Fh(S,g)&&o.ref===c.ref)if(Vn=!1,c.pendingProps=g=S,s1(o,x))(o.flags&131072)!==0&&(Vn=!0);else return c.lanes=o.lanes,oo(o,c,x)}return Z_(o,c,h,g,x)}function Mj(o,c,h,g){var x=g.children,S=o!==null?o.memoizedState:null;if(o===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),g.mode==="hidden"){if((c.flags&128)!==0){if(S=S!==null?S.baseLanes|h:h,o!==null){for(g=c.child=o.child,x=0;g!==null;)x=x|g.lanes|g.childLanes,g=g.sibling;g=x&~S}else g=0,c.child=null;return Dj(o,c,S,h,g)}if((h&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},o!==null&&T0(c,S!==null?S.cachePool:null),S!==null?VO(c,S):C_(),UO(c);else return g=c.lanes=536870912,Dj(o,c,S!==null?S.baseLanes|h:h,h,g)}else S!==null?(T0(c,S.cachePool),VO(c,S),El(),c.memoizedState=null):(o!==null&&T0(c,null),C_(),El());return Ar(o,c,x,h),c.child}function rm(o,c){return o!==null&&o.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function Dj(o,c,h,g,x){var S=__();return S=S===null?null:{parent:Dn._currentValue,pool:S},c.memoizedState={baseLanes:h,cachePool:S},o!==null&&T0(c,null),C_(),UO(c),o!==null&&Nd(o,c,g,!0),c.childLanes=x,null}function B0(o,c){return c=$0({mode:c.mode,children:c.children},o.mode),c.ref=o.ref,o.child=c,c.return=o,c}function Lj(o,c,h){return nu(c,o.child,null,h),o=B0(c,c.pendingProps),o.flags|=2,Di(c),c.memoizedState=null,o}function vY(o,c,h){var g=c.pendingProps,x=(c.flags&128)!==0;if(c.flags&=-129,o===null){if(ut){if(g.mode==="hidden")return o=B0(c,g),c.lanes=536870912,rm(null,o);if(I_(c),(o=Yt)?(o=YR(o,ls),o=o!==null&&o.data==="&"?o:null,o!==null&&(c.memoizedState={dehydrated:o,treeContext:pl!==null?{id:_a,overflow:Ea}:null,retryLane:536870912,hydrationErrors:null},h=xO(o),h.return=c,c.child=h,Sr=c,Yt=null)):o=null,o===null)throw yl(c);return c.lanes=536870912,null}return B0(c,g)}var S=o.memoizedState;if(S!==null){var I=S.dehydrated;if(I_(c),x)if(c.flags&256)c.flags&=-257,c=Lj(o,c,h);else if(c.memoizedState!==null)c.child=o.child,c.flags|=128,c=null;else throw Error(r(558));else if(Vn||Nd(o,c,h,!1),x=(h&o.childLanes)!==0,Vn||x){if(g=qt,g!==null&&(I=Sh(g,h),I!==0&&I!==S.retryLane))throw S.retryLane=I,Gc(o,I),bi(g,o,I),Q_;Z0(),c=Lj(o,c,h)}else o=S.treeContext,Yt=us(I.nextSibling),Sr=c,ut=!0,gl=null,ls=!1,o!==null&&EO(c,o),c=B0(c,g),c.flags|=4096;return c}return o=to(o.child,{mode:g.mode,children:g.children}),o.ref=c.ref,c.child=o,o.return=c,o}function F0(o,c){var h=c.ref;if(h===null)o!==null&&o.ref!==null&&(c.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(r(284));(o===null||o.ref!==h)&&(c.flags|=4194816)}}function Z_(o,c,h,g,x){return Zc(c),h=j_(o,c,h,g,void 0,x),g=R_(),o!==null&&!Vn?(k_(o,c,x),oo(o,c,x)):(ut&&g&&h_(c),c.flags|=1,Ar(o,c,h,x),c.child)}function Vj(o,c,h,g,x,S){return Zc(c),c.updateQueue=null,h=BO(c,g,h,x),zO(o),g=R_(),o!==null&&!Vn?(k_(o,c,S),oo(o,c,S)):(ut&&g&&h_(c),c.flags|=1,Ar(o,c,h,S),c.child)}function Uj(o,c,h,g,x){if(Zc(c),c.stateNode===null){var S=Ed,I=h.contextType;typeof I=="object"&&I!==null&&(S=Tr(I)),S=new h(g,S),c.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=Y_,c.stateNode=S,S._reactInternals=c,S=c.stateNode,S.props=g,S.state=c.memoizedState,S.refs={},S_(c),I=h.contextType,S.context=typeof I=="object"&&I!==null?Tr(I):Ed,S.state=c.memoizedState,I=h.getDerivedStateFromProps,typeof I=="function"&&(G_(c,h,I,g),S.state=c.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(I=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),I!==S.state&&Y_.enqueueReplaceState(S,S.state,null),Zh(c,g,S,x),Qh(),S.state=c.memoizedState),typeof S.componentDidMount=="function"&&(c.flags|=4194308),g=!0}else if(o===null){S=c.stateNode;var U=c.memoizedProps,W=iu(h,U);S.props=W;var ne=S.context,ue=h.contextType;I=Ed,typeof ue=="object"&&ue!==null&&(I=Tr(ue));var ge=h.getDerivedStateFromProps;ue=typeof ge=="function"||typeof S.getSnapshotBeforeUpdate=="function",U=c.pendingProps!==U,ue||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(U||ne!==I)&&Tj(c,S,g,I),bl=!1;var ie=c.memoizedState;S.state=ie,Zh(c,g,S,x),Qh(),ne=c.memoizedState,U||ie!==ne||bl?(typeof ge=="function"&&(G_(c,h,ge,g),ne=c.memoizedState),(W=bl||Sj(c,h,W,g,ie,ne,I))?(ue||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(c.flags|=4194308)):(typeof S.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=g,c.memoizedState=ne),S.props=g,S.state=ne,S.context=I,g=W):(typeof S.componentDidMount=="function"&&(c.flags|=4194308),g=!1)}else{S=c.stateNode,T_(o,c),I=c.memoizedProps,ue=iu(h,I),S.props=ue,ge=c.pendingProps,ie=S.context,ne=h.contextType,W=Ed,typeof ne=="object"&&ne!==null&&(W=Tr(ne)),U=h.getDerivedStateFromProps,(ne=typeof U=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(I!==ge||ie!==W)&&Tj(c,S,g,W),bl=!1,ie=c.memoizedState,S.state=ie,Zh(c,g,S,x),Qh();var le=c.memoizedState;I!==ge||ie!==le||bl||o!==null&&o.dependencies!==null&&E0(o.dependencies)?(typeof U=="function"&&(G_(c,h,U,g),le=c.memoizedState),(ue=bl||Sj(c,h,ue,g,ie,le,W)||o!==null&&o.dependencies!==null&&E0(o.dependencies))?(ne||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(g,le,W),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(g,le,W)),typeof S.componentDidUpdate=="function"&&(c.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof S.componentDidUpdate!="function"||I===o.memoizedProps&&ie===o.memoizedState||(c.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||I===o.memoizedProps&&ie===o.memoizedState||(c.flags|=1024),c.memoizedProps=g,c.memoizedState=le),S.props=g,S.state=le,S.context=W,g=ue):(typeof S.componentDidUpdate!="function"||I===o.memoizedProps&&ie===o.memoizedState||(c.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||I===o.memoizedProps&&ie===o.memoizedState||(c.flags|=1024),g=!1)}return S=g,F0(o,c),g=(c.flags&128)!==0,S||g?(S=c.stateNode,h=g&&typeof h.getDerivedStateFromError!="function"?null:S.render(),c.flags|=1,o!==null&&g?(c.child=nu(c,o.child,null,x),c.child=nu(c,null,h,x)):Ar(o,c,h,x),c.memoizedState=S.state,o=c.child):o=oo(o,c,x),o}function zj(o,c,h,g){return Xc(),c.flags|=256,Ar(o,c,h,g),c.child}var J_={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function e1(o){return{baseLanes:o,cachePool:PO()}}function t1(o,c,h){return o=o!==null?o.childLanes&~h:0,c&&(o|=Vi),o}function Bj(o,c,h){var g=c.pendingProps,x=!1,S=(c.flags&128)!==0,I;if((I=S)||(I=o!==null&&o.memoizedState===null?!1:(An.current&2)!==0),I&&(x=!0,c.flags&=-129),I=(c.flags&32)!==0,c.flags&=-33,o===null){if(ut){if(x?_l(c):El(),(o=Yt)?(o=YR(o,ls),o=o!==null&&o.data!=="&"?o:null,o!==null&&(c.memoizedState={dehydrated:o,treeContext:pl!==null?{id:_a,overflow:Ea}:null,retryLane:536870912,hydrationErrors:null},h=xO(o),h.return=c,c.child=h,Sr=c,Yt=null)):o=null,o===null)throw yl(c);return L1(o)?c.lanes=32:c.lanes=536870912,null}var U=g.children;return g=g.fallback,x?(El(),x=c.mode,U=$0({mode:"hidden",children:U},x),g=Yc(g,x,h,null),U.return=c,g.return=c,U.sibling=g,c.child=U,g=c.child,g.memoizedState=e1(h),g.childLanes=t1(o,I,h),c.memoizedState=J_,rm(null,g)):(_l(c),n1(c,U))}var W=o.memoizedState;if(W!==null&&(U=W.dehydrated,U!==null)){if(S)c.flags&256?(_l(c),c.flags&=-257,c=r1(o,c,h)):c.memoizedState!==null?(El(),c.child=o.child,c.flags|=128,c=null):(El(),U=g.fallback,x=c.mode,g=$0({mode:"visible",children:g.children},x),U=Yc(U,x,h,null),U.flags|=2,g.return=c,U.return=c,g.sibling=U,c.child=g,nu(c,o.child,null,h),g=c.child,g.memoizedState=e1(h),g.childLanes=t1(o,I,h),c.memoizedState=J_,c=rm(null,g));else if(_l(c),L1(U)){if(I=U.nextSibling&&U.nextSibling.dataset,I)var ne=I.dgst;I=ne,g=Error(r(419)),g.stack="",g.digest=I,Hh({value:g,source:null,stack:null}),c=r1(o,c,h)}else if(Vn||Nd(o,c,h,!1),I=(h&o.childLanes)!==0,Vn||I){if(I=qt,I!==null&&(g=Sh(I,h),g!==0&&g!==W.retryLane))throw W.retryLane=g,Gc(o,g),bi(I,o,g),Q_;D1(U)||Z0(),c=r1(o,c,h)}else D1(U)?(c.flags|=192,c.child=o.child,c=null):(o=W.treeContext,Yt=us(U.nextSibling),Sr=c,ut=!0,gl=null,ls=!1,o!==null&&EO(c,o),c=n1(c,g.children),c.flags|=4096);return c}return x?(El(),U=g.fallback,x=c.mode,W=o.child,ne=W.sibling,g=to(W,{mode:"hidden",children:g.children}),g.subtreeFlags=W.subtreeFlags&65011712,ne!==null?U=to(ne,U):(U=Yc(U,x,h,null),U.flags|=2),U.return=c,g.return=c,g.sibling=U,c.child=g,rm(null,g),g=c.child,U=o.child.memoizedState,U===null?U=e1(h):(x=U.cachePool,x!==null?(W=Dn._currentValue,x=x.parent!==W?{parent:W,pool:W}:x):x=PO(),U={baseLanes:U.baseLanes|h,cachePool:x}),g.memoizedState=U,g.childLanes=t1(o,I,h),c.memoizedState=J_,rm(o.child,g)):(_l(c),h=o.child,o=h.sibling,h=to(h,{mode:"visible",children:g.children}),h.return=c,h.sibling=null,o!==null&&(I=c.deletions,I===null?(c.deletions=[o],c.flags|=16):I.push(o)),c.child=h,c.memoizedState=null,h)}function n1(o,c){return c=$0({mode:"visible",children:c},o.mode),c.return=o,o.child=c}function $0(o,c){return o=ki(22,o,null,c),o.lanes=0,o}function r1(o,c,h){return nu(c,o.child,null,h),o=n1(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function Fj(o,c,h){o.lanes|=c;var g=o.alternate;g!==null&&(g.lanes|=c),v_(o.return,c,h)}function i1(o,c,h,g,x,S){var I=o.memoizedState;I===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:g,tail:h,tailMode:x,treeForkCount:S}:(I.isBackwards=c,I.rendering=null,I.renderingStartTime=0,I.last=g,I.tail=h,I.tailMode=x,I.treeForkCount=S)}function $j(o,c,h){var g=c.pendingProps,x=g.revealOrder,S=g.tail;g=g.children;var I=An.current,U=(I&2)!==0;if(U?(I=I&1|2,c.flags|=128):I&=1,re(An,I),Ar(o,c,g,h),g=ut?qh:0,!U&&o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&Fj(o,h,c);else if(o.tag===19)Fj(o,h,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(x){case"forwards":for(h=c.child,x=null;h!==null;)o=h.alternate,o!==null&&O0(o)===null&&(x=h),h=h.sibling;h=x,h===null?(x=c.child,c.child=null):(x=h.sibling,h.sibling=null),i1(c,!1,x,h,S,g);break;case"backwards":case"unstable_legacy-backwards":for(h=null,x=c.child,c.child=null;x!==null;){if(o=x.alternate,o!==null&&O0(o)===null){c.child=x;break}o=x.sibling,x.sibling=h,h=x,x=o}i1(c,!0,h,null,S,g);break;case"together":i1(c,!1,null,null,void 0,g);break;default:c.memoizedState=null}return c.child}function oo(o,c,h){if(o!==null&&(c.dependencies=o.dependencies),Al|=c.lanes,(h&c.childLanes)===0)if(o!==null){if(Nd(o,c,h,!1),(h&c.childLanes)===0)return null}else return null;if(o!==null&&c.child!==o.child)throw Error(r(153));if(c.child!==null){for(o=c.child,h=to(o,o.pendingProps),c.child=h,h.return=c;o.sibling!==null;)o=o.sibling,h=h.sibling=to(o,o.pendingProps),h.return=c;h.sibling=null}return c.child}function s1(o,c){return(o.lanes&c)!==0?!0:(o=o.dependencies,!!(o!==null&&E0(o)))}function bY(o,c,h){switch(c.tag){case 3:Se(c,c.stateNode.containerInfo),vl(c,Dn,o.memoizedState.cache),Xc();break;case 27:case 5:Ee(c);break;case 4:Se(c,c.stateNode.containerInfo);break;case 10:vl(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,I_(c),null;break;case 13:var g=c.memoizedState;if(g!==null)return g.dehydrated!==null?(_l(c),c.flags|=128,null):(h&c.child.childLanes)!==0?Bj(o,c,h):(_l(c),o=oo(o,c,h),o!==null?o.sibling:null);_l(c);break;case 19:var x=(o.flags&128)!==0;if(g=(h&c.childLanes)!==0,g||(Nd(o,c,h,!1),g=(h&c.childLanes)!==0),x){if(g)return $j(o,c,h);c.flags|=128}if(x=c.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),re(An,An.current),g)break;return null;case 22:return c.lanes=0,Mj(o,c,h,c.pendingProps);case 24:vl(c,Dn,o.memoizedState.cache)}return oo(o,c,h)}function qj(o,c,h){if(o!==null)if(o.memoizedProps!==c.pendingProps)Vn=!0;else{if(!s1(o,h)&&(c.flags&128)===0)return Vn=!1,bY(o,c,h);Vn=(o.flags&131072)!==0}else Vn=!1,ut&&(c.flags&1048576)!==0&&_O(c,qh,c.index);switch(c.lanes=0,c.tag){case 16:e:{var g=c.pendingProps;if(o=eu(c.elementType),c.type=o,typeof o=="function")u_(o)?(g=iu(o,g),c.tag=1,c=Uj(null,c,o,g,h)):(c.tag=0,c=Z_(null,c,o,g,h));else{if(o!=null){var x=o.$$typeof;if(x===L){c.tag=11,c=jj(null,c,o,g,h);break e}else if(x===j){c.tag=14,c=Rj(null,c,o,g,h);break e}}throw c=xe(o)||o,Error(r(306,c,""))}}return c;case 0:return Z_(o,c,c.type,c.pendingProps,h);case 1:return g=c.type,x=iu(g,c.pendingProps),Uj(o,c,g,x,h);case 3:e:{if(Se(c,c.stateNode.containerInfo),o===null)throw Error(r(387));g=c.pendingProps;var S=c.memoizedState;x=S.element,T_(o,c),Zh(c,g,null,h);var I=c.memoizedState;if(g=I.cache,vl(c,Dn,g),g!==S.cache&&b_(c,[Dn],h,!0),Qh(),g=I.element,S.isDehydrated)if(S={element:g,isDehydrated:!1,cache:I.cache},c.updateQueue.baseState=S,c.memoizedState=S,c.flags&256){c=zj(o,c,g,h);break e}else if(g!==x){x=ss(Error(r(424)),c),Hh(x),c=zj(o,c,g,h);break e}else{switch(o=c.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(Yt=us(o.firstChild),Sr=c,ut=!0,gl=null,ls=!0,h=MO(c,null,g,h),c.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(Xc(),g===x){c=oo(o,c,h);break e}Ar(o,c,g,h)}c=c.child}return c;case 26:return F0(o,c),o===null?(h=tk(c.type,null,c.pendingProps,null))?c.memoizedState=h:ut||(h=c.type,o=c.pendingProps,g=sy(ye.current).createElement(h),g[Rn]=c,g[cr]=o,Nr(g,h,o),kn(g),c.stateNode=g):c.memoizedState=tk(c.type,o.memoizedProps,c.pendingProps,o.memoizedState),null;case 27:return Ee(c),o===null&&ut&&(g=c.stateNode=ZR(c.type,c.pendingProps,ye.current),Sr=c,ls=!0,x=Yt,Ol(c.type)?(V1=x,Yt=us(g.firstChild)):Yt=x),Ar(o,c,c.pendingProps.children,h),F0(o,c),o===null&&(c.flags|=4194304),c.child;case 5:return o===null&&ut&&((x=g=Yt)&&(g=YY(g,c.type,c.pendingProps,ls),g!==null?(c.stateNode=g,Sr=c,Yt=us(g.firstChild),ls=!1,x=!0):x=!1),x||yl(c)),Ee(c),x=c.type,S=c.pendingProps,I=o!==null?o.memoizedProps:null,g=S.children,R1(x,S)?g=null:I!==null&&R1(x,I)&&(c.flags|=32),c.memoizedState!==null&&(x=j_(o,c,uY,null,null,h),vm._currentValue=x),F0(o,c),Ar(o,c,g,h),c.child;case 6:return o===null&&ut&&((o=h=Yt)&&(h=XY(h,c.pendingProps,ls),h!==null?(c.stateNode=h,Sr=c,Yt=null,o=!0):o=!1),o||yl(c)),null;case 13:return Bj(o,c,h);case 4:return Se(c,c.stateNode.containerInfo),g=c.pendingProps,o===null?c.child=nu(c,null,g,h):Ar(o,c,g,h),c.child;case 11:return jj(o,c,c.type,c.pendingProps,h);case 7:return Ar(o,c,c.pendingProps,h),c.child;case 8:return Ar(o,c,c.pendingProps.children,h),c.child;case 12:return Ar(o,c,c.pendingProps.children,h),c.child;case 10:return g=c.pendingProps,vl(c,c.type,g.value),Ar(o,c,g.children,h),c.child;case 9:return x=c.type._context,g=c.pendingProps.children,Zc(c),x=Tr(x),g=g(x),c.flags|=1,Ar(o,c,g,h),c.child;case 14:return Rj(o,c,c.type,c.pendingProps,h);case 15:return kj(o,c,c.type,c.pendingProps,h);case 19:return $j(o,c,h);case 31:return vY(o,c,h);case 22:return Mj(o,c,h,c.pendingProps);case 24:return Zc(c),g=Tr(Dn),o===null?(x=__(),x===null&&(x=qt,S=x_(),x.pooledCache=S,S.refCount++,S!==null&&(x.pooledCacheLanes|=h),x=S),c.memoizedState={parent:g,cache:x},S_(c),vl(c,Dn,x)):((o.lanes&h)!==0&&(T_(o,c),Zh(c,null,null,h),Qh()),x=o.memoizedState,S=c.memoizedState,x.parent!==g?(x={parent:g,cache:g},c.memoizedState=x,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=x),vl(c,Dn,g)):(g=S.cache,vl(c,Dn,g),g!==x.cache&&b_(c,[Dn],h,!0))),Ar(o,c,c.pendingProps.children,h),c.child;case 29:throw c.pendingProps}throw Error(r(156,c.tag))}function lo(o){o.flags|=4}function a1(o,c,h,g,x){if((c=(o.mode&32)!==0)&&(c=!1),c){if(o.flags|=16777216,(x&335544128)===x)if(o.stateNode.complete)o.flags|=8192;else if(yR())o.flags|=8192;else throw tu=N0,E_}else o.flags&=-16777217}function Hj(o,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!ak(c))if(yR())o.flags|=8192;else throw tu=N0,E_}function q0(o,c){c!==null&&(o.flags|=4),o.flags&16384&&(c=o.tag!==22?Xg():536870912,o.lanes|=c,Ud|=c)}function im(o,c){if(!ut)switch(o.tailMode){case"hidden":c=o.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?o.tail=null:h.sibling=null;break;case"collapsed":h=o.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:g.sibling=null}}function Xt(o){var c=o.alternate!==null&&o.alternate.child===o.child,h=0,g=0;if(c)for(var x=o.child;x!==null;)h|=x.lanes|x.childLanes,g|=x.subtreeFlags&65011712,g|=x.flags&65011712,x.return=o,x=x.sibling;else for(x=o.child;x!==null;)h|=x.lanes|x.childLanes,g|=x.subtreeFlags,g|=x.flags,x.return=o,x=x.sibling;return o.subtreeFlags|=g,o.childLanes=h,c}function xY(o,c,h){var g=c.pendingProps;switch(m_(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xt(c),null;case 1:return Xt(c),null;case 3:return h=c.stateNode,g=null,o!==null&&(g=o.memoizedState.cache),c.memoizedState.cache!==g&&(c.flags|=2048),io(Dn),Z(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(o===null||o.child===null)&&(Ad(c)?lo(c):o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,g_())),Xt(c),null;case 26:var x=c.type,S=c.memoizedState;return o===null?(lo(c),S!==null?(Xt(c),Hj(c,S)):(Xt(c),a1(c,x,null,g,h))):S?S!==o.memoizedState?(lo(c),Xt(c),Hj(c,S)):(Xt(c),c.flags&=-16777217):(o=o.memoizedProps,o!==g&&lo(c),Xt(c),a1(c,x,o,g,h)),null;case 27:if(Ae(c),h=ye.current,x=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==g&&lo(c);else{if(!g){if(c.stateNode===null)throw Error(r(166));return Xt(c),null}o=ce.current,Ad(c)?SO(c):(o=ZR(x,g,h),c.stateNode=o,lo(c))}return Xt(c),null;case 5:if(Ae(c),x=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==g&&lo(c);else{if(!g){if(c.stateNode===null)throw Error(r(166));return Xt(c),null}if(S=ce.current,Ad(c))SO(c);else{var I=sy(ye.current);switch(S){case 1:S=I.createElementNS("http://www.w3.org/2000/svg",x);break;case 2:S=I.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;default:switch(x){case"svg":S=I.createElementNS("http://www.w3.org/2000/svg",x);break;case"math":S=I.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;case"script":S=I.createElement("div"),S.innerHTML="<script><\/script>",S=S.removeChild(S.firstChild);break;case"select":S=typeof g.is=="string"?I.createElement("select",{is:g.is}):I.createElement("select"),g.multiple?S.multiple=!0:g.size&&(S.size=g.size);break;default:S=typeof g.is=="string"?I.createElement(x,{is:g.is}):I.createElement(x)}}S[Rn]=c,S[cr]=g;e:for(I=c.child;I!==null;){if(I.tag===5||I.tag===6)S.appendChild(I.stateNode);else if(I.tag!==4&&I.tag!==27&&I.child!==null){I.child.return=I,I=I.child;continue}if(I===c)break e;for(;I.sibling===null;){if(I.return===null||I.return===c)break e;I=I.return}I.sibling.return=I.return,I=I.sibling}c.stateNode=S;e:switch(Nr(S,x,g),x){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}g&&lo(c)}}return Xt(c),a1(c,c.type,o===null?null:o.memoizedProps,c.pendingProps,h),null;case 6:if(o&&c.stateNode!=null)o.memoizedProps!==g&&lo(c);else{if(typeof g!="string"&&c.stateNode===null)throw Error(r(166));if(o=ye.current,Ad(c)){if(o=c.stateNode,h=c.memoizedProps,g=null,x=Sr,x!==null)switch(x.tag){case 27:case 5:g=x.memoizedProps}o[Rn]=c,o=!!(o.nodeValue===h||g!==null&&g.suppressHydrationWarning===!0||BR(o.nodeValue,h)),o||yl(c,!0)}else o=sy(o).createTextNode(g),o[Rn]=c,c.stateNode=o}return Xt(c),null;case 31:if(h=c.memoizedState,o===null||o.memoizedState!==null){if(g=Ad(c),h!==null){if(o===null){if(!g)throw Error(r(318));if(o=c.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(557));o[Rn]=c}else Xc(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Xt(c),o=!1}else h=g_(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=h),o=!0;if(!o)return c.flags&256?(Di(c),c):(Di(c),null);if((c.flags&128)!==0)throw Error(r(558))}return Xt(c),null;case 13:if(g=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(x=Ad(c),g!==null&&g.dehydrated!==null){if(o===null){if(!x)throw Error(r(318));if(x=c.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(r(317));x[Rn]=c}else Xc(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Xt(c),x=!1}else x=g_(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=x),x=!0;if(!x)return c.flags&256?(Di(c),c):(Di(c),null)}return Di(c),(c.flags&128)!==0?(c.lanes=h,c):(h=g!==null,o=o!==null&&o.memoizedState!==null,h&&(g=c.child,x=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(x=g.alternate.memoizedState.cachePool.pool),S=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(S=g.memoizedState.cachePool.pool),S!==x&&(g.flags|=2048)),h!==o&&h&&(c.child.flags|=8192),q0(c,c.updateQueue),Xt(c),null);case 4:return Z(),o===null&&C1(c.stateNode.containerInfo),Xt(c),null;case 10:return io(c.type),Xt(c),null;case 19:if(K(An),g=c.memoizedState,g===null)return Xt(c),null;if(x=(c.flags&128)!==0,S=g.rendering,S===null)if(x)im(g,!1);else{if(vn!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(S=O0(o),S!==null){for(c.flags|=128,im(g,!1),o=S.updateQueue,c.updateQueue=o,q0(c,o),c.subtreeFlags=0,o=h,h=c.child;h!==null;)bO(h,o),h=h.sibling;return re(An,An.current&1|2),ut&&no(c,g.treeForkCount),c.child}o=o.sibling}g.tail!==null&&Ie()>Y0&&(c.flags|=128,x=!0,im(g,!1),c.lanes=4194304)}else{if(!x)if(o=O0(S),o!==null){if(c.flags|=128,x=!0,o=o.updateQueue,c.updateQueue=o,q0(c,o),im(g,!0),g.tail===null&&g.tailMode==="hidden"&&!S.alternate&&!ut)return Xt(c),null}else 2*Ie()-g.renderingStartTime>Y0&&h!==536870912&&(c.flags|=128,x=!0,im(g,!1),c.lanes=4194304);g.isBackwards?(S.sibling=c.child,c.child=S):(o=g.last,o!==null?o.sibling=S:c.child=S,g.last=S)}return g.tail!==null?(o=g.tail,g.rendering=o,g.tail=o.sibling,g.renderingStartTime=Ie(),o.sibling=null,h=An.current,re(An,x?h&1|2:h&1),ut&&no(c,g.treeForkCount),o):(Xt(c),null);case 22:case 23:return Di(c),P_(),g=c.memoizedState!==null,o!==null?o.memoizedState!==null!==g&&(c.flags|=8192):g&&(c.flags|=8192),g?(h&536870912)!==0&&(c.flags&128)===0&&(Xt(c),c.subtreeFlags&6&&(c.flags|=8192)):Xt(c),h=c.updateQueue,h!==null&&q0(c,h.retryQueue),h=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==h&&(c.flags|=2048),o!==null&&K(Jc),null;case 24:return h=null,o!==null&&(h=o.memoizedState.cache),c.memoizedState.cache!==h&&(c.flags|=2048),io(Dn),Xt(c),null;case 25:return null;case 30:return null}throw Error(r(156,c.tag))}function wY(o,c){switch(m_(c),c.tag){case 1:return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return io(Dn),Z(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 26:case 27:case 5:return Ae(c),null;case 31:if(c.memoizedState!==null){if(Di(c),c.alternate===null)throw Error(r(340));Xc()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 13:if(Di(c),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(r(340));Xc()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return K(An),null;case 4:return Z(),null;case 10:return io(c.type),null;case 22:case 23:return Di(c),P_(),o!==null&&K(Jc),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 24:return io(Dn),null;case 25:return null;default:return null}}function Wj(o,c){switch(m_(c),c.tag){case 3:io(Dn),Z();break;case 26:case 27:case 5:Ae(c);break;case 4:Z();break;case 31:c.memoizedState!==null&&Di(c);break;case 13:Di(c);break;case 19:K(An);break;case 10:io(c.type);break;case 22:case 23:Di(c),P_(),o!==null&&K(Jc);break;case 24:io(Dn)}}function sm(o,c){try{var h=c.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var x=g.next;h=x;do{if((h.tag&o)===o){g=void 0;var S=h.create,I=h.inst;g=S(),I.destroy=g}h=h.next}while(h!==x)}}catch(U){Rt(c,c.return,U)}}function Sl(o,c,h){try{var g=c.updateQueue,x=g!==null?g.lastEffect:null;if(x!==null){var S=x.next;g=S;do{if((g.tag&o)===o){var I=g.inst,U=I.destroy;if(U!==void 0){I.destroy=void 0,x=c;var W=h,ne=U;try{ne()}catch(ue){Rt(x,W,ue)}}}g=g.next}while(g!==S)}}catch(ue){Rt(c,c.return,ue)}}function Kj(o){var c=o.updateQueue;if(c!==null){var h=o.stateNode;try{LO(c,h)}catch(g){Rt(o,o.return,g)}}}function Gj(o,c,h){h.props=iu(o.type,o.memoizedProps),h.state=o.memoizedState;try{h.componentWillUnmount()}catch(g){Rt(o,c,g)}}function am(o,c){try{var h=o.ref;if(h!==null){switch(o.tag){case 26:case 27:case 5:var g=o.stateNode;break;case 30:g=o.stateNode;break;default:g=o.stateNode}typeof h=="function"?o.refCleanup=h(g):h.current=g}}catch(x){Rt(o,c,x)}}function Sa(o,c){var h=o.ref,g=o.refCleanup;if(h!==null)if(typeof g=="function")try{g()}catch(x){Rt(o,c,x)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(x){Rt(o,c,x)}else h.current=null}function Yj(o){var c=o.type,h=o.memoizedProps,g=o.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":h.autoFocus&&g.focus();break e;case"img":h.src?g.src=h.src:h.srcSet&&(g.srcset=h.srcSet)}}catch(x){Rt(o,o.return,x)}}function o1(o,c,h){try{var g=o.stateNode;$Y(g,o.type,h,c),g[cr]=c}catch(x){Rt(o,o.return,x)}}function Xj(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&Ol(o.type)||o.tag===4}function l1(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||Xj(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&Ol(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function c1(o,c,h){var g=o.tag;if(g===5||g===6)o=o.stateNode,c?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(o,c):(c=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,c.appendChild(o),h=h._reactRootContainer,h!=null||c.onclick!==null||(c.onclick=Rs));else if(g!==4&&(g===27&&Ol(o.type)&&(h=o.stateNode,c=null),o=o.child,o!==null))for(c1(o,c,h),o=o.sibling;o!==null;)c1(o,c,h),o=o.sibling}function H0(o,c,h){var g=o.tag;if(g===5||g===6)o=o.stateNode,c?h.insertBefore(o,c):h.appendChild(o);else if(g!==4&&(g===27&&Ol(o.type)&&(h=o.stateNode),o=o.child,o!==null))for(H0(o,c,h),o=o.sibling;o!==null;)H0(o,c,h),o=o.sibling}function Qj(o){var c=o.stateNode,h=o.memoizedProps;try{for(var g=o.type,x=c.attributes;x.length;)c.removeAttributeNode(x[0]);Nr(c,g,h),c[Rn]=o,c[cr]=h}catch(S){Rt(o,o.return,S)}}var co=!1,Un=!1,u1=!1,Zj=typeof WeakSet=="function"?WeakSet:Set,dr=null;function _Y(o,c){if(o=o.containerInfo,O1=fy,o=uO(o),r_(o)){if("selectionStart"in o)var h={start:o.selectionStart,end:o.selectionEnd};else e:{h=(h=o.ownerDocument)&&h.defaultView||window;var g=h.getSelection&&h.getSelection();if(g&&g.rangeCount!==0){h=g.anchorNode;var x=g.anchorOffset,S=g.focusNode;g=g.focusOffset;try{h.nodeType,S.nodeType}catch{h=null;break e}var I=0,U=-1,W=-1,ne=0,ue=0,ge=o,ie=null;t:for(;;){for(var le;ge!==h||x!==0&&ge.nodeType!==3||(U=I+x),ge!==S||g!==0&&ge.nodeType!==3||(W=I+g),ge.nodeType===3&&(I+=ge.nodeValue.length),(le=ge.firstChild)!==null;)ie=ge,ge=le;for(;;){if(ge===o)break t;if(ie===h&&++ne===x&&(U=I),ie===S&&++ue===g&&(W=I),(le=ge.nextSibling)!==null)break;ge=ie,ie=ge.parentNode}ge=le}h=U===-1||W===-1?null:{start:U,end:W}}else h=null}h=h||{start:0,end:0}}else h=null;for(j1={focusedElem:o,selectionRange:h},fy=!1,dr=c;dr!==null;)if(c=dr,o=c.child,(c.subtreeFlags&1028)!==0&&o!==null)o.return=c,dr=o;else for(;dr!==null;){switch(c=dr,S=c.alternate,o=c.flags,c.tag){case 0:if((o&4)!==0&&(o=c.updateQueue,o=o!==null?o.events:null,o!==null))for(h=0;h<o.length;h++)x=o[h],x.ref.impl=x.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&S!==null){o=void 0,h=c,x=S.memoizedProps,S=S.memoizedState,g=h.stateNode;try{var Pe=iu(h.type,x);o=g.getSnapshotBeforeUpdate(Pe,S),g.__reactInternalSnapshotBeforeUpdate=o}catch(Ue){Rt(h,h.return,Ue)}}break;case 3:if((o&1024)!==0){if(o=c.stateNode.containerInfo,h=o.nodeType,h===9)M1(o);else if(h===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":M1(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=c.sibling,o!==null){o.return=c.return,dr=o;break}dr=c.return}}function Jj(o,c,h){var g=h.flags;switch(h.tag){case 0:case 11:case 15:fo(o,h),g&4&&sm(5,h);break;case 1:if(fo(o,h),g&4)if(o=h.stateNode,c===null)try{o.componentDidMount()}catch(I){Rt(h,h.return,I)}else{var x=iu(h.type,c.memoizedProps);c=c.memoizedState;try{o.componentDidUpdate(x,c,o.__reactInternalSnapshotBeforeUpdate)}catch(I){Rt(h,h.return,I)}}g&64&&Kj(h),g&512&&am(h,h.return);break;case 3:if(fo(o,h),g&64&&(o=h.updateQueue,o!==null)){if(c=null,h.child!==null)switch(h.child.tag){case 27:case 5:c=h.child.stateNode;break;case 1:c=h.child.stateNode}try{LO(o,c)}catch(I){Rt(h,h.return,I)}}break;case 27:c===null&&g&4&&Qj(h);case 26:case 5:fo(o,h),c===null&&g&4&&Yj(h),g&512&&am(h,h.return);break;case 12:fo(o,h);break;case 31:fo(o,h),g&4&&nR(o,h);break;case 13:fo(o,h),g&4&&rR(o,h),g&64&&(o=h.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(h=OY.bind(null,h),QY(o,h))));break;case 22:if(g=h.memoizedState!==null||co,!g){c=c!==null&&c.memoizedState!==null||Un,x=co;var S=Un;co=g,(Un=c)&&!S?ho(o,h,(h.subtreeFlags&8772)!==0):fo(o,h),co=x,Un=S}break;case 30:break;default:fo(o,h)}}function eR(o){var c=o.alternate;c!==null&&(o.alternate=null,eR(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&cd(c)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var rn=null,pi=!1;function uo(o,c,h){for(h=h.child;h!==null;)tR(o,c,h),h=h.sibling}function tR(o,c,h){if(tn&&typeof tn.onCommitFiberUnmount=="function")try{tn.onCommitFiberUnmount(ar,h)}catch{}switch(h.tag){case 26:Un||Sa(h,c),uo(o,c,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:Un||Sa(h,c);var g=rn,x=pi;Ol(h.type)&&(rn=h.stateNode,pi=!1),uo(o,c,h),pm(h.stateNode),rn=g,pi=x;break;case 5:Un||Sa(h,c);case 6:if(g=rn,x=pi,rn=null,uo(o,c,h),rn=g,pi=x,rn!==null)if(pi)try{(rn.nodeType===9?rn.body:rn.nodeName==="HTML"?rn.ownerDocument.body:rn).removeChild(h.stateNode)}catch(S){Rt(h,c,S)}else try{rn.removeChild(h.stateNode)}catch(S){Rt(h,c,S)}break;case 18:rn!==null&&(pi?(o=rn,KR(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,h.stateNode),Kd(o)):KR(rn,h.stateNode));break;case 4:g=rn,x=pi,rn=h.stateNode.containerInfo,pi=!0,uo(o,c,h),rn=g,pi=x;break;case 0:case 11:case 14:case 15:Sl(2,h,c),Un||Sl(4,h,c),uo(o,c,h);break;case 1:Un||(Sa(h,c),g=h.stateNode,typeof g.componentWillUnmount=="function"&&Gj(h,c,g)),uo(o,c,h);break;case 21:uo(o,c,h);break;case 22:Un=(g=Un)||h.memoizedState!==null,uo(o,c,h),Un=g;break;default:uo(o,c,h)}}function nR(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{Kd(o)}catch(h){Rt(c,c.return,h)}}}function rR(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{Kd(o)}catch(h){Rt(c,c.return,h)}}function EY(o){switch(o.tag){case 31:case 13:case 19:var c=o.stateNode;return c===null&&(c=o.stateNode=new Zj),c;case 22:return o=o.stateNode,c=o._retryCache,c===null&&(c=o._retryCache=new Zj),c;default:throw Error(r(435,o.tag))}}function W0(o,c){var h=EY(o);c.forEach(function(g){if(!h.has(g)){h.add(g);var x=jY.bind(null,o,g);g.then(x,x)}})}function gi(o,c){var h=c.deletions;if(h!==null)for(var g=0;g<h.length;g++){var x=h[g],S=o,I=c,U=I;e:for(;U!==null;){switch(U.tag){case 27:if(Ol(U.type)){rn=U.stateNode,pi=!1;break e}break;case 5:rn=U.stateNode,pi=!1;break e;case 3:case 4:rn=U.stateNode.containerInfo,pi=!0;break e}U=U.return}if(rn===null)throw Error(r(160));tR(S,I,x),rn=null,pi=!1,S=x.alternate,S!==null&&(S.return=null),x.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)iR(c,o),c=c.sibling}var Us=null;function iR(o,c){var h=o.alternate,g=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:gi(c,o),yi(o),g&4&&(Sl(3,o,o.return),sm(3,o),Sl(5,o,o.return));break;case 1:gi(c,o),yi(o),g&512&&(Un||h===null||Sa(h,h.return)),g&64&&co&&(o=o.updateQueue,o!==null&&(g=o.callbacks,g!==null&&(h=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=h===null?g:h.concat(g))));break;case 26:var x=Us;if(gi(c,o),yi(o),g&512&&(Un||h===null||Sa(h,h.return)),g&4){var S=h!==null?h.memoizedState:null;if(g=o.memoizedState,h===null)if(g===null)if(o.stateNode===null){e:{g=o.type,h=o.memoizedProps,x=x.ownerDocument||x;t:switch(g){case"title":S=x.getElementsByTagName("title")[0],(!S||S[ua]||S[Rn]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=x.createElement(g),x.head.insertBefore(S,x.querySelector("head > title"))),Nr(S,g,h),S[Rn]=o,kn(S),g=S;break e;case"link":var I=ik("link","href",x).get(g+(h.href||""));if(I){for(var U=0;U<I.length;U++)if(S=I[U],S.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&S.getAttribute("rel")===(h.rel==null?null:h.rel)&&S.getAttribute("title")===(h.title==null?null:h.title)&&S.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){I.splice(U,1);break t}}S=x.createElement(g),Nr(S,g,h),x.head.appendChild(S);break;case"meta":if(I=ik("meta","content",x).get(g+(h.content||""))){for(U=0;U<I.length;U++)if(S=I[U],S.getAttribute("content")===(h.content==null?null:""+h.content)&&S.getAttribute("name")===(h.name==null?null:h.name)&&S.getAttribute("property")===(h.property==null?null:h.property)&&S.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&S.getAttribute("charset")===(h.charSet==null?null:h.charSet)){I.splice(U,1);break t}}S=x.createElement(g),Nr(S,g,h),x.head.appendChild(S);break;default:throw Error(r(468,g))}S[Rn]=o,kn(S),g=S}o.stateNode=g}else sk(x,o.type,o.stateNode);else o.stateNode=rk(x,g,o.memoizedProps);else S!==g?(S===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):S.count--,g===null?sk(x,o.type,o.stateNode):rk(x,g,o.memoizedProps)):g===null&&o.stateNode!==null&&o1(o,o.memoizedProps,h.memoizedProps)}break;case 27:gi(c,o),yi(o),g&512&&(Un||h===null||Sa(h,h.return)),h!==null&&g&4&&o1(o,o.memoizedProps,h.memoizedProps);break;case 5:if(gi(c,o),yi(o),g&512&&(Un||h===null||Sa(h,h.return)),o.flags&32){x=o.stateNode;try{mi(x,"")}catch(Pe){Rt(o,o.return,Pe)}}g&4&&o.stateNode!=null&&(x=o.memoizedProps,o1(o,x,h!==null?h.memoizedProps:x)),g&1024&&(u1=!0);break;case 6:if(gi(c,o),yi(o),g&4){if(o.stateNode===null)throw Error(r(162));g=o.memoizedProps,h=o.stateNode;try{h.nodeValue=g}catch(Pe){Rt(o,o.return,Pe)}}break;case 3:if(ly=null,x=Us,Us=ay(c.containerInfo),gi(c,o),Us=x,yi(o),g&4&&h!==null&&h.memoizedState.isDehydrated)try{Kd(c.containerInfo)}catch(Pe){Rt(o,o.return,Pe)}u1&&(u1=!1,sR(o));break;case 4:g=Us,Us=ay(o.stateNode.containerInfo),gi(c,o),yi(o),Us=g;break;case 12:gi(c,o),yi(o);break;case 31:gi(c,o),yi(o),g&4&&(g=o.updateQueue,g!==null&&(o.updateQueue=null,W0(o,g)));break;case 13:gi(c,o),yi(o),o.child.flags&8192&&o.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(G0=Ie()),g&4&&(g=o.updateQueue,g!==null&&(o.updateQueue=null,W0(o,g)));break;case 22:x=o.memoizedState!==null;var W=h!==null&&h.memoizedState!==null,ne=co,ue=Un;if(co=ne||x,Un=ue||W,gi(c,o),Un=ue,co=ne,yi(o),g&8192)e:for(c=o.stateNode,c._visibility=x?c._visibility&-2:c._visibility|1,x&&(h===null||W||co||Un||su(o)),h=null,c=o;;){if(c.tag===5||c.tag===26){if(h===null){W=h=c;try{if(S=W.stateNode,x)I=S.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none";else{U=W.stateNode;var ge=W.memoizedProps.style,ie=ge!=null&&ge.hasOwnProperty("display")?ge.display:null;U.style.display=ie==null||typeof ie=="boolean"?"":(""+ie).trim()}}catch(Pe){Rt(W,W.return,Pe)}}}else if(c.tag===6){if(h===null){W=c;try{W.stateNode.nodeValue=x?"":W.memoizedProps}catch(Pe){Rt(W,W.return,Pe)}}}else if(c.tag===18){if(h===null){W=c;try{var le=W.stateNode;x?GR(le,!0):GR(W.stateNode,!1)}catch(Pe){Rt(W,W.return,Pe)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===o)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break e;for(;c.sibling===null;){if(c.return===null||c.return===o)break e;h===c&&(h=null),c=c.return}h===c&&(h=null),c.sibling.return=c.return,c=c.sibling}g&4&&(g=o.updateQueue,g!==null&&(h=g.retryQueue,h!==null&&(g.retryQueue=null,W0(o,h))));break;case 19:gi(c,o),yi(o),g&4&&(g=o.updateQueue,g!==null&&(o.updateQueue=null,W0(o,g)));break;case 30:break;case 21:break;default:gi(c,o),yi(o)}}function yi(o){var c=o.flags;if(c&2){try{for(var h,g=o.return;g!==null;){if(Xj(g)){h=g;break}g=g.return}if(h==null)throw Error(r(160));switch(h.tag){case 27:var x=h.stateNode,S=l1(o);H0(o,S,x);break;case 5:var I=h.stateNode;h.flags&32&&(mi(I,""),h.flags&=-33);var U=l1(o);H0(o,U,I);break;case 3:case 4:var W=h.stateNode.containerInfo,ne=l1(o);c1(o,ne,W);break;default:throw Error(r(161))}}catch(ue){Rt(o,o.return,ue)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function sR(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var c=o;sR(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),o=o.sibling}}function fo(o,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)Jj(o,c.alternate,c),c=c.sibling}function su(o){for(o=o.child;o!==null;){var c=o;switch(c.tag){case 0:case 11:case 14:case 15:Sl(4,c,c.return),su(c);break;case 1:Sa(c,c.return);var h=c.stateNode;typeof h.componentWillUnmount=="function"&&Gj(c,c.return,h),su(c);break;case 27:pm(c.stateNode);case 26:case 5:Sa(c,c.return),su(c);break;case 22:c.memoizedState===null&&su(c);break;case 30:su(c);break;default:su(c)}o=o.sibling}}function ho(o,c,h){for(h=h&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var g=c.alternate,x=o,S=c,I=S.flags;switch(S.tag){case 0:case 11:case 15:ho(x,S,h),sm(4,S);break;case 1:if(ho(x,S,h),g=S,x=g.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(ne){Rt(g,g.return,ne)}if(g=S,x=g.updateQueue,x!==null){var U=g.stateNode;try{var W=x.shared.hiddenCallbacks;if(W!==null)for(x.shared.hiddenCallbacks=null,x=0;x<W.length;x++)DO(W[x],U)}catch(ne){Rt(g,g.return,ne)}}h&&I&64&&Kj(S),am(S,S.return);break;case 27:Qj(S);case 26:case 5:ho(x,S,h),h&&g===null&&I&4&&Yj(S),am(S,S.return);break;case 12:ho(x,S,h);break;case 31:ho(x,S,h),h&&I&4&&nR(x,S);break;case 13:ho(x,S,h),h&&I&4&&rR(x,S);break;case 22:S.memoizedState===null&&ho(x,S,h),am(S,S.return);break;case 30:break;default:ho(x,S,h)}c=c.sibling}}function d1(o,c){var h=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),o=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(o=c.memoizedState.cachePool.pool),o!==h&&(o!=null&&o.refCount++,h!=null&&Wh(h))}function f1(o,c){o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&Wh(o))}function zs(o,c,h,g){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)aR(o,c,h,g),c=c.sibling}function aR(o,c,h,g){var x=c.flags;switch(c.tag){case 0:case 11:case 15:zs(o,c,h,g),x&2048&&sm(9,c);break;case 1:zs(o,c,h,g);break;case 3:zs(o,c,h,g),x&2048&&(o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&Wh(o)));break;case 12:if(x&2048){zs(o,c,h,g),o=c.stateNode;try{var S=c.memoizedProps,I=S.id,U=S.onPostCommit;typeof U=="function"&&U(I,c.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(W){Rt(c,c.return,W)}}else zs(o,c,h,g);break;case 31:zs(o,c,h,g);break;case 13:zs(o,c,h,g);break;case 23:break;case 22:S=c.stateNode,I=c.alternate,c.memoizedState!==null?S._visibility&2?zs(o,c,h,g):om(o,c):S._visibility&2?zs(o,c,h,g):(S._visibility|=2,Dd(o,c,h,g,(c.subtreeFlags&10256)!==0||!1)),x&2048&&d1(I,c);break;case 24:zs(o,c,h,g),x&2048&&f1(c.alternate,c);break;default:zs(o,c,h,g)}}function Dd(o,c,h,g,x){for(x=x&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var S=o,I=c,U=h,W=g,ne=I.flags;switch(I.tag){case 0:case 11:case 15:Dd(S,I,U,W,x),sm(8,I);break;case 23:break;case 22:var ue=I.stateNode;I.memoizedState!==null?ue._visibility&2?Dd(S,I,U,W,x):om(S,I):(ue._visibility|=2,Dd(S,I,U,W,x)),x&&ne&2048&&d1(I.alternate,I);break;case 24:Dd(S,I,U,W,x),x&&ne&2048&&f1(I.alternate,I);break;default:Dd(S,I,U,W,x)}c=c.sibling}}function om(o,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var h=o,g=c,x=g.flags;switch(g.tag){case 22:om(h,g),x&2048&&d1(g.alternate,g);break;case 24:om(h,g),x&2048&&f1(g.alternate,g);break;default:om(h,g)}c=c.sibling}}var lm=8192;function Ld(o,c,h){if(o.subtreeFlags&lm)for(o=o.child;o!==null;)oR(o,c,h),o=o.sibling}function oR(o,c,h){switch(o.tag){case 26:Ld(o,c,h),o.flags&lm&&o.memoizedState!==null&&cX(h,Us,o.memoizedState,o.memoizedProps);break;case 5:Ld(o,c,h);break;case 3:case 4:var g=Us;Us=ay(o.stateNode.containerInfo),Ld(o,c,h),Us=g;break;case 22:o.memoizedState===null&&(g=o.alternate,g!==null&&g.memoizedState!==null?(g=lm,lm=16777216,Ld(o,c,h),lm=g):Ld(o,c,h));break;default:Ld(o,c,h)}}function lR(o){var c=o.alternate;if(c!==null&&(o=c.child,o!==null)){c.child=null;do c=o.sibling,o.sibling=null,o=c;while(o!==null)}}function cm(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var h=0;h<c.length;h++){var g=c[h];dr=g,uR(g,o)}lR(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)cR(o),o=o.sibling}function cR(o){switch(o.tag){case 0:case 11:case 15:cm(o),o.flags&2048&&Sl(9,o,o.return);break;case 3:cm(o);break;case 12:cm(o);break;case 22:var c=o.stateNode;o.memoizedState!==null&&c._visibility&2&&(o.return===null||o.return.tag!==13)?(c._visibility&=-3,K0(o)):cm(o);break;default:cm(o)}}function K0(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var h=0;h<c.length;h++){var g=c[h];dr=g,uR(g,o)}lR(o)}for(o=o.child;o!==null;){switch(c=o,c.tag){case 0:case 11:case 15:Sl(8,c,c.return),K0(c);break;case 22:h=c.stateNode,h._visibility&2&&(h._visibility&=-3,K0(c));break;default:K0(c)}o=o.sibling}}function uR(o,c){for(;dr!==null;){var h=dr;switch(h.tag){case 0:case 11:case 15:Sl(8,h,c);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var g=h.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:Wh(h.memoizedState.cache)}if(g=h.child,g!==null)g.return=h,dr=g;else e:for(h=o;dr!==null;){g=dr;var x=g.sibling,S=g.return;if(eR(g),g===h){dr=null;break e}if(x!==null){x.return=S,dr=x;break e}dr=S}}}var SY={getCacheForType:function(o){var c=Tr(Dn),h=c.data.get(o);return h===void 0&&(h=o(),c.data.set(o,h)),h},cacheSignal:function(){return Tr(Dn).controller.signal}},TY=typeof WeakMap=="function"?WeakMap:Map,_t=0,qt=null,tt=null,st=0,jt=0,Li=null,Tl=!1,Vd=!1,h1=!1,mo=0,vn=0,Al=0,au=0,m1=0,Vi=0,Ud=0,um=null,vi=null,p1=!1,G0=0,dR=0,Y0=1/0,X0=null,Nl=null,Yn=0,Cl=null,zd=null,po=0,g1=0,y1=null,fR=null,dm=0,v1=null;function Ui(){return(_t&2)!==0&&st!==0?st&-st:X.T!==null?S1():Qg()}function hR(){if(Vi===0)if((st&536870912)===0||ut){var o=Gn;Gn<<=1,(Gn&3932160)===0&&(Gn=262144),Vi=o}else Vi=536870912;return o=Mi.current,o!==null&&(o.flags|=32),Vi}function bi(o,c,h){(o===qt&&(jt===2||jt===9)||o.cancelPendingCommit!==null)&&(Bd(o,0),Pl(o,st,Vi,!1)),kc(o,h),((_t&2)===0||o!==qt)&&(o===qt&&((_t&2)===0&&(au|=h),vn===4&&Pl(o,st,Vi,!1)),Ta(o))}function mR(o,c,h){if((_t&6)!==0)throw Error(r(327));var g=!h&&(c&127)===0&&(c&o.expiredLanes)===0||lr(o,c),x=g?CY(o,c):x1(o,c,!0),S=g;do{if(x===0){Vd&&!g&&Pl(o,c,0,!1);break}else{if(h=o.current.alternate,S&&!AY(h)){x=x1(o,c,!1),S=!1;continue}if(x===2){if(S=c,o.errorRecoveryDisabledLanes&S)var I=0;else I=o.pendingLanes&-536870913,I=I!==0?I:I&536870912?536870912:0;if(I!==0){c=I;e:{var U=o;x=um;var W=U.current.memoizedState.isDehydrated;if(W&&(Bd(U,I).flags|=256),I=x1(U,I,!1),I!==2){if(h1&&!W){U.errorRecoveryDisabledLanes|=S,au|=S,x=4;break e}S=vi,vi=x,S!==null&&(vi===null?vi=S:vi.push.apply(vi,S))}x=I}if(S=!1,x!==2)continue}}if(x===1){Bd(o,0),Pl(o,c,0,!0);break}e:{switch(g=o,S=x,S){case 0:case 1:throw Error(r(345));case 4:if((c&4194048)!==c)break;case 6:Pl(g,c,Vi,!Tl);break e;case 2:vi=null;break;case 3:case 5:break;default:throw Error(r(329))}if((c&62914560)===c&&(x=G0+300-Ie(),10<x)){if(Pl(g,c,Vi,!Tl),Vr(g,0,!0)!==0)break e;po=c,g.timeoutHandle=HR(pR.bind(null,g,h,vi,X0,p1,c,Vi,au,Ud,Tl,S,"Throttled",-0,0),x);break e}pR(g,h,vi,X0,p1,c,Vi,au,Ud,Tl,S,null,-0,0)}}break}while(!0);Ta(o)}function pR(o,c,h,g,x,S,I,U,W,ne,ue,ge,ie,le){if(o.timeoutHandle=-1,ge=c.subtreeFlags,ge&8192||(ge&16785408)===16785408){ge={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Rs},oR(c,S,ge);var Pe=(S&62914560)===S?G0-Ie():(S&4194048)===S?dR-Ie():0;if(Pe=uX(ge,Pe),Pe!==null){po=S,o.cancelPendingCommit=Pe(ER.bind(null,o,c,S,h,g,x,I,U,W,ue,ge,null,ie,le)),Pl(o,S,I,!ne);return}}ER(o,c,S,h,g,x,I,U,W)}function AY(o){for(var c=o;;){var h=c.tag;if((h===0||h===11||h===15)&&c.flags&16384&&(h=c.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var g=0;g<h.length;g++){var x=h[g],S=x.getSnapshot;x=x.value;try{if(!Ri(S(),x))return!1}catch{return!1}}if(h=c.child,c.subtreeFlags&16384&&h!==null)h.return=c,c=h;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Pl(o,c,h,g){c&=~m1,c&=~au,o.suspendedLanes|=c,o.pingedLanes&=~c,g&&(o.warmLanes|=c),g=o.expirationTimes;for(var x=c;0<x;){var S=31-dt(x),I=1<<S;g[S]=-1,x&=~I}h!==0&&Mc(o,h,c)}function Q0(){return(_t&6)===0?(fm(0),!1):!0}function b1(){if(tt!==null){if(jt===0)var o=tt.return;else o=tt,ro=Qc=null,M_(o),Od=null,Gh=0,o=tt;for(;o!==null;)Wj(o.alternate,o),o=o.return;tt=null}}function Bd(o,c){var h=o.timeoutHandle;h!==-1&&(o.timeoutHandle=-1,WY(h)),h=o.cancelPendingCommit,h!==null&&(o.cancelPendingCommit=null,h()),po=0,b1(),qt=o,tt=h=to(o.current,null),st=c,jt=0,Li=null,Tl=!1,Vd=lr(o,c),h1=!1,Ud=Vi=m1=au=Al=vn=0,vi=um=null,p1=!1,(c&8)!==0&&(c|=c&32);var g=o.entangledLanes;if(g!==0)for(o=o.entanglements,g&=c;0<g;){var x=31-dt(g),S=1<<x;c|=o[x],g&=~S}return mo=c,v0(),h}function gR(o,c){Qe=null,X.H=nm,c===Id||c===A0?(c=jO(),jt=3):c===E_?(c=jO(),jt=4):jt=c===Q_?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Li=c,tt===null&&(vn=1,z0(o,ss(c,o.current)))}function yR(){var o=Mi.current;return o===null?!0:(st&4194048)===st?cs===null:(st&62914560)===st||(st&536870912)!==0?o===cs:!1}function vR(){var o=X.H;return X.H=nm,o===null?nm:o}function bR(){var o=X.A;return X.A=SY,o}function Z0(){vn=4,Tl||(st&4194048)!==st&&Mi.current!==null||(Vd=!0),(Al&134217727)===0&&(au&134217727)===0||qt===null||Pl(qt,st,Vi,!1)}function x1(o,c,h){var g=_t;_t|=2;var x=vR(),S=bR();(qt!==o||st!==c)&&(X0=null,Bd(o,c)),c=!1;var I=vn;e:do try{if(jt!==0&&tt!==null){var U=tt,W=Li;switch(jt){case 8:b1(),I=6;break e;case 3:case 2:case 9:case 6:Mi.current===null&&(c=!0);var ne=jt;if(jt=0,Li=null,Fd(o,U,W,ne),h&&Vd){I=0;break e}break;default:ne=jt,jt=0,Li=null,Fd(o,U,W,ne)}}NY(),I=vn;break}catch(ue){gR(o,ue)}while(!0);return c&&o.shellSuspendCounter++,ro=Qc=null,_t=g,X.H=x,X.A=S,tt===null&&(qt=null,st=0,v0()),I}function NY(){for(;tt!==null;)xR(tt)}function CY(o,c){var h=_t;_t|=2;var g=vR(),x=bR();qt!==o||st!==c?(X0=null,Y0=Ie()+500,Bd(o,c)):Vd=lr(o,c);e:do try{if(jt!==0&&tt!==null){c=tt;var S=Li;t:switch(jt){case 1:jt=0,Li=null,Fd(o,c,S,1);break;case 2:case 9:if(IO(S)){jt=0,Li=null,wR(c);break}c=function(){jt!==2&&jt!==9||qt!==o||(jt=7),Ta(o)},S.then(c,c);break e;case 3:jt=7;break e;case 4:jt=5;break e;case 7:IO(S)?(jt=0,Li=null,wR(c)):(jt=0,Li=null,Fd(o,c,S,7));break;case 5:var I=null;switch(tt.tag){case 26:I=tt.memoizedState;case 5:case 27:var U=tt;if(I?ak(I):U.stateNode.complete){jt=0,Li=null;var W=U.sibling;if(W!==null)tt=W;else{var ne=U.return;ne!==null?(tt=ne,J0(ne)):tt=null}break t}}jt=0,Li=null,Fd(o,c,S,5);break;case 6:jt=0,Li=null,Fd(o,c,S,6);break;case 8:b1(),vn=6;break e;default:throw Error(r(462))}}PY();break}catch(ue){gR(o,ue)}while(!0);return ro=Qc=null,X.H=g,X.A=x,_t=h,tt!==null?0:(qt=null,st=0,v0(),vn)}function PY(){for(;tt!==null&&!Le();)xR(tt)}function xR(o){var c=qj(o.alternate,o,mo);o.memoizedProps=o.pendingProps,c===null?J0(o):tt=c}function wR(o){var c=o,h=c.alternate;switch(c.tag){case 15:case 0:c=Vj(h,c,c.pendingProps,c.type,void 0,st);break;case 11:c=Vj(h,c,c.pendingProps,c.type.render,c.ref,st);break;case 5:M_(c);default:Wj(h,c),c=tt=bO(c,mo),c=qj(h,c,mo)}o.memoizedProps=o.pendingProps,c===null?J0(o):tt=c}function Fd(o,c,h,g){ro=Qc=null,M_(c),Od=null,Gh=0;var x=c.return;try{if(yY(o,x,c,h,st)){vn=1,z0(o,ss(h,o.current)),tt=null;return}}catch(S){if(x!==null)throw tt=x,S;vn=1,z0(o,ss(h,o.current)),tt=null;return}c.flags&32768?(ut||g===1?o=!0:Vd||(st&536870912)!==0?o=!1:(Tl=o=!0,(g===2||g===9||g===3||g===6)&&(g=Mi.current,g!==null&&g.tag===13&&(g.flags|=16384))),_R(c,o)):J0(c)}function J0(o){var c=o;do{if((c.flags&32768)!==0){_R(c,Tl);return}o=c.return;var h=xY(c.alternate,c,mo);if(h!==null){tt=h;return}if(c=c.sibling,c!==null){tt=c;return}tt=c=o}while(c!==null);vn===0&&(vn=5)}function _R(o,c){do{var h=wY(o.alternate,o);if(h!==null){h.flags&=32767,tt=h;return}if(h=o.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!c&&(o=o.sibling,o!==null)){tt=o;return}tt=o=h}while(o!==null);vn=6,tt=null}function ER(o,c,h,g,x,S,I,U,W){o.cancelPendingCommit=null;do ey();while(Yn!==0);if((_t&6)!==0)throw Error(r(327));if(c!==null){if(c===o.current)throw Error(r(177));if(S=c.lanes|c.childLanes,S|=l_,Jw(o,h,S,I,U,W),o===qt&&(tt=qt=null,st=0),zd=c,Cl=o,po=h,g1=S,y1=x,fR=g,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,RY(ct,function(){return CR(),null})):(o.callbackNode=null,o.callbackPriority=0),g=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||g){g=X.T,X.T=null,x=ee.p,ee.p=2,I=_t,_t|=4;try{_Y(o,c,h)}finally{_t=I,ee.p=x,X.T=g}}Yn=1,SR(),TR(),AR()}}function SR(){if(Yn===1){Yn=0;var o=Cl,c=zd,h=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||h){h=X.T,X.T=null;var g=ee.p;ee.p=2;var x=_t;_t|=4;try{iR(c,o);var S=j1,I=uO(o.containerInfo),U=S.focusedElem,W=S.selectionRange;if(I!==U&&U&&U.ownerDocument&&cO(U.ownerDocument.documentElement,U)){if(W!==null&&r_(U)){var ne=W.start,ue=W.end;if(ue===void 0&&(ue=ne),"selectionStart"in U)U.selectionStart=ne,U.selectionEnd=Math.min(ue,U.value.length);else{var ge=U.ownerDocument||document,ie=ge&&ge.defaultView||window;if(ie.getSelection){var le=ie.getSelection(),Pe=U.textContent.length,Ue=Math.min(W.start,Pe),Bt=W.end===void 0?Ue:Math.min(W.end,Pe);!le.extend&&Ue>Bt&&(I=Bt,Bt=Ue,Ue=I);var Q=lO(U,Ue),G=lO(U,Bt);if(Q&&G&&(le.rangeCount!==1||le.anchorNode!==Q.node||le.anchorOffset!==Q.offset||le.focusNode!==G.node||le.focusOffset!==G.offset)){var te=ge.createRange();te.setStart(Q.node,Q.offset),le.removeAllRanges(),Ue>Bt?(le.addRange(te),le.extend(G.node,G.offset)):(te.setEnd(G.node,G.offset),le.addRange(te))}}}}for(ge=[],le=U;le=le.parentNode;)le.nodeType===1&&ge.push({element:le,left:le.scrollLeft,top:le.scrollTop});for(typeof U.focus=="function"&&U.focus(),U=0;U<ge.length;U++){var me=ge[U];me.element.scrollLeft=me.left,me.element.scrollTop=me.top}}fy=!!O1,j1=O1=null}finally{_t=x,ee.p=g,X.T=h}}o.current=c,Yn=2}}function TR(){if(Yn===2){Yn=0;var o=Cl,c=zd,h=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||h){h=X.T,X.T=null;var g=ee.p;ee.p=2;var x=_t;_t|=4;try{Jj(o,c.alternate,c)}finally{_t=x,ee.p=g,X.T=h}}Yn=3}}function AR(){if(Yn===4||Yn===3){Yn=0,ke();var o=Cl,c=zd,h=po,g=fR;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?Yn=5:(Yn=0,zd=Cl=null,NR(o,o.pendingLanes));var x=o.pendingLanes;if(x===0&&(Nl=null),Qa(h),c=c.stateNode,tn&&typeof tn.onCommitFiberRoot=="function")try{tn.onCommitFiberRoot(ar,c,void 0,(c.current.flags&128)===128)}catch{}if(g!==null){c=X.T,x=ee.p,ee.p=2,X.T=null;try{for(var S=o.onRecoverableError,I=0;I<g.length;I++){var U=g[I];S(U.value,{componentStack:U.stack})}}finally{X.T=c,ee.p=x}}(po&3)!==0&&ey(),Ta(o),x=o.pendingLanes,(h&261930)!==0&&(x&42)!==0?o===v1?dm++:(dm=0,v1=o):dm=0,fm(0)}}function NR(o,c){(o.pooledCacheLanes&=c)===0&&(c=o.pooledCache,c!=null&&(o.pooledCache=null,Wh(c)))}function ey(){return SR(),TR(),AR(),CR()}function CR(){if(Yn!==5)return!1;var o=Cl,c=g1;g1=0;var h=Qa(po),g=X.T,x=ee.p;try{ee.p=32>h?32:h,X.T=null,h=y1,y1=null;var S=Cl,I=po;if(Yn=0,zd=Cl=null,po=0,(_t&6)!==0)throw Error(r(331));var U=_t;if(_t|=4,cR(S.current),aR(S,S.current,I,h),_t=U,fm(0,!1),tn&&typeof tn.onPostCommitFiberRoot=="function")try{tn.onPostCommitFiberRoot(ar,S)}catch{}return!0}finally{ee.p=x,X.T=g,NR(o,c)}}function PR(o,c,h){c=ss(h,c),c=X_(o.stateNode,c,2),o=wl(o,c,2),o!==null&&(kc(o,2),Ta(o))}function Rt(o,c,h){if(o.tag===3)PR(o,o,h);else for(;c!==null;){if(c.tag===3){PR(c,o,h);break}else if(c.tag===1){var g=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Nl===null||!Nl.has(g))){o=ss(h,o),h=Ij(2),g=wl(c,h,2),g!==null&&(Oj(h,g,c,o),kc(g,2),Ta(g));break}}c=c.return}}function w1(o,c,h){var g=o.pingCache;if(g===null){g=o.pingCache=new TY;var x=new Set;g.set(c,x)}else x=g.get(c),x===void 0&&(x=new Set,g.set(c,x));x.has(h)||(h1=!0,x.add(h),o=IY.bind(null,o,c,h),c.then(o,o))}function IY(o,c,h){var g=o.pingCache;g!==null&&g.delete(c),o.pingedLanes|=o.suspendedLanes&h,o.warmLanes&=~h,qt===o&&(st&h)===h&&(vn===4||vn===3&&(st&62914560)===st&&300>Ie()-G0?(_t&2)===0&&Bd(o,0):m1|=h,Ud===st&&(Ud=0)),Ta(o)}function IR(o,c){c===0&&(c=Xg()),o=Gc(o,c),o!==null&&(kc(o,c),Ta(o))}function OY(o){var c=o.memoizedState,h=0;c!==null&&(h=c.retryLane),IR(o,h)}function jY(o,c){var h=0;switch(o.tag){case 31:case 13:var g=o.stateNode,x=o.memoizedState;x!==null&&(h=x.retryLane);break;case 19:g=o.stateNode;break;case 22:g=o.stateNode._retryCache;break;default:throw Error(r(314))}g!==null&&g.delete(c),IR(o,h)}function RY(o,c){return pt(o,c)}var ty=null,$d=null,_1=!1,ny=!1,E1=!1,Il=0;function Ta(o){o!==$d&&o.next===null&&($d===null?ty=$d=o:$d=$d.next=o),ny=!0,_1||(_1=!0,MY())}function fm(o,c){if(!E1&&ny){E1=!0;do for(var h=!1,g=ty;g!==null;){if(o!==0){var x=g.pendingLanes;if(x===0)var S=0;else{var I=g.suspendedLanes,U=g.pingedLanes;S=(1<<31-dt(42|o)+1)-1,S&=x&~(I&~U),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(h=!0,kR(g,S))}else S=st,S=Vr(g,g===qt?S:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(S&3)===0||lr(g,S)||(h=!0,kR(g,S));g=g.next}while(h);E1=!1}}function kY(){OR()}function OR(){ny=_1=!1;var o=0;Il!==0&&HY()&&(o=Il);for(var c=Ie(),h=null,g=ty;g!==null;){var x=g.next,S=jR(g,c);S===0?(g.next=null,h===null?ty=x:h.next=x,x===null&&($d=h)):(h=g,(o!==0||(S&3)!==0)&&(ny=!0)),g=x}Yn!==0&&Yn!==5||fm(o),Il!==0&&(Il=0)}function jR(o,c){for(var h=o.suspendedLanes,g=o.pingedLanes,x=o.expirationTimes,S=o.pendingLanes&-62914561;0<S;){var I=31-dt(S),U=1<<I,W=x[I];W===-1?((U&h)===0||(U&g)!==0)&&(x[I]=Zw(U,c)):W<=c&&(o.expiredLanes|=U),S&=~U}if(c=qt,h=st,h=Vr(o,o===c?h:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),g=o.callbackNode,h===0||o===c&&(jt===2||jt===9)||o.cancelPendingCommit!==null)return g!==null&&g!==null&&Kn(g),o.callbackNode=null,o.callbackPriority=0;if((h&3)===0||lr(o,h)){if(c=h&-h,c===o.callbackPriority)return c;switch(g!==null&&Kn(g),Qa(h)){case 2:case 8:h=Ct;break;case 32:h=ct;break;case 268435456:h=It;break;default:h=ct}return g=RR.bind(null,o),h=pt(h,g),o.callbackPriority=c,o.callbackNode=h,c}return g!==null&&g!==null&&Kn(g),o.callbackPriority=2,o.callbackNode=null,2}function RR(o,c){if(Yn!==0&&Yn!==5)return o.callbackNode=null,o.callbackPriority=0,null;var h=o.callbackNode;if(ey()&&o.callbackNode!==h)return null;var g=st;return g=Vr(o,o===qt?g:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),g===0?null:(mR(o,g,c),jR(o,Ie()),o.callbackNode!=null&&o.callbackNode===h?RR.bind(null,o):null)}function kR(o,c){if(ey())return null;mR(o,c,!0)}function MY(){KY(function(){(_t&6)!==0?pt(Ze,kY):OR()})}function S1(){if(Il===0){var o=Cd;o===0&&(o=ft,ft<<=1,(ft&261888)===0&&(ft=256)),Il=o}return Il}function MR(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:hd(""+o)}function DR(o,c){var h=c.ownerDocument.createElement("input");return h.name=c.name,h.value=c.value,o.id&&h.setAttribute("form",o.id),c.parentNode.insertBefore(h,c),o=new FormData(o),h.parentNode.removeChild(h),o}function DY(o,c,h,g,x){if(c==="submit"&&h&&h.stateNode===x){var S=MR((x[cr]||null).action),I=g.submitter;I&&(c=(c=I[cr]||null)?MR(c.formAction):I.getAttribute("formAction"),c!==null&&(S=c,I=null));var U=new va("action","action",null,g,x);o.push({event:U,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(Il!==0){var W=I?DR(x,I):new FormData(x);q_(h,{pending:!0,data:W,method:x.method,action:S},null,W)}}else typeof S=="function"&&(U.preventDefault(),W=I?DR(x,I):new FormData(x),q_(h,{pending:!0,data:W,method:x.method,action:S},S,W))},currentTarget:x}]})}}for(var T1=0;T1<o_.length;T1++){var A1=o_[T1],LY=A1.toLowerCase(),VY=A1[0].toUpperCase()+A1.slice(1);Vs(LY,"on"+VY)}Vs(hO,"onAnimationEnd"),Vs(mO,"onAnimationIteration"),Vs(pO,"onAnimationStart"),Vs("dblclick","onDoubleClick"),Vs("focusin","onFocus"),Vs("focusout","onBlur"),Vs(eY,"onTransitionRun"),Vs(tY,"onTransitionStart"),Vs(nY,"onTransitionCancel"),Vs(gO,"onTransitionEnd"),ma("onMouseEnter",["mouseout","mouseover"]),ma("onMouseLeave",["mouseout","mouseover"]),ma("onPointerEnter",["pointerout","pointerover"]),ma("onPointerLeave",["pointerout","pointerover"]),ha("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ha("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ha("onBeforeInput",["compositionend","keypress","textInput","paste"]),ha("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ha("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ha("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),UY=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hm));function LR(o,c){c=(c&4)!==0;for(var h=0;h<o.length;h++){var g=o[h],x=g.event;g=g.listeners;e:{var S=void 0;if(c)for(var I=g.length-1;0<=I;I--){var U=g[I],W=U.instance,ne=U.currentTarget;if(U=U.listener,W!==S&&x.isPropagationStopped())break e;S=U,x.currentTarget=ne;try{S(x)}catch(ue){y0(ue)}x.currentTarget=null,S=W}else for(I=0;I<g.length;I++){if(U=g[I],W=U.instance,ne=U.currentTarget,U=U.listener,W!==S&&x.isPropagationStopped())break e;S=U,x.currentTarget=ne;try{S(x)}catch(ue){y0(ue)}x.currentTarget=null,S=W}}}}function nt(o,c){var h=c[ld];h===void 0&&(h=c[ld]=new Set);var g=o+"__bubble";h.has(g)||(VR(c,o,2,!1),h.add(g))}function N1(o,c,h){var g=0;c&&(g|=4),VR(h,o,g,c)}var ry="_reactListening"+Math.random().toString(36).slice(2);function C1(o){if(!o[ry]){o[ry]=!0,Th.forEach(function(h){h!=="selectionchange"&&(UY.has(h)||N1(h,!1,o),N1(h,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[ry]||(c[ry]=!0,N1("selectionchange",!1,c))}}function VR(o,c,h,g){switch(hk(c)){case 2:var x=hX;break;case 8:x=mX;break;default:x=$1}h=x.bind(null,c,h,o),x=void 0,!zc||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(x=!0),g?x!==void 0?o.addEventListener(c,h,{capture:!0,passive:x}):o.addEventListener(c,h,!0):x!==void 0?o.addEventListener(c,h,{passive:x}):o.addEventListener(c,h,!1)}function P1(o,c,h,g,x){var S=g;if((c&1)===0&&(c&2)===0&&g!==null)e:for(;;){if(g===null)return;var I=g.tag;if(I===3||I===4){var U=g.stateNode.containerInfo;if(U===x)break;if(I===4)for(I=g.return;I!==null;){var W=I.tag;if((W===3||W===4)&&I.stateNode.containerInfo===x)return;I=I.return}for(;U!==null;){if(I=da(U),I===null)return;if(W=I.tag,W===5||W===6||W===26||W===27){g=S=I;continue e}U=U.parentNode}}g=g.return}dl(function(){var ne=S,ue=ts(h),ge=[];e:{var ie=yO.get(o);if(ie!==void 0){var le=va,Pe=o;switch(o){case"keypress":if(Fc(h)===0)break e;case"keydown":case"keyup":le=m0;break;case"focusin":Pe="focus",le=qc;break;case"focusout":Pe="blur",le=qc;break;case"beforeblur":case"afterblur":le=qc;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=Vh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=s0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=N;break;case hO:case mO:case pO:le=o0;break;case gO:le=F;break;case"scroll":case"scrollend":le=Lh;break;case"wheel":le=ae;break;case"copy":case"cut":case"paste":le=l0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=eo;break;case"toggle":case"beforetoggle":le=Xe}var Ue=(c&4)!==0,Bt=!Ue&&(o==="scroll"||o==="scrollend"),Q=Ue?ie!==null?ie+"Capture":null:ie;Ue=[];for(var G=ne,te;G!==null;){var me=G;if(te=me.stateNode,me=me.tag,me!==5&&me!==26&&me!==27||te===null||Q===null||(me=ks(G,Q),me!=null&&Ue.push(mm(G,me,te))),Bt)break;G=G.return}0<Ue.length&&(ie=new le(ie,Pe,null,h,ue),ge.push({event:ie,listeners:Ue}))}}if((c&7)===0){e:{if(ie=o==="mouseover"||o==="pointerover",le=o==="mouseout"||o==="pointerout",ie&&h!==kh&&(Pe=h.relatedTarget||h.fromElement)&&(da(Pe)||Pe[ca]))break e;if((le||ie)&&(ie=ue.window===ue?ue:(ie=ue.ownerDocument)?ie.defaultView||ie.parentWindow:window,le?(Pe=h.relatedTarget||h.toElement,le=ne,Pe=Pe?da(Pe):null,Pe!==null&&(Bt=s(Pe),Ue=Pe.tag,Pe!==Bt||Ue!==5&&Ue!==27&&Ue!==6)&&(Pe=null)):(le=null,Pe=ne),le!==Pe)){if(Ue=Vh,me="onMouseLeave",Q="onMouseEnter",G="mouse",(o==="pointerout"||o==="pointerover")&&(Ue=eo,me="onPointerLeave",Q="onPointerEnter",G="pointer"),Bt=le==null?ie:Oi(le),te=Pe==null?ie:Oi(Pe),ie=new Ue(me,G+"leave",le,h,ue),ie.target=Bt,ie.relatedTarget=te,me=null,da(ue)===ne&&(Ue=new Ue(Q,G+"enter",Pe,h,ue),Ue.target=te,Ue.relatedTarget=Bt,me=Ue),Bt=me,le&&Pe)t:{for(Ue=zY,Q=le,G=Pe,te=0,me=Q;me;me=Ue(me))te++;me=0;for(var Ve=G;Ve;Ve=Ue(Ve))me++;for(;0<te-me;)Q=Ue(Q),te--;for(;0<me-te;)G=Ue(G),me--;for(;te--;){if(Q===G||G!==null&&Q===G.alternate){Ue=Q;break t}Q=Ue(Q),G=Ue(G)}Ue=null}else Ue=null;le!==null&&UR(ge,ie,le,Ue,!1),Pe!==null&&Bt!==null&&UR(ge,Bt,Pe,Ue,!0)}}e:{if(ie=ne?Oi(ne):window,le=ie.nodeName&&ie.nodeName.toLowerCase(),le==="select"||le==="input"&&ie.type==="file")var gt=nO;else if(eO(ie))if(rO)gt=QG;else{gt=YG;var Oe=GG}else le=ie.nodeName,!le||le.toLowerCase()!=="input"||ie.type!=="checkbox"&&ie.type!=="radio"?ne&&fd(ne.elementType)&&(gt=nO):gt=XG;if(gt&&(gt=gt(o,ne))){tO(ge,gt,h,ue);break e}Oe&&Oe(o,ie,ne),o==="focusout"&&ne&&ie.type==="number"&&ne.memoizedProps.value!=null&&Oh(ie,"number",ie.value)}switch(Oe=ne?Oi(ne):window,o){case"focusin":(eO(Oe)||Oe.contentEditable==="true")&&(xd=Oe,i_=ne,$h=null);break;case"focusout":$h=i_=xd=null;break;case"mousedown":s_=!0;break;case"contextmenu":case"mouseup":case"dragend":s_=!1,dO(ge,h,ue);break;case"selectionchange":if(JG)break;case"keydown":case"keyup":dO(ge,h,ue)}var Je;if(wt)e:{switch(o){case"compositionstart":var at="onCompositionStart";break e;case"compositionend":at="onCompositionEnd";break e;case"compositionupdate":at="onCompositionUpdate";break e}at=void 0}else bd?Hc(o,h)&&(at="onCompositionEnd"):o==="keydown"&&h.keyCode===229&&(at="onCompositionStart");at&&(wa&&h.locale!=="ko"&&(bd||at!=="onCompositionStart"?at==="onCompositionEnd"&&bd&&(Je=Dh()):(ya=ue,Mh="value"in ya?ya.value:ya.textContent,bd=!0)),Oe=iy(ne,at),0<Oe.length&&(at=new xa(at,o,null,h,ue),ge.push({event:at,listeners:Oe}),Je?at.data=Je:(Je=vd(h),Je!==null&&(at.data=Je)))),(Je=rs?qG(o,h):HG(o,h))&&(at=iy(ne,"onBeforeInput"),0<at.length&&(Oe=new xa("onBeforeInput","beforeinput",null,h,ue),ge.push({event:Oe,listeners:at}),Oe.data=Je)),DY(ge,o,ne,h,ue)}LR(ge,c)})}function mm(o,c,h){return{instance:o,listener:c,currentTarget:h}}function iy(o,c){for(var h=c+"Capture",g=[];o!==null;){var x=o,S=x.stateNode;if(x=x.tag,x!==5&&x!==26&&x!==27||S===null||(x=ks(o,h),x!=null&&g.unshift(mm(o,x,S)),x=ks(o,c),x!=null&&g.push(mm(o,x,S))),o.tag===3)return g;o=o.return}return[]}function zY(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function UR(o,c,h,g,x){for(var S=c._reactName,I=[];h!==null&&h!==g;){var U=h,W=U.alternate,ne=U.stateNode;if(U=U.tag,W!==null&&W===g)break;U!==5&&U!==26&&U!==27||ne===null||(W=ne,x?(ne=ks(h,S),ne!=null&&I.unshift(mm(h,ne,W))):x||(ne=ks(h,S),ne!=null&&I.push(mm(h,ne,W)))),h=h.return}I.length!==0&&o.push({event:c,listeners:I})}var BY=/\r\n?/g,FY=/\u0000|\uFFFD/g;function zR(o){return(typeof o=="string"?o:""+o).replace(BY,`
`).replace(FY,"")}function BR(o,c){return c=zR(c),zR(o)===c}function zt(o,c,h,g,x,S){switch(h){case"children":typeof g=="string"?c==="body"||c==="textarea"&&g===""||mi(o,g):(typeof g=="number"||typeof g=="bigint")&&c!=="body"&&mi(o,""+g);break;case"className":ji(o,"class",g);break;case"tabIndex":ji(o,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":ji(o,h,g);break;case"style":Rh(o,g,S);break;case"data":if(c!=="object"){ji(o,"data",g);break}case"src":case"href":if(g===""&&(c!=="a"||h!=="href")){o.removeAttribute(h);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){o.removeAttribute(h);break}g=hd(""+g),o.setAttribute(h,g);break;case"action":case"formAction":if(typeof g=="function"){o.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(h==="formAction"?(c!=="input"&&zt(o,c,"name",x.name,x,null),zt(o,c,"formEncType",x.formEncType,x,null),zt(o,c,"formMethod",x.formMethod,x,null),zt(o,c,"formTarget",x.formTarget,x,null)):(zt(o,c,"encType",x.encType,x,null),zt(o,c,"method",x.method,x,null),zt(o,c,"target",x.target,x,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){o.removeAttribute(h);break}g=hd(""+g),o.setAttribute(h,g);break;case"onClick":g!=null&&(o.onclick=Rs);break;case"onScroll":g!=null&&nt("scroll",o);break;case"onScrollEnd":g!=null&&nt("scrollend",o);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(h=g.__html,h!=null){if(x.children!=null)throw Error(r(60));o.innerHTML=h}}break;case"multiple":o.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":o.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){o.removeAttribute("xlink:href");break}h=hd(""+g),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?o.setAttribute(h,""+g):o.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?o.setAttribute(h,""):o.removeAttribute(h);break;case"capture":case"download":g===!0?o.setAttribute(h,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?o.setAttribute(h,g):o.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?o.setAttribute(h,g):o.removeAttribute(h);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?o.removeAttribute(h):o.setAttribute(h,g);break;case"popover":nt("beforetoggle",o),nt("toggle",o),ud(o,"popover",g);break;case"xlinkActuate":Mn(o,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":Mn(o,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":Mn(o,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":Mn(o,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":Mn(o,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":Mn(o,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":Mn(o,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":Mn(o,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":Mn(o,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":ud(o,"is",g);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=i0.get(h)||h,ud(o,h,g))}}function I1(o,c,h,g,x,S){switch(h){case"style":Rh(o,g,S);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(h=g.__html,h!=null){if(x.children!=null)throw Error(r(60));o.innerHTML=h}}break;case"children":typeof g=="string"?mi(o,g):(typeof g=="number"||typeof g=="bigint")&&mi(o,""+g);break;case"onScroll":g!=null&&nt("scroll",o);break;case"onScrollEnd":g!=null&&nt("scrollend",o);break;case"onClick":g!=null&&(o.onclick=Rs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ah.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(x=h.endsWith("Capture"),c=h.slice(2,x?h.length-7:void 0),S=o[cr]||null,S=S!=null?S[h]:null,typeof S=="function"&&o.removeEventListener(c,S,x),typeof g=="function")){typeof S!="function"&&S!==null&&(h in o?o[h]=null:o.hasAttribute(h)&&o.removeAttribute(h)),o.addEventListener(c,g,x);break e}h in o?o[h]=g:g===!0?o.setAttribute(h,""):ud(o,h,g)}}}function Nr(o,c,h){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":nt("error",o),nt("load",o);var g=!1,x=!1,S;for(S in h)if(h.hasOwnProperty(S)){var I=h[S];if(I!=null)switch(S){case"src":g=!0;break;case"srcSet":x=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:zt(o,c,S,I,h,null)}}x&&zt(o,c,"srcSet",h.srcSet,h,null),g&&zt(o,c,"src",h.src,h,null);return;case"input":nt("invalid",o);var U=S=I=x=null,W=null,ne=null;for(g in h)if(h.hasOwnProperty(g)){var ue=h[g];if(ue!=null)switch(g){case"name":x=ue;break;case"type":I=ue;break;case"checked":W=ue;break;case"defaultChecked":ne=ue;break;case"value":S=ue;break;case"defaultValue":U=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(r(137,c));break;default:zt(o,c,g,ue,h,null)}}t0(o,S,U,W,ne,I,x,!1);return;case"select":nt("invalid",o),g=I=S=null;for(x in h)if(h.hasOwnProperty(x)&&(U=h[x],U!=null))switch(x){case"value":S=U;break;case"defaultValue":I=U;break;case"multiple":g=U;default:zt(o,c,x,U,h,null)}c=S,h=I,o.multiple=!!g,c!=null?ol(o,!!g,c,!1):h!=null&&ol(o,!!g,h,!0);return;case"textarea":nt("invalid",o),S=x=g=null;for(I in h)if(h.hasOwnProperty(I)&&(U=h[I],U!=null))switch(I){case"value":g=U;break;case"defaultValue":x=U;break;case"children":S=U;break;case"dangerouslySetInnerHTML":if(U!=null)throw Error(r(91));break;default:zt(o,c,I,U,h,null)}ll(o,g,x,S);return;case"option":for(W in h)if(h.hasOwnProperty(W)&&(g=h[W],g!=null))switch(W){case"selected":o.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:zt(o,c,W,g,h,null)}return;case"dialog":nt("beforetoggle",o),nt("toggle",o),nt("cancel",o),nt("close",o);break;case"iframe":case"object":nt("load",o);break;case"video":case"audio":for(g=0;g<hm.length;g++)nt(hm[g],o);break;case"image":nt("error",o),nt("load",o);break;case"details":nt("toggle",o);break;case"embed":case"source":case"link":nt("error",o),nt("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ne in h)if(h.hasOwnProperty(ne)&&(g=h[ne],g!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:zt(o,c,ne,g,h,null)}return;default:if(fd(c)){for(ue in h)h.hasOwnProperty(ue)&&(g=h[ue],g!==void 0&&I1(o,c,ue,g,h,void 0));return}}for(U in h)h.hasOwnProperty(U)&&(g=h[U],g!=null&&zt(o,c,U,g,h,null))}function $Y(o,c,h,g){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var x=null,S=null,I=null,U=null,W=null,ne=null,ue=null;for(le in h){var ge=h[le];if(h.hasOwnProperty(le)&&ge!=null)switch(le){case"checked":break;case"value":break;case"defaultValue":W=ge;default:g.hasOwnProperty(le)||zt(o,c,le,null,g,ge)}}for(var ie in g){var le=g[ie];if(ge=h[ie],g.hasOwnProperty(ie)&&(le!=null||ge!=null))switch(ie){case"type":S=le;break;case"name":x=le;break;case"checked":ne=le;break;case"defaultChecked":ue=le;break;case"value":I=le;break;case"defaultValue":U=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(r(137,c));break;default:le!==ge&&zt(o,c,ie,le,g,ge)}}dd(o,I,U,W,ne,ue,S,x);return;case"select":le=I=U=ie=null;for(S in h)if(W=h[S],h.hasOwnProperty(S)&&W!=null)switch(S){case"value":break;case"multiple":le=W;default:g.hasOwnProperty(S)||zt(o,c,S,null,g,W)}for(x in g)if(S=g[x],W=h[x],g.hasOwnProperty(x)&&(S!=null||W!=null))switch(x){case"value":ie=S;break;case"defaultValue":U=S;break;case"multiple":I=S;default:S!==W&&zt(o,c,x,S,g,W)}c=U,h=I,g=le,ie!=null?ol(o,!!h,ie,!1):!!g!=!!h&&(c!=null?ol(o,!!h,c,!0):ol(o,!!h,h?[]:"",!1));return;case"textarea":le=ie=null;for(U in h)if(x=h[U],h.hasOwnProperty(U)&&x!=null&&!g.hasOwnProperty(U))switch(U){case"value":break;case"children":break;default:zt(o,c,U,null,g,x)}for(I in g)if(x=g[I],S=h[I],g.hasOwnProperty(I)&&(x!=null||S!=null))switch(I){case"value":ie=x;break;case"defaultValue":le=x;break;case"children":break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(r(91));break;default:x!==S&&zt(o,c,I,x,g,S)}n0(o,ie,le);return;case"option":for(var Pe in h)if(ie=h[Pe],h.hasOwnProperty(Pe)&&ie!=null&&!g.hasOwnProperty(Pe))switch(Pe){case"selected":o.selected=!1;break;default:zt(o,c,Pe,null,g,ie)}for(W in g)if(ie=g[W],le=h[W],g.hasOwnProperty(W)&&ie!==le&&(ie!=null||le!=null))switch(W){case"selected":o.selected=ie&&typeof ie!="function"&&typeof ie!="symbol";break;default:zt(o,c,W,ie,g,le)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ue in h)ie=h[Ue],h.hasOwnProperty(Ue)&&ie!=null&&!g.hasOwnProperty(Ue)&&zt(o,c,Ue,null,g,ie);for(ne in g)if(ie=g[ne],le=h[ne],g.hasOwnProperty(ne)&&ie!==le&&(ie!=null||le!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,c));break;default:zt(o,c,ne,ie,g,le)}return;default:if(fd(c)){for(var Bt in h)ie=h[Bt],h.hasOwnProperty(Bt)&&ie!==void 0&&!g.hasOwnProperty(Bt)&&I1(o,c,Bt,void 0,g,ie);for(ue in g)ie=g[ue],le=h[ue],!g.hasOwnProperty(ue)||ie===le||ie===void 0&&le===void 0||I1(o,c,ue,ie,g,le);return}}for(var Q in h)ie=h[Q],h.hasOwnProperty(Q)&&ie!=null&&!g.hasOwnProperty(Q)&&zt(o,c,Q,null,g,ie);for(ge in g)ie=g[ge],le=h[ge],!g.hasOwnProperty(ge)||ie===le||ie==null&&le==null||zt(o,c,ge,ie,g,le)}function FR(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function qY(){if(typeof performance.getEntriesByType=="function"){for(var o=0,c=0,h=performance.getEntriesByType("resource"),g=0;g<h.length;g++){var x=h[g],S=x.transferSize,I=x.initiatorType,U=x.duration;if(S&&U&&FR(I)){for(I=0,U=x.responseEnd,g+=1;g<h.length;g++){var W=h[g],ne=W.startTime;if(ne>U)break;var ue=W.transferSize,ge=W.initiatorType;ue&&FR(ge)&&(W=W.responseEnd,I+=ue*(W<U?1:(U-ne)/(W-ne)))}if(--g,c+=8*(S+I)/(x.duration/1e3),o++,10<o)break}}if(0<o)return c/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var O1=null,j1=null;function sy(o){return o.nodeType===9?o:o.ownerDocument}function $R(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function qR(o,c){if(o===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&c==="foreignObject"?0:o}function R1(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var k1=null;function HY(){var o=window.event;return o&&o.type==="popstate"?o===k1?!1:(k1=o,!0):(k1=null,!1)}var HR=typeof setTimeout=="function"?setTimeout:void 0,WY=typeof clearTimeout=="function"?clearTimeout:void 0,WR=typeof Promise=="function"?Promise:void 0,KY=typeof queueMicrotask=="function"?queueMicrotask:typeof WR<"u"?function(o){return WR.resolve(null).then(o).catch(GY)}:HR;function GY(o){setTimeout(function(){throw o})}function Ol(o){return o==="head"}function KR(o,c){var h=c,g=0;do{var x=h.nextSibling;if(o.removeChild(h),x&&x.nodeType===8)if(h=x.data,h==="/$"||h==="/&"){if(g===0){o.removeChild(x),Kd(c);return}g--}else if(h==="$"||h==="$?"||h==="$~"||h==="$!"||h==="&")g++;else if(h==="html")pm(o.ownerDocument.documentElement);else if(h==="head"){h=o.ownerDocument.head,pm(h);for(var S=h.firstChild;S;){var I=S.nextSibling,U=S.nodeName;S[ua]||U==="SCRIPT"||U==="STYLE"||U==="LINK"&&S.rel.toLowerCase()==="stylesheet"||h.removeChild(S),S=I}}else h==="body"&&pm(o.ownerDocument.body);h=x}while(h);Kd(c)}function GR(o,c){var h=o;o=0;do{var g=h.nextSibling;if(h.nodeType===1?c?(h._stashedDisplay=h.style.display,h.style.display="none"):(h.style.display=h._stashedDisplay||"",h.getAttribute("style")===""&&h.removeAttribute("style")):h.nodeType===3&&(c?(h._stashedText=h.nodeValue,h.nodeValue=""):h.nodeValue=h._stashedText||""),g&&g.nodeType===8)if(h=g.data,h==="/$"){if(o===0)break;o--}else h!=="$"&&h!=="$?"&&h!=="$~"&&h!=="$!"||o++;h=g}while(h)}function M1(o){var c=o.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var h=c;switch(c=c.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":M1(h),cd(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}o.removeChild(h)}}function YY(o,c,h,g){for(;o.nodeType===1;){var x=h;if(o.nodeName.toLowerCase()!==c.toLowerCase()){if(!g&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(g){if(!o[ua])switch(c){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(S=o.getAttribute("rel"),S==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(S!==x.rel||o.getAttribute("href")!==(x.href==null||x.href===""?null:x.href)||o.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin)||o.getAttribute("title")!==(x.title==null?null:x.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(S=o.getAttribute("src"),(S!==(x.src==null?null:x.src)||o.getAttribute("type")!==(x.type==null?null:x.type)||o.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin))&&S&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(c==="input"&&o.type==="hidden"){var S=x.name==null?null:""+x.name;if(x.type==="hidden"&&o.getAttribute("name")===S)return o}else return o;if(o=us(o.nextSibling),o===null)break}return null}function XY(o,c,h){if(c==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!h||(o=us(o.nextSibling),o===null))return null;return o}function YR(o,c){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!c||(o=us(o.nextSibling),o===null))return null;return o}function D1(o){return o.data==="$?"||o.data==="$~"}function L1(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function QY(o,c){var h=o.ownerDocument;if(o.data==="$~")o._reactRetry=c;else if(o.data!=="$?"||h.readyState!=="loading")c();else{var g=function(){c(),h.removeEventListener("DOMContentLoaded",g)};h.addEventListener("DOMContentLoaded",g),o._reactRetry=g}}function us(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return o}var V1=null;function XR(o){o=o.nextSibling;for(var c=0;o;){if(o.nodeType===8){var h=o.data;if(h==="/$"||h==="/&"){if(c===0)return us(o.nextSibling);c--}else h!=="$"&&h!=="$!"&&h!=="$?"&&h!=="$~"&&h!=="&"||c++}o=o.nextSibling}return null}function QR(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var h=o.data;if(h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"){if(c===0)return o;c--}else h!=="/$"&&h!=="/&"||c++}o=o.previousSibling}return null}function ZR(o,c,h){switch(c=sy(h),o){case"html":if(o=c.documentElement,!o)throw Error(r(452));return o;case"head":if(o=c.head,!o)throw Error(r(453));return o;case"body":if(o=c.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function pm(o){for(var c=o.attributes;c.length;)o.removeAttributeNode(c[0]);cd(o)}var ds=new Map,JR=new Set;function ay(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var go=ee.d;ee.d={f:ZY,r:JY,D:eX,C:tX,L:nX,m:rX,X:sX,S:iX,M:aX};function ZY(){var o=go.f(),c=Q0();return o||c}function JY(o){var c=es(o);c!==null&&c.tag===5&&c.type==="form"?gj(c):go.r(o)}var qd=typeof document>"u"?null:document;function ek(o,c,h){var g=qd;if(g&&typeof c=="string"&&c){var x=hi(c);x='link[rel="'+o+'"][href="'+x+'"]',typeof h=="string"&&(x+='[crossorigin="'+h+'"]'),JR.has(x)||(JR.add(x),o={rel:o,crossOrigin:h,href:c},g.querySelector(x)===null&&(c=g.createElement("link"),Nr(c,"link",o),kn(c),g.head.appendChild(c)))}}function eX(o){go.D(o),ek("dns-prefetch",o,null)}function tX(o,c){go.C(o,c),ek("preconnect",o,c)}function nX(o,c,h){go.L(o,c,h);var g=qd;if(g&&o&&c){var x='link[rel="preload"][as="'+hi(c)+'"]';c==="image"&&h&&h.imageSrcSet?(x+='[imagesrcset="'+hi(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(x+='[imagesizes="'+hi(h.imageSizes)+'"]')):x+='[href="'+hi(o)+'"]';var S=x;switch(c){case"style":S=Hd(o);break;case"script":S=Wd(o)}ds.has(S)||(o=m({rel:"preload",href:c==="image"&&h&&h.imageSrcSet?void 0:o,as:c},h),ds.set(S,o),g.querySelector(x)!==null||c==="style"&&g.querySelector(gm(S))||c==="script"&&g.querySelector(ym(S))||(c=g.createElement("link"),Nr(c,"link",o),kn(c),g.head.appendChild(c)))}}function rX(o,c){go.m(o,c);var h=qd;if(h&&o){var g=c&&typeof c.as=="string"?c.as:"script",x='link[rel="modulepreload"][as="'+hi(g)+'"][href="'+hi(o)+'"]',S=x;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=Wd(o)}if(!ds.has(S)&&(o=m({rel:"modulepreload",href:o},c),ds.set(S,o),h.querySelector(x)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(ym(S)))return}g=h.createElement("link"),Nr(g,"link",o),kn(g),h.head.appendChild(g)}}}function iX(o,c,h){go.S(o,c,h);var g=qd;if(g&&o){var x=fa(g).hoistableStyles,S=Hd(o);c=c||"default";var I=x.get(S);if(!I){var U={loading:0,preload:null};if(I=g.querySelector(gm(S)))U.loading=5;else{o=m({rel:"stylesheet",href:o,"data-precedence":c},h),(h=ds.get(S))&&U1(o,h);var W=I=g.createElement("link");kn(W),Nr(W,"link",o),W._p=new Promise(function(ne,ue){W.onload=ne,W.onerror=ue}),W.addEventListener("load",function(){U.loading|=1}),W.addEventListener("error",function(){U.loading|=2}),U.loading|=4,oy(I,c,g)}I={type:"stylesheet",instance:I,count:1,state:U},x.set(S,I)}}}function sX(o,c){go.X(o,c);var h=qd;if(h&&o){var g=fa(h).hoistableScripts,x=Wd(o),S=g.get(x);S||(S=h.querySelector(ym(x)),S||(o=m({src:o,async:!0},c),(c=ds.get(x))&&z1(o,c),S=h.createElement("script"),kn(S),Nr(S,"link",o),h.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},g.set(x,S))}}function aX(o,c){go.M(o,c);var h=qd;if(h&&o){var g=fa(h).hoistableScripts,x=Wd(o),S=g.get(x);S||(S=h.querySelector(ym(x)),S||(o=m({src:o,async:!0,type:"module"},c),(c=ds.get(x))&&z1(o,c),S=h.createElement("script"),kn(S),Nr(S,"link",o),h.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},g.set(x,S))}}function tk(o,c,h,g){var x=(x=ye.current)?ay(x):null;if(!x)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(c=Hd(h.href),h=fa(x).hoistableStyles,g=h.get(c),g||(g={type:"style",instance:null,count:0,state:null},h.set(c,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){o=Hd(h.href);var S=fa(x).hoistableStyles,I=S.get(o);if(I||(x=x.ownerDocument||x,I={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(o,I),(S=x.querySelector(gm(o)))&&!S._p&&(I.instance=S,I.state.loading=5),ds.has(o)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},ds.set(o,h),S||oX(x,o,h,I.state))),c&&g===null)throw Error(r(528,""));return I}if(c&&g!==null)throw Error(r(529,""));return null;case"script":return c=h.async,h=h.src,typeof h=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=Wd(h),h=fa(x).hoistableScripts,g=h.get(c),g||(g={type:"script",instance:null,count:0,state:null},h.set(c,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function Hd(o){return'href="'+hi(o)+'"'}function gm(o){return'link[rel="stylesheet"]['+o+"]"}function nk(o){return m({},o,{"data-precedence":o.precedence,precedence:null})}function oX(o,c,h,g){o.querySelector('link[rel="preload"][as="style"]['+c+"]")?g.loading=1:(c=o.createElement("link"),g.preload=c,c.addEventListener("load",function(){return g.loading|=1}),c.addEventListener("error",function(){return g.loading|=2}),Nr(c,"link",h),kn(c),o.head.appendChild(c))}function Wd(o){return'[src="'+hi(o)+'"]'}function ym(o){return"script[async]"+o}function rk(o,c,h){if(c.count++,c.instance===null)switch(c.type){case"style":var g=o.querySelector('style[data-href~="'+hi(h.href)+'"]');if(g)return c.instance=g,kn(g),g;var x=m({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return g=(o.ownerDocument||o).createElement("style"),kn(g),Nr(g,"style",x),oy(g,h.precedence,o),c.instance=g;case"stylesheet":x=Hd(h.href);var S=o.querySelector(gm(x));if(S)return c.state.loading|=4,c.instance=S,kn(S),S;g=nk(h),(x=ds.get(x))&&U1(g,x),S=(o.ownerDocument||o).createElement("link"),kn(S);var I=S;return I._p=new Promise(function(U,W){I.onload=U,I.onerror=W}),Nr(S,"link",g),c.state.loading|=4,oy(S,h.precedence,o),c.instance=S;case"script":return S=Wd(h.src),(x=o.querySelector(ym(S)))?(c.instance=x,kn(x),x):(g=h,(x=ds.get(S))&&(g=m({},h),z1(g,x)),o=o.ownerDocument||o,x=o.createElement("script"),kn(x),Nr(x,"link",g),o.head.appendChild(x),c.instance=x);case"void":return null;default:throw Error(r(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(g=c.instance,c.state.loading|=4,oy(g,h.precedence,o));return c.instance}function oy(o,c,h){for(var g=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),x=g.length?g[g.length-1]:null,S=x,I=0;I<g.length;I++){var U=g[I];if(U.dataset.precedence===c)S=U;else if(S!==x)break}S?S.parentNode.insertBefore(o,S.nextSibling):(c=h.nodeType===9?h.head:h,c.insertBefore(o,c.firstChild))}function U1(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.title==null&&(o.title=c.title)}function z1(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.integrity==null&&(o.integrity=c.integrity)}var ly=null;function ik(o,c,h){if(ly===null){var g=new Map,x=ly=new Map;x.set(h,g)}else x=ly,g=x.get(h),g||(g=new Map,x.set(h,g));if(g.has(o))return g;for(g.set(o,null),h=h.getElementsByTagName(o),x=0;x<h.length;x++){var S=h[x];if(!(S[ua]||S[Rn]||o==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var I=S.getAttribute(c)||"";I=o+I;var U=g.get(I);U?U.push(S):g.set(I,[S])}}return g}function sk(o,c,h){o=o.ownerDocument||o,o.head.insertBefore(h,c==="title"?o.querySelector("head > title"):null)}function lX(o,c,h){if(h===1||c.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return o=c.disabled,typeof c.precedence=="string"&&o==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function ak(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function cX(o,c,h,g){if(h.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var x=Hd(g.href),S=c.querySelector(gm(x));if(S){c=S._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(o.count++,o=cy.bind(o),c.then(o,o)),h.state.loading|=4,h.instance=S,kn(S);return}S=c.ownerDocument||c,g=nk(g),(x=ds.get(x))&&U1(g,x),S=S.createElement("link"),kn(S);var I=S;I._p=new Promise(function(U,W){I.onload=U,I.onerror=W}),Nr(S,"link",g),h.instance=S}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(h,c),(c=h.state.preload)&&(h.state.loading&3)===0&&(o.count++,h=cy.bind(o),c.addEventListener("load",h),c.addEventListener("error",h))}}var B1=0;function uX(o,c){return o.stylesheets&&o.count===0&&dy(o,o.stylesheets),0<o.count||0<o.imgCount?function(h){var g=setTimeout(function(){if(o.stylesheets&&dy(o,o.stylesheets),o.unsuspend){var S=o.unsuspend;o.unsuspend=null,S()}},6e4+c);0<o.imgBytes&&B1===0&&(B1=62500*qY());var x=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&dy(o,o.stylesheets),o.unsuspend)){var S=o.unsuspend;o.unsuspend=null,S()}},(o.imgBytes>B1?50:800)+c);return o.unsuspend=h,function(){o.unsuspend=null,clearTimeout(g),clearTimeout(x)}}:null}function cy(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)dy(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var uy=null;function dy(o,c){o.stylesheets=null,o.unsuspend!==null&&(o.count++,uy=new Map,c.forEach(dX,o),uy=null,cy.call(o))}function dX(o,c){if(!(c.state.loading&4)){var h=uy.get(o);if(h)var g=h.get(null);else{h=new Map,uy.set(o,h);for(var x=o.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<x.length;S++){var I=x[S];(I.nodeName==="LINK"||I.getAttribute("media")!=="not all")&&(h.set(I.dataset.precedence,I),g=I)}g&&h.set(null,g)}x=c.instance,I=x.getAttribute("data-precedence"),S=h.get(I)||g,S===g&&h.set(null,x),h.set(I,x),this.count++,g=cy.bind(this),x.addEventListener("load",g),x.addEventListener("error",g),S?S.parentNode.insertBefore(x,S.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(x,o.firstChild)),c.state.loading|=4}}var vm={$$typeof:P,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function fX(o,c,h,g,x,S,I,U,W){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=la(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=la(0),this.hiddenUpdates=la(null),this.identifierPrefix=g,this.onUncaughtError=x,this.onCaughtError=S,this.onRecoverableError=I,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=W,this.incompleteTransitions=new Map}function ok(o,c,h,g,x,S,I,U,W,ne,ue,ge){return o=new fX(o,c,h,I,W,ne,ue,ge,U),c=1,S===!0&&(c|=24),S=ki(3,null,null,c),o.current=S,S.stateNode=o,c=x_(),c.refCount++,o.pooledCache=c,c.refCount++,S.memoizedState={element:g,isDehydrated:h,cache:c},S_(S),o}function lk(o){return o?(o=Ed,o):Ed}function ck(o,c,h,g,x,S){x=lk(x),g.context===null?g.context=x:g.pendingContext=x,g=xl(c),g.payload={element:h},S=S===void 0?null:S,S!==null&&(g.callback=S),h=wl(o,g,c),h!==null&&(bi(h,o,c),Xh(h,o,c))}function uk(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var h=o.retryLane;o.retryLane=h!==0&&h<c?h:c}}function F1(o,c){uk(o,c),(o=o.alternate)&&uk(o,c)}function dk(o){if(o.tag===13||o.tag===31){var c=Gc(o,67108864);c!==null&&bi(c,o,67108864),F1(o,67108864)}}function fk(o){if(o.tag===13||o.tag===31){var c=Ui();c=Dc(c);var h=Gc(o,c);h!==null&&bi(h,o,c),F1(o,c)}}var fy=!0;function hX(o,c,h,g){var x=X.T;X.T=null;var S=ee.p;try{ee.p=2,$1(o,c,h,g)}finally{ee.p=S,X.T=x}}function mX(o,c,h,g){var x=X.T;X.T=null;var S=ee.p;try{ee.p=8,$1(o,c,h,g)}finally{ee.p=S,X.T=x}}function $1(o,c,h,g){if(fy){var x=q1(g);if(x===null)P1(o,c,g,hy,h),mk(o,g);else if(gX(x,o,c,h,g))g.stopPropagation();else if(mk(o,g),c&4&&-1<pX.indexOf(o)){for(;x!==null;){var S=es(x);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var I=or(S.pendingLanes);if(I!==0){var U=S;for(U.pendingLanes|=2,U.entangledLanes|=2;I;){var W=1<<31-dt(I);U.entanglements[1]|=W,I&=~W}Ta(S),(_t&6)===0&&(Y0=Ie()+500,fm(0))}}break;case 31:case 13:U=Gc(S,2),U!==null&&bi(U,S,2),Q0(),F1(S,2)}if(S=q1(g),S===null&&P1(o,c,g,hy,h),S===x)break;x=S}x!==null&&g.stopPropagation()}else P1(o,c,g,null,h)}}function q1(o){return o=ts(o),H1(o)}var hy=null;function H1(o){if(hy=null,o=da(o),o!==null){var c=s(o);if(c===null)o=null;else{var h=c.tag;if(h===13){if(o=a(c),o!==null)return o;o=null}else if(h===31){if(o=l(c),o!==null)return o;o=null}else if(h===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null)}}return hy=o,null}function hk(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(et()){case Ze:return 2;case Ct:return 8;case ct:case Pt:return 32;case It:return 268435456;default:return 32}default:return 32}}var W1=!1,jl=null,Rl=null,kl=null,bm=new Map,xm=new Map,Ml=[],pX="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function mk(o,c){switch(o){case"focusin":case"focusout":jl=null;break;case"dragenter":case"dragleave":Rl=null;break;case"mouseover":case"mouseout":kl=null;break;case"pointerover":case"pointerout":bm.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":xm.delete(c.pointerId)}}function wm(o,c,h,g,x,S){return o===null||o.nativeEvent!==S?(o={blockedOn:c,domEventName:h,eventSystemFlags:g,nativeEvent:S,targetContainers:[x]},c!==null&&(c=es(c),c!==null&&dk(c)),o):(o.eventSystemFlags|=g,c=o.targetContainers,x!==null&&c.indexOf(x)===-1&&c.push(x),o)}function gX(o,c,h,g,x){switch(c){case"focusin":return jl=wm(jl,o,c,h,g,x),!0;case"dragenter":return Rl=wm(Rl,o,c,h,g,x),!0;case"mouseover":return kl=wm(kl,o,c,h,g,x),!0;case"pointerover":var S=x.pointerId;return bm.set(S,wm(bm.get(S)||null,o,c,h,g,x)),!0;case"gotpointercapture":return S=x.pointerId,xm.set(S,wm(xm.get(S)||null,o,c,h,g,x)),!0}return!1}function pk(o){var c=da(o.target);if(c!==null){var h=s(c);if(h!==null){if(c=h.tag,c===13){if(c=a(h),c!==null){o.blockedOn=c,Os(o.priority,function(){fk(h)});return}}else if(c===31){if(c=l(h),c!==null){o.blockedOn=c,Os(o.priority,function(){fk(h)});return}}else if(c===3&&h.stateNode.current.memoizedState.isDehydrated){o.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}o.blockedOn=null}function my(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var h=q1(o.nativeEvent);if(h===null){h=o.nativeEvent;var g=new h.constructor(h.type,h);kh=g,h.target.dispatchEvent(g),kh=null}else return c=es(h),c!==null&&dk(c),o.blockedOn=h,!1;c.shift()}return!0}function gk(o,c,h){my(o)&&h.delete(c)}function yX(){W1=!1,jl!==null&&my(jl)&&(jl=null),Rl!==null&&my(Rl)&&(Rl=null),kl!==null&&my(kl)&&(kl=null),bm.forEach(gk),xm.forEach(gk)}function py(o,c){o.blockedOn===c&&(o.blockedOn=null,W1||(W1=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,yX)))}var gy=null;function yk(o){gy!==o&&(gy=o,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){gy===o&&(gy=null);for(var c=0;c<o.length;c+=3){var h=o[c],g=o[c+1],x=o[c+2];if(typeof g!="function"){if(H1(g||h)===null)continue;break}var S=es(h);S!==null&&(o.splice(c,3),c-=3,q_(S,{pending:!0,data:x,method:h.method,action:g},g,x))}}))}function Kd(o){function c(W){return py(W,o)}jl!==null&&py(jl,o),Rl!==null&&py(Rl,o),kl!==null&&py(kl,o),bm.forEach(c),xm.forEach(c);for(var h=0;h<Ml.length;h++){var g=Ml[h];g.blockedOn===o&&(g.blockedOn=null)}for(;0<Ml.length&&(h=Ml[0],h.blockedOn===null);)pk(h),h.blockedOn===null&&Ml.shift();if(h=(o.ownerDocument||o).$$reactFormReplay,h!=null)for(g=0;g<h.length;g+=3){var x=h[g],S=h[g+1],I=x[cr]||null;if(typeof S=="function")I||yk(h);else if(I){var U=null;if(S&&S.hasAttribute("formAction")){if(x=S,I=S[cr]||null)U=I.formAction;else if(H1(x)!==null)continue}else U=I.action;typeof U=="function"?h[g+1]=U:(h.splice(g,3),g-=3),yk(h)}}}function vk(){function o(S){S.canIntercept&&S.info==="react-transition"&&S.intercept({handler:function(){return new Promise(function(I){return x=I})},focusReset:"manual",scroll:"manual"})}function c(){x!==null&&(x(),x=null),g||setTimeout(h,20)}function h(){if(!g&&!navigation.transition){var S=navigation.currentEntry;S&&S.url!=null&&navigation.navigate(S.url,{state:S.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var g=!1,x=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(h,100),function(){g=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),x!==null&&(x(),x=null)}}}function K1(o){this._internalRoot=o}yy.prototype.render=K1.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(r(409));var h=c.current,g=Ui();ck(h,g,o,c,null,null)},yy.prototype.unmount=K1.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;ck(o.current,2,null,o,null,null),Q0(),c[ca]=null}};function yy(o){this._internalRoot=o}yy.prototype.unstable_scheduleHydration=function(o){if(o){var c=Qg();o={blockedOn:null,target:o,priority:c};for(var h=0;h<Ml.length&&c!==0&&c<Ml[h].priority;h++);Ml.splice(h,0,o),h===0&&pk(o)}};var bk=e.version;if(bk!=="19.2.1")throw Error(r(527,bk,"19.2.1"));ee.findDOMNode=function(o){var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=d(c),o=o!==null?f(o):null,o=o===null?null:o.stateNode,o};var vX={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vy.isDisabled&&vy.supportsFiber)try{ar=vy.inject(vX),tn=vy}catch{}}return Em.createRoot=function(o,c){if(!i(o))throw Error(r(299));var h=!1,g="",x=Aj,S=Nj,I=Cj;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(g=c.identifierPrefix),c.onUncaughtError!==void 0&&(x=c.onUncaughtError),c.onCaughtError!==void 0&&(S=c.onCaughtError),c.onRecoverableError!==void 0&&(I=c.onRecoverableError)),c=ok(o,1,!1,null,null,h,g,null,x,S,I,vk),o[ca]=c.current,C1(o),new K1(c)},Em.hydrateRoot=function(o,c,h){if(!i(o))throw Error(r(299));var g=!1,x="",S=Aj,I=Nj,U=Cj,W=null;return h!=null&&(h.unstable_strictMode===!0&&(g=!0),h.identifierPrefix!==void 0&&(x=h.identifierPrefix),h.onUncaughtError!==void 0&&(S=h.onUncaughtError),h.onCaughtError!==void 0&&(I=h.onCaughtError),h.onRecoverableError!==void 0&&(U=h.onRecoverableError),h.formState!==void 0&&(W=h.formState)),c=ok(o,1,!0,c,h??null,g,x,W,S,I,U,vk),c.context=lk(null),h=c.current,g=Ui(),g=Dc(g),x=xl(g),x.callback=null,wl(h,x,g),h=g,c.current.lanes=h,kc(c,h),Ta(c),o[ca]=c.current,C1(o),new yy(c)},Em.version="19.2.1",Em}var Pk;function IX(){if(Pk)return X1.exports;Pk=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),X1.exports=PX(),X1.exports}var OX=IX();var Ik="popstate";function jX(t={}){function e(r,i){let{pathname:s,search:a,hash:l}=r.location;return OT("",{pathname:s,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:bp(i)}return kX(e,n,null,t)}function un(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Xi(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function RX(){return Math.random().toString(36).substring(2,10)}function Ok(t,e){return{usr:t.state,key:t.key,idx:e}}function OT(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Qf(e):e,state:n,key:e&&e.key||r||RX()}}function bp({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Qf(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function kX(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,l="POP",u=null,d=f();d==null&&(d=0,a.replaceState({...a.state,idx:d},""));function f(){return(a.state||{idx:null}).idx}function m(){l="POP";let w=f(),A=w==null?null:w-d;d=w,u&&u({action:l,location:E.location,delta:A})}function y(w,A){l="PUSH";let C=OT(E.location,w,A);d=f()+1;let P=Ok(C,d),L=E.createHref(C);try{a.pushState(P,"",L)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(L)}s&&u&&u({action:l,location:E.location,delta:1})}function v(w,A){l="REPLACE";let C=OT(E.location,w,A);d=f();let P=Ok(C,d),L=E.createHref(C);a.replaceState(P,"",L),s&&u&&u({action:l,location:E.location,delta:0})}function _(w){return MX(w)}let E={get action(){return l},get location(){return t(i,a)},listen(w){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(Ik,m),u=w,()=>{i.removeEventListener(Ik,m),u=null}},createHref(w){return e(i,w)},createURL:_,encodeLocation(w){let A=_(w);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:y,replace:v,go(w){return a.go(w)}};return E}function MX(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),un(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:bp(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function VU(t,e,n="/"){return DX(t,e,n,!1)}function DX(t,e,n,r){let i=typeof e=="string"?Qf(e):e,s=Do(i.pathname||"/",n);if(s==null)return null;let a=UU(t);LX(a);let l=null;for(let u=0;l==null&&u<a.length;++u){let d=GX(s);l=WX(a[u],d,r)}return l}function UU(t,e=[],n=[],r="",i=!1){let s=(a,l,u=i,d)=>{let f={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(r)&&u)return;un(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length)}let m=Io([r,f.relativePath]),y=n.concat(f);a.children&&a.children.length>0&&(un(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),UU(a.children,e,y,m,u)),!(a.path==null&&!a.index)&&e.push({path:m,score:qX(m,a.index),routesMeta:y})};return t.forEach((a,l)=>{if(a.path===""||!a.path?.includes("?"))s(a,l);else for(let u of zU(a.path))s(a,l,!0,u)}),e}function zU(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=zU(r.join("/")),l=[];return l.push(...a.map(u=>u===""?s:[s,u].join("/"))),i&&l.push(...a),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function LX(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:HX(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var VX=/^:[\w-]+$/,UX=3,zX=2,BX=1,FX=10,$X=-2,jk=t=>t==="*";function qX(t,e){let n=t.split("/"),r=n.length;return n.some(jk)&&(r+=$X),e&&(r+=zX),n.filter(i=>!jk(i)).reduce((i,s)=>i+(VX.test(s)?UX:s===""?BX:FX),r)}function HX(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function WX(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",a=[];for(let l=0;l<r.length;++l){let u=r[l],d=l===r.length-1,f=s==="/"?e:e.slice(s.length)||"/",m=Rv({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},f),y=u.route;if(!m&&d&&n&&!r[r.length-1].route.index&&(m=Rv({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!m)return null;Object.assign(i,m.params),a.push({params:i,pathname:Io([s,m.pathname]),pathnameBase:JX(Io([s,m.pathnameBase])),route:y}),m.pathnameBase!=="/"&&(s=Io([s,m.pathnameBase]))}return a}function Rv(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=KX(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((d,{paramName:f,isOptional:m},y)=>{if(f==="*"){let _=l[y]||"";a=s.slice(0,s.length-_.length).replace(/(.)\/+$/,"$1")}const v=l[y];return m&&!v?d[f]=void 0:d[f]=(v||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:a,pattern:t}}function KX(t,e=!1,n=!0){Xi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function GX(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Xi(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Do(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var YX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,XX=t=>YX.test(t);function QX(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Qf(t):t,s;if(n)if(XX(n))s=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),Xi(!1,`Pathnames cannot have embedded double slashes - normalizing ${a} -> ${n}`)}n.startsWith("/")?s=Rk(n.substring(1),"/"):s=Rk(n,e)}else s=e;return{pathname:s,search:eQ(r),hash:tQ(i)}}function Rk(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function eE(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ZX(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function YN(t){let e=ZX(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function XN(t,e,n,r=!1){let i;typeof t=="string"?i=Qf(t):(i={...t},un(!i.pathname||!i.pathname.includes("?"),eE("?","pathname","search",i)),un(!i.pathname||!i.pathname.includes("#"),eE("#","pathname","hash",i)),un(!i.search||!i.search.includes("#"),eE("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,l;if(a==null)l=n;else{let m=e.length-1;if(!r&&a.startsWith("..")){let y=a.split("/");for(;y[0]==="..";)y.shift(),m-=1;i.pathname=y.join("/")}l=m>=0?e[m]:"/"}let u=QX(i,l),d=a&&a!=="/"&&a.endsWith("/"),f=(s||a===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(d||f)&&(u.pathname+="/"),u}var Io=t=>t.join("/").replace(/\/\/+/g,"/"),JX=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),eQ=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,tQ=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function nQ(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function rQ(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var BU=["POST","PUT","PATCH","DELETE"];new Set(BU);var iQ=["GET",...BU];new Set(iQ);var Zf=T.createContext(null);Zf.displayName="DataRouter";var gx=T.createContext(null);gx.displayName="DataRouterState";T.createContext(!1);var FU=T.createContext({isTransitioning:!1});FU.displayName="ViewTransition";var sQ=T.createContext(new Map);sQ.displayName="Fetchers";var aQ=T.createContext(null);aQ.displayName="Await";var Ns=T.createContext(null);Ns.displayName="Navigation";var rg=T.createContext(null);rg.displayName="Location";var Cs=T.createContext({outlet:null,matches:[],isDataRoute:!1});Cs.displayName="Route";var QN=T.createContext(null);QN.displayName="RouteError";function oQ(t,{relative:e}={}){un(Jf(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=T.useContext(Ns),{hash:i,pathname:s,search:a}=ig(t,{relative:e}),l=s;return n!=="/"&&(l=s==="/"?n:Io([n,s])),r.createHref({pathname:l,search:a,hash:i})}function Jf(){return T.useContext(rg)!=null}function xr(){return un(Jf(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(rg).location}var $U="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function qU(t){T.useContext(Ns).static||T.useLayoutEffect(t)}function jn(){let{isDataRoute:t}=T.useContext(Cs);return t?EQ():lQ()}function lQ(){un(Jf(),"useNavigate() may be used only in the context of a <Router> component.");let t=T.useContext(Zf),{basename:e,navigator:n}=T.useContext(Ns),{matches:r}=T.useContext(Cs),{pathname:i}=xr(),s=JSON.stringify(YN(r)),a=T.useRef(!1);return qU(()=>{a.current=!0}),T.useCallback((u,d={})=>{if(Xi(a.current,$U),!a.current)return;if(typeof u=="number"){n.go(u);return}let f=XN(u,JSON.parse(s),i,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Io([e,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[e,n,s,i,t])}var cQ=T.createContext(null);function uQ(t){let e=T.useContext(Cs).outlet;return T.useMemo(()=>e&&T.createElement(cQ.Provider,{value:t},e),[e,t])}function dQ(){let{matches:t}=T.useContext(Cs),e=t[t.length-1];return e?e.params:{}}function ig(t,{relative:e}={}){let{matches:n}=T.useContext(Cs),{pathname:r}=xr(),i=JSON.stringify(YN(n));return T.useMemo(()=>XN(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function fQ(t,e){return HU(t,e)}function HU(t,e,n,r,i){un(Jf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=T.useContext(Ns),{matches:a}=T.useContext(Cs),l=a[a.length-1],u=l?l.params:{},d=l?l.pathname:"/",f=l?l.pathnameBase:"/",m=l&&l.route;{let C=m&&m.path||"";WU(d,!m||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let y=xr(),v;if(e){let C=typeof e=="string"?Qf(e):e;un(f==="/"||C.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${C.pathname}" was given in the \`location\` prop.`),v=C}else v=y;let _=v.pathname||"/",E=_;if(f!=="/"){let C=f.replace(/^\//,"").split("/");E="/"+_.replace(/^\//,"").split("/").slice(C.length).join("/")}let w=VU(t,{pathname:E});Xi(m||w!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Xi(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=yQ(w&&w.map(C=>Object.assign({},C,{params:Object.assign({},u,C.params),pathname:Io([f,s.encodeLocation?s.encodeLocation(C.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?f:Io([f,s.encodeLocation?s.encodeLocation(C.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathnameBase])})),a,n,r,i);return e&&A?T.createElement(rg.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},A):A}function hQ(){let t=_Q(),e=nQ(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=T.createElement(T.Fragment,null,T.createElement("p",null," Hey developer "),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:s},"ErrorBoundary")," or"," ",T.createElement("code",{style:s},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),n?T.createElement("pre",{style:i},n):null,a)}var mQ=T.createElement(hQ,null),pQ=class extends T.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?T.createElement(Cs.Provider,{value:this.props.routeContext},T.createElement(QN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function gQ({routeContext:t,match:e,children:n}){let r=T.useContext(Zf);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),T.createElement(Cs.Provider,{value:t},n)}function yQ(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=n?.errors;if(a!=null){let f=s.findIndex(m=>m.route.id&&a?.[m.route.id]!==void 0);un(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,f+1))}let l=!1,u=-1;if(n)for(let f=0;f<s.length;f++){let m=s[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=f),m.route.id){let{loaderData:y,errors:v}=n,_=m.route.loader&&!y.hasOwnProperty(m.route.id)&&(!v||v[m.route.id]===void 0);if(m.route.lazy||_){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}let d=n&&r?(f,m)=>{r(f,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:rQ(n.matches),errorInfo:m})}:void 0;return s.reduceRight((f,m,y)=>{let v,_=!1,E=null,w=null;n&&(v=a&&m.route.id?a[m.route.id]:void 0,E=m.route.errorElement||mQ,l&&(u<0&&y===0?(WU("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,w=null):u===y&&(_=!0,w=m.route.hydrateFallbackElement||null)));let A=e.concat(s.slice(0,y+1)),C=()=>{let P;return v?P=E:_?P=w:m.route.Component?P=T.createElement(m.route.Component,null):m.route.element?P=m.route.element:P=f,T.createElement(gQ,{match:m,routeContext:{outlet:f,matches:A,isDataRoute:n!=null},children:P})};return n&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?T.createElement(pQ,{location:n.location,revalidation:n.revalidation,component:E,error:v,children:C(),routeContext:{outlet:null,matches:A,isDataRoute:!0},onError:d}):C()},null)}function ZN(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vQ(t){let e=T.useContext(Zf);return un(e,ZN(t)),e}function bQ(t){let e=T.useContext(gx);return un(e,ZN(t)),e}function xQ(t){let e=T.useContext(Cs);return un(e,ZN(t)),e}function JN(t){let e=xQ(t),n=e.matches[e.matches.length-1];return un(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function wQ(){return JN("useRouteId")}function _Q(){let t=T.useContext(QN),e=bQ("useRouteError"),n=JN("useRouteError");return t!==void 0?t:e.errors?.[n]}function EQ(){let{router:t}=vQ("useNavigate"),e=JN("useNavigate"),n=T.useRef(!1);return qU(()=>{n.current=!0}),T.useCallback(async(i,s={})=>{Xi(n.current,$U),n.current&&(typeof i=="number"?await t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var kk={};function WU(t,e,n){!e&&!kk[t]&&(kk[t]=!0,Xi(!1,n))}T.memo(SQ);function SQ({routes:t,future:e,state:n,unstable_onError:r}){return HU(t,void 0,n,r,e)}function eC({to:t,replace:e,state:n,relative:r}){un(Jf(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=T.useContext(Ns);Xi(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=T.useContext(Cs),{pathname:a}=xr(),l=jn(),u=XN(t,YN(s),a,r==="path"),d=JSON.stringify(u);return T.useEffect(()=>{l(JSON.parse(d),{replace:e,state:n,relative:r})},[l,d,r,e,n]),null}function tC(t){return uQ(t.context)}function sn(t){un(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function TQ({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1,unstable_useTransitions:a}){un(!Jf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),u=T.useMemo(()=>({basename:l,navigator:i,static:s,unstable_useTransitions:a,future:{}}),[l,i,s,a]);typeof n=="string"&&(n=Qf(n));let{pathname:d="/",search:f="",hash:m="",state:y=null,key:v="default"}=n,_=T.useMemo(()=>{let E=Do(d,l);return E==null?null:{location:{pathname:E,search:f,hash:m,state:y,key:v},navigationType:r}},[l,d,f,m,y,v,r]);return Xi(_!=null,`<Router basename="${l}"> is not able to match the URL "${d}${f}${m}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:T.createElement(Ns.Provider,{value:u},T.createElement(rg.Provider,{children:e,value:_}))}function AQ({children:t,location:e}){return fQ(jT(t),e)}function jT(t,e=[]){let n=[];return T.Children.forEach(t,(r,i)=>{if(!T.isValidElement(r))return;let s=[...e,i];if(r.type===T.Fragment){n.push.apply(n,jT(r.props.children,s));return}un(r.type===sn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),un(!r.props.index||!r.props.children,"An index route cannot have child routes.");let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=jT(r.props.children,s)),n.push(a)}),n}var cv="get",uv="application/x-www-form-urlencoded";function yx(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function NQ(t){return yx(t)&&t.tagName.toLowerCase()==="button"}function CQ(t){return yx(t)&&t.tagName.toLowerCase()==="form"}function PQ(t){return yx(t)&&t.tagName.toLowerCase()==="input"}function IQ(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function OQ(t,e){return t.button===0&&(!e||e==="_self")&&!IQ(t)}function RT(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function jQ(t,e){let n=RT(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(s=>{n.append(i,s)})}),n}var by=null;function RQ(){if(by===null)try{new FormData(document.createElement("form"),0),by=!1}catch{by=!0}return by}var kQ=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function tE(t){return t!=null&&!kQ.has(t)?(Xi(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${uv}"`),null):t}function MQ(t,e){let n,r,i,s,a;if(CQ(t)){let l=t.getAttribute("action");r=l?Do(l,e):null,n=t.getAttribute("method")||cv,i=tE(t.getAttribute("enctype"))||uv,s=new FormData(t)}else if(NQ(t)||PQ(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||l.getAttribute("action");if(r=u?Do(u,e):null,n=t.getAttribute("formmethod")||l.getAttribute("method")||cv,i=tE(t.getAttribute("formenctype"))||tE(l.getAttribute("enctype"))||uv,s=new FormData(l,t),!RQ()){let{name:d,type:f,value:m}=t;if(f==="image"){let y=d?`${d}.`:"";s.append(`${y}x`,"0"),s.append(`${y}y`,"0")}else d&&s.append(d,m)}}else{if(yx(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=cv,r=null,i=uv,a=t}return s&&i==="text/plain"&&(a=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function nC(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function DQ(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Do(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function LQ(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function VQ(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function UQ(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let a=await LQ(s,n);return a.links?a.links():[]}return[]}));return $Q(r.flat(1).filter(VQ).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Mk(t,e,n,r,i,s){let a=(u,d)=>n[d]?u.route.id!==n[d].route.id:!0,l=(u,d)=>n[d].pathname!==u.pathname||n[d].route.path?.endsWith("*")&&n[d].params["*"]!==u.params["*"];return s==="assets"?e.filter((u,d)=>a(u,d)||l(u,d)):s==="data"?e.filter((u,d)=>{let f=r.routes[u.route.id];if(!f||!f.hasLoader)return!1;if(a(u,d)||l(u,d))return!0;if(u.route.shouldRevalidate){let m=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function zQ(t,e,{includeHydrateFallback:n}={}){return BQ(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function BQ(t){return[...new Set(t)]}function FQ(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function $Q(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(FQ(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function KU(){let t=T.useContext(Zf);return nC(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function qQ(){let t=T.useContext(gx);return nC(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var rC=T.createContext(void 0);rC.displayName="FrameworkContext";function GU(){let t=T.useContext(rC);return nC(t,"You must render this element inside a <HydratedRouter> element"),t}function HQ(t,e){let n=T.useContext(rC),[r,i]=T.useState(!1),[s,a]=T.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:d,onMouseLeave:f,onTouchStart:m}=e,y=T.useRef(null);T.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let E=A=>{A.forEach(C=>{a(C.isIntersecting)})},w=new IntersectionObserver(E,{threshold:.5});return y.current&&w.observe(y.current),()=>{w.disconnect()}}},[t]),T.useEffect(()=>{if(r){let E=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(E)}}},[r]);let v=()=>{i(!0)},_=()=>{i(!1),a(!1)};return n?t!=="intent"?[s,y,{}]:[s,y,{onFocus:Sm(l,v),onBlur:Sm(u,_),onMouseEnter:Sm(d,v),onMouseLeave:Sm(f,_),onTouchStart:Sm(m,v)}]:[!1,y,{}]}function Sm(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function WQ({page:t,...e}){let{router:n}=KU(),r=T.useMemo(()=>VU(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?T.createElement(GQ,{page:t,matches:r,...e}):null}function KQ(t){let{manifest:e,routeModules:n}=GU(),[r,i]=T.useState([]);return T.useEffect(()=>{let s=!1;return UQ(t,e,n).then(a=>{s||i(a)}),()=>{s=!0}},[t,e,n]),r}function GQ({page:t,matches:e,...n}){let r=xr(),{manifest:i,routeModules:s}=GU(),{basename:a}=KU(),{loaderData:l,matches:u}=qQ(),d=T.useMemo(()=>Mk(t,e,u,i,r,"data"),[t,e,u,i,r]),f=T.useMemo(()=>Mk(t,e,u,i,r,"assets"),[t,e,u,i,r]),m=T.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let _=new Set,E=!1;if(e.forEach(A=>{let C=i.routes[A.route.id];!C||!C.hasLoader||(!d.some(P=>P.route.id===A.route.id)&&A.route.id in l&&s[A.route.id]?.shouldRevalidate||C.hasClientLoader?E=!0:_.add(A.route.id))}),_.size===0)return[];let w=DQ(t,a,"data");return E&&_.size>0&&w.searchParams.set("_routes",e.filter(A=>_.has(A.route.id)).map(A=>A.route.id).join(",")),[w.pathname+w.search]},[a,l,r,i,d,e,t,s]),y=T.useMemo(()=>zQ(f,i),[f,i]),v=KQ(f);return T.createElement(T.Fragment,null,m.map(_=>T.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...n})),y.map(_=>T.createElement("link",{key:_,rel:"modulepreload",href:_,...n})),v.map(({key:_,link:E})=>T.createElement("link",{key:_,nonce:n.nonce,...E})))}function YQ(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var YU=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{YU&&(window.__reactRouterVersion="7.10.0")}catch{}function XQ({basename:t,children:e,unstable_useTransitions:n,window:r}){let i=T.useRef();i.current==null&&(i.current=jX({window:r,v5Compat:!0}));let s=i.current,[a,l]=T.useState({action:s.action,location:s.location}),u=T.useCallback(d=>{n===!1?l(d):T.startTransition(()=>l(d))},[n]);return T.useLayoutEffect(()=>s.listen(u),[s,u]),T.createElement(TQ,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:s,unstable_useTransitions:n===!0})}var XU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fn=T.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:a,state:l,target:u,to:d,preventScrollReset:f,viewTransition:m,...y},v){let{basename:_,unstable_useTransitions:E}=T.useContext(Ns),w=typeof d=="string"&&XU.test(d),A,C=!1;if(typeof d=="string"&&w&&(A=d,YU))try{let B=new URL(window.location.href),V=d.startsWith("//")?new URL(B.protocol+d):new URL(d),$=Do(V.pathname,_);V.origin===B.origin&&$!=null?d=$+V.search+V.hash:C=!0}catch{Xi(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let P=oQ(d,{relative:i}),[L,M,z]=HQ(r,y),j=eZ(d,{replace:a,state:l,target:u,preventScrollReset:f,relative:i,viewTransition:m,unstable_useTransitions:E});function R(B){e&&e(B),B.defaultPrevented||j(B)}let D=T.createElement("a",{...y,...z,href:A||P,onClick:C||s?e:R,ref:YQ(v,M),target:u,"data-discover":!w&&n==="render"?"true":void 0});return L&&!w?T.createElement(T.Fragment,null,D,T.createElement(WQ,{page:P})):D});fn.displayName="Link";var QQ=T.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:a,viewTransition:l,children:u,...d},f){let m=ig(a,{relative:d.relative}),y=xr(),v=T.useContext(gx),{navigator:_,basename:E}=T.useContext(Ns),w=v!=null&&aZ(m)&&l===!0,A=_.encodeLocation?_.encodeLocation(m).pathname:m.pathname,C=y.pathname,P=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;n||(C=C.toLowerCase(),P=P?P.toLowerCase():null,A=A.toLowerCase()),P&&E&&(P=Do(P,E)||P);const L=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let M=C===A||!i&&C.startsWith(A)&&C.charAt(L)==="/",z=P!=null&&(P===A||!i&&P.startsWith(A)&&P.charAt(A.length)==="/"),j={isActive:M,isPending:z,isTransitioning:w},R=M?e:void 0,D;typeof r=="function"?D=r(j):D=[r,M?"active":null,z?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let B=typeof s=="function"?s(j):s;return T.createElement(fn,{...d,"aria-current":R,className:D,ref:f,style:B,to:a,viewTransition:l},typeof u=="function"?u(j):u)});QQ.displayName="NavLink";var ZQ=T.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:a=cv,action:l,onSubmit:u,relative:d,preventScrollReset:f,viewTransition:m,...y},v)=>{let{unstable_useTransitions:_}=T.useContext(Ns),E=iZ(),w=sZ(l,{relative:d}),A=a.toLowerCase()==="get"?"get":"post",C=typeof l=="string"&&XU.test(l),P=L=>{if(u&&u(L),L.defaultPrevented)return;L.preventDefault();let M=L.nativeEvent.submitter,z=M?.getAttribute("formmethod")||a,j=()=>E(M||L.currentTarget,{fetcherKey:e,method:z,navigate:n,replace:i,state:s,relative:d,preventScrollReset:f,viewTransition:m});_&&n!==!1?T.startTransition(()=>j()):j()};return T.createElement("form",{ref:v,method:A,action:w,onSubmit:r?u:P,...y,"data-discover":!C&&t==="render"?"true":void 0})});ZQ.displayName="Form";function JQ(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function QU(t){let e=T.useContext(Zf);return un(e,JQ(t)),e}function eZ(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:a,unstable_useTransitions:l}={}){let u=jn(),d=xr(),f=ig(t,{relative:s});return T.useCallback(m=>{if(OQ(m,e)){m.preventDefault();let y=n!==void 0?n:bp(d)===bp(f),v=()=>u(t,{replace:y,state:r,preventScrollReset:i,relative:s,viewTransition:a});l?T.startTransition(()=>v()):v()}},[d,u,f,n,r,e,t,i,s,a,l])}function tZ(t){Xi(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=T.useRef(RT(t)),n=T.useRef(!1),r=xr(),i=T.useMemo(()=>jQ(r.search,n.current?null:e.current),[r.search]),s=jn(),a=T.useCallback((l,u)=>{const d=RT(typeof l=="function"?l(new URLSearchParams(i)):l);n.current=!0,s("?"+d,u)},[s,i]);return[i,a]}var nZ=0,rZ=()=>`__${String(++nZ)}__`;function iZ(){let{router:t}=QU("useSubmit"),{basename:e}=T.useContext(Ns),n=wQ(),r=t.fetch,i=t.navigate;return T.useCallback(async(s,a={})=>{let{action:l,method:u,encType:d,formData:f,body:m}=MQ(s,e);if(a.navigate===!1){let y=a.fetcherKey||rZ();await r(y,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:f,body:m,formMethod:a.method||u,formEncType:a.encType||d,flushSync:a.flushSync})}else await i(a.action||l,{preventScrollReset:a.preventScrollReset,formData:f,body:m,formMethod:a.method||u,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[r,i,e,n])}function sZ(t,{relative:e}={}){let{basename:n}=T.useContext(Ns),r=T.useContext(Cs);un(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...ig(t||".",{relative:e})},a=xr();if(t==null){s.search=a.search;let l=new URLSearchParams(s.search),u=l.getAll("index");if(u.some(f=>f==="")){l.delete("index"),u.filter(m=>m).forEach(m=>l.append("index",m));let f=l.toString();s.search=f?`?${f}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Io([n,s.pathname])),bp(s)}function aZ(t,{relative:e}={}){let n=T.useContext(FU);un(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=QU("useViewTransitionState"),i=ig(t,{relative:e});if(!n.isTransitioning)return!1;let s=Do(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=Do(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Rv(i.pathname,a)!=null||Rv(i.pathname,s)!=null}var iC=LU();const oZ=()=>{};var Dk={};const ZU=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},lZ=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],l=t[n++],u=((i&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},JU={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,l=a?t[i+1]:0,u=i+2<t.length,d=u?t[i+2]:0,f=s>>2,m=(s&3)<<4|l>>4;let y=(l&15)<<2|d>>6,v=d&63;u||(v=64,a||(y=64)),r.push(n[f],n[m],n[y],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ZU(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):lZ(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||d==null||m==null)throw new cZ;const y=s<<2|l>>4;if(r.push(y),d!==64){const v=l<<4&240|d>>2;if(r.push(v),m!==64){const _=d<<6&192|m;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class cZ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const uZ=function(t){const e=ZU(t);return JU.encodeByteArray(e,!0)},kv=function(t){return uZ(t).replace(/\./g,"")},ez=function(t){try{return JU.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function dZ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const fZ=()=>dZ().__FIREBASE_DEFAULTS__,hZ=()=>{if(typeof process>"u"||typeof Dk>"u")return;const t=Dk.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},mZ=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ez(t[1]);return e&&JSON.parse(e)},vx=()=>{try{return oZ()||fZ()||hZ()||mZ()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},tz=t=>vx()?.emulatorHosts?.[t],sC=t=>{const e=tz(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},nz=()=>vx()?.config,rz=t=>vx()?.[`_${t}`];class pZ{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function Ka(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function bx(t){return(await fetch(t,{credentials:"include"})).ok}function iz(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[kv(JSON.stringify(n)),kv(JSON.stringify(a)),""].join(".")}const Zm={};function gZ(){const t={prod:[],emulator:[]};for(const e of Object.keys(Zm))Zm[e]?t.emulator.push(e):t.prod.push(e);return t}function yZ(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Lk=!1;function xx(t,e){if(typeof window>"u"||typeof document>"u"||!Ka(window.location.host)||Zm[t]===e||Zm[t]||Lk)return;Zm[t]=e;function n(y){return`__firebase__banner__${y}`}const r="__firebase__banner",s=gZ().prod.length>0;function a(){const y=document.getElementById(r);y&&y.remove()}function l(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function u(y,v){y.setAttribute("width","24"),y.setAttribute("id",v),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function d(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{Lk=!0,a()},y}function f(y,v){y.setAttribute("id",v),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function m(){const y=yZ(r),v=n("text"),_=document.getElementById(v)||document.createElement("span"),E=n("learnmore"),w=document.getElementById(E)||document.createElement("a"),A=n("preprendIcon"),C=document.getElementById(A)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const P=y.element;l(P),f(w,E);const L=d();u(C,A),P.append(C,_,w,L),document.body.appendChild(P)}s?(_.innerText="Preview backend disconnected.",C.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(C.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,_.innerText="Preview backend running in this workspace."),_.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}function Gr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vZ(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gr())}function bZ(){const t=vx()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function xZ(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function sz(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function wZ(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _Z(){const t=Gr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function EZ(){return!bZ()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function aC(){try{return typeof indexedDB=="object"}catch{return!1}}function oC(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}function az(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const SZ="FirebaseError";class Ji extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=SZ,Object.setPrototypeOf(this,Ji.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_c.prototype.create)}}class _c{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?TZ(s,r):"Error",l=`${this.serviceName}: ${a} (${i}).`;return new Ji(i,l,r)}}function TZ(t,e){return t.replace(AZ,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const AZ=/\{\$([^}]+)}/g;function NZ(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function sc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(Vk(s)&&Vk(a)){if(!sc(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Vk(t){return t!==null&&typeof t=="object"}function sg(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function zm(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Bm(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function CZ(t,e){const n=new PZ(t,e);return n.subscribe.bind(n)}class PZ{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");IZ(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=nE),i.error===void 0&&(i.error=nE),i.complete===void 0&&(i.complete=nE);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function IZ(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function nE(){}const OZ=1e3,jZ=2,RZ=14400*1e3,kZ=.5;function Uk(t,e=OZ,n=jZ){const r=e*Math.pow(n,t),i=Math.round(kZ*r*(Math.random()-.5)*2);return Math.min(RZ,r+i)}function Nt(t){return t&&t._delegate?t._delegate:t}class Pi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const fu="[DEFAULT]";let MZ=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new pZ;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(LZ(e))try{this.getOrInitializeService({instanceIdentifier:fu})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=fu){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=fu){return this.instances.has(e)}getOptions(e=fu){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&a.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:DZ(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=fu){return this.component?this.component.multipleInstances?e:fu:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function DZ(t){return t===fu?void 0:t}function LZ(t){return t.instantiationMode==="EAGER"}class VZ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new MZ(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var rt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(rt||(rt={}));const UZ={debug:rt.DEBUG,verbose:rt.VERBOSE,info:rt.INFO,warn:rt.WARN,error:rt.ERROR,silent:rt.SILENT},zZ=rt.INFO,BZ={[rt.DEBUG]:"log",[rt.VERBOSE]:"log",[rt.INFO]:"info",[rt.WARN]:"warn",[rt.ERROR]:"error"},FZ=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=BZ[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ag{constructor(e){this.name=e,this._logLevel=zZ,this._logHandler=FZ,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in rt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?UZ[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,rt.DEBUG,...e),this._logHandler(this,rt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,rt.VERBOSE,...e),this._logHandler(this,rt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,rt.INFO,...e),this._logHandler(this,rt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,rt.WARN,...e),this._logHandler(this,rt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,rt.ERROR,...e),this._logHandler(this,rt.ERROR,...e)}}const $Z=(t,e)=>e.some(n=>t instanceof n);let zk,Bk;function qZ(){return zk||(zk=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function HZ(){return Bk||(Bk=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const oz=new WeakMap,kT=new WeakMap,lz=new WeakMap,rE=new WeakMap,lC=new WeakMap;function WZ(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(Zl(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&oz.set(n,t)}).catch(()=>{}),lC.set(e,t),e}function KZ(t){if(kT.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});kT.set(t,e)}let MT={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return kT.get(t);if(e==="objectStoreNames")return t.objectStoreNames||lz.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zl(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function GZ(t){MT=t(MT)}function YZ(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(iE(this),e,...n);return lz.set(r,e.sort?e.sort():[e]),Zl(r)}:HZ().includes(t)?function(...e){return t.apply(iE(this),e),Zl(oz.get(this))}:function(...e){return Zl(t.apply(iE(this),e))}}function XZ(t){return typeof t=="function"?YZ(t):(t instanceof IDBTransaction&&KZ(t),$Z(t,qZ())?new Proxy(t,MT):t)}function Zl(t){if(t instanceof IDBRequest)return WZ(t);if(rE.has(t))return rE.get(t);const e=XZ(t);return e!==t&&(rE.set(t,e),lC.set(e,t)),e}const iE=t=>lC.get(t);function cz(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),l=Zl(a);return r&&a.addEventListener("upgradeneeded",u=>{r(Zl(a.result),u.oldVersion,u.newVersion,Zl(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const QZ=["get","getKey","getAll","getAllKeys","count"],ZZ=["put","add","delete","clear"],sE=new Map;function Fk(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(sE.get(e))return sE.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=ZZ.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||QZ.includes(n)))return;const s=async function(a,...l){const u=this.transaction(a,i?"readwrite":"readonly");let d=u.store;return r&&(d=d.index(l.shift())),(await Promise.all([d[n](...l),i&&u.done]))[0]};return sE.set(e,s),s}GZ(t=>({...t,get:(e,n,r)=>Fk(e,n)||t.get(e,n,r),has:(e,n)=>!!Fk(e,n)||t.has(e,n)}));class JZ{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(eJ(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function eJ(t){return t.getComponent()?.type==="VERSION"}const DT="@firebase/app",$k="0.14.6";const Lo=new ag("@firebase/app"),tJ="@firebase/app-compat",nJ="@firebase/analytics-compat",rJ="@firebase/analytics",iJ="@firebase/app-check-compat",sJ="@firebase/app-check",aJ="@firebase/auth",oJ="@firebase/auth-compat",lJ="@firebase/database",cJ="@firebase/data-connect",uJ="@firebase/database-compat",dJ="@firebase/functions",fJ="@firebase/functions-compat",hJ="@firebase/installations",mJ="@firebase/installations-compat",pJ="@firebase/messaging",gJ="@firebase/messaging-compat",yJ="@firebase/performance",vJ="@firebase/performance-compat",bJ="@firebase/remote-config",xJ="@firebase/remote-config-compat",wJ="@firebase/storage",_J="@firebase/storage-compat",EJ="@firebase/firestore",SJ="@firebase/ai",TJ="@firebase/firestore-compat",AJ="firebase",NJ="12.6.0";const LT="[DEFAULT]",CJ={[DT]:"fire-core",[tJ]:"fire-core-compat",[rJ]:"fire-analytics",[nJ]:"fire-analytics-compat",[sJ]:"fire-app-check",[iJ]:"fire-app-check-compat",[aJ]:"fire-auth",[oJ]:"fire-auth-compat",[lJ]:"fire-rtdb",[cJ]:"fire-data-connect",[uJ]:"fire-rtdb-compat",[dJ]:"fire-fn",[fJ]:"fire-fn-compat",[hJ]:"fire-iid",[mJ]:"fire-iid-compat",[pJ]:"fire-fcm",[gJ]:"fire-fcm-compat",[yJ]:"fire-perf",[vJ]:"fire-perf-compat",[bJ]:"fire-rc",[xJ]:"fire-rc-compat",[wJ]:"fire-gcs",[_J]:"fire-gcs-compat",[EJ]:"fire-fst",[TJ]:"fire-fst-compat",[SJ]:"fire-vertex","fire-js":"fire-js",[AJ]:"fire-js-all"};const Mv=new Map,PJ=new Map,VT=new Map;function qk(t,e){try{t.container.addComponent(e)}catch(n){Lo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Qi(t){const e=t.name;if(VT.has(e))return Lo.debug(`There were multiple attempts to register component ${e}.`),!1;VT.set(e,t);for(const n of Mv.values())qk(n,t);for(const n of PJ.values())qk(n,t);return!0}function Ga(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ei(t){return t==null?!1:t.settings!==void 0}const IJ={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Jl=new _c("app","Firebase",IJ);class OJ{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Pi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Jl.create("app-deleted",{appName:this._name})}}const td=NJ;function uz(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:LT,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Jl.create("bad-app-name",{appName:String(i)});if(n||(n=nz()),!n)throw Jl.create("no-options");const s=Mv.get(i);if(s){if(sc(n,s.options)&&sc(r,s.config))return s;throw Jl.create("duplicate-app",{appName:i})}const a=new VZ(i);for(const u of VT.values())a.addComponent(u);const l=new OJ(n,r,a);return Mv.set(i,l),l}function eh(t=LT){const e=Mv.get(t);if(!e&&t===LT&&nz())return uz();if(!e)throw Jl.create("no-app",{appName:t});return e}function vr(t,e,n){let r=CJ[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const a=[`Unable to register library "${r}" with version "${e}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Lo.warn(a.join(" "));return}Qi(new Pi(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const jJ="firebase-heartbeat-database",RJ=1,xp="firebase-heartbeat-store";let aE=null;function dz(){return aE||(aE=cz(jJ,RJ,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(xp)}catch(n){console.warn(n)}}}}).catch(t=>{throw Jl.create("idb-open",{originalErrorMessage:t.message})})),aE}async function kJ(t){try{const n=(await dz()).transaction(xp),r=await n.objectStore(xp).get(fz(t));return await n.done,r}catch(e){if(e instanceof Ji)Lo.warn(e.message);else{const n=Jl.create("idb-get",{originalErrorMessage:e?.message});Lo.warn(n.message)}}}async function Hk(t,e){try{const r=(await dz()).transaction(xp,"readwrite");await r.objectStore(xp).put(e,fz(t)),await r.done}catch(n){if(n instanceof Ji)Lo.warn(n.message);else{const r=Jl.create("idb-set",{originalErrorMessage:n?.message});Lo.warn(r.message)}}}function fz(t){return`${t.name}!${t.options.appId}`}const MJ=1024,DJ=30;class LJ{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new UJ(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Wk();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>DJ){const i=zJ(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Lo.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Wk(),{heartbeatsToSend:n,unsentEntries:r}=VJ(this._heartbeatsCache.heartbeats),i=kv(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Lo.warn(e),""}}}function Wk(){return new Date().toISOString().substring(0,10)}function VJ(t,e=MJ){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),Kk(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Kk(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class UJ{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return aC()?oC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await kJ(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Hk(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Hk(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Kk(t){return kv(JSON.stringify({version:2,heartbeats:t})).length}function zJ(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function BJ(t){Qi(new Pi("platform-logger",e=>new JZ(e),"PRIVATE")),Qi(new Pi("heartbeat",e=>new LJ(e),"PRIVATE")),vr(DT,$k,t),vr(DT,$k,"esm2020"),vr("fire-js","")}BJ("");function hz(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const FJ=hz,mz=new _c("auth","Firebase",hz());const Dv=new ag("@firebase/auth");function $J(t,...e){Dv.logLevel<=rt.WARN&&Dv.warn(`Auth (${td}): ${t}`,...e)}function dv(t,...e){Dv.logLevel<=rt.ERROR&&Dv.error(`Auth (${td}): ${t}`,...e)}function Es(t,...e){throw uC(t,...e)}function Gs(t,...e){return uC(t,...e)}function cC(t,e,n){const r={...FJ(),[e]:n};return new _c("auth","Firebase",r).create(e,{appName:t.name})}function Oo(t){return cC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function qJ(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Es(t,"argument-error"),cC(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function uC(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return mz.create(t,...e)}function Be(t,e,...n){if(!t)throw uC(e,...n)}function To(t){const e="INTERNAL ASSERTION FAILED: "+t;throw dv(e),new Error(e)}function Vo(t,e){t||To(e)}function UT(){return typeof self<"u"&&self.location?.href||""}function HJ(){return Gk()==="http:"||Gk()==="https:"}function Gk(){return typeof self<"u"&&self.location?.protocol||null}function WJ(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(HJ()||sz()||"connection"in navigator)?navigator.onLine:!0}function KJ(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class og{constructor(e,n){this.shortDelay=e,this.longDelay=n,Vo(n>e,"Short delay should be less than long delay!"),this.isMobile=vZ()||wZ()}get(){return WJ()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function dC(t,e){Vo(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class pz{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;To("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;To("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;To("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const GJ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const YJ=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],XJ=new og(3e4,6e4);function Ec(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Sc(t,e,n,r,i={}){return gz(t,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const l=sg({key:t.config.apiKey,...a}).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:u,...s};return xZ()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&Ka(t.emulatorConfig.host)&&(d.credentials="include"),pz.fetch()(await yz(t,t.config.apiHost,n,l),d)})}async function gz(t,e,n){t._canInitEmulator=!1;const r={...GJ,...e};try{const i=new ZJ(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw xy(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const l=s.ok?a.errorMessage:a.error.message,[u,d]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw xy(t,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw xy(t,"email-already-in-use",a);if(u==="USER_DISABLED")throw xy(t,"user-disabled",a);const f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw cC(t,f,d);Es(t,f)}}catch(i){if(i instanceof Ji)throw i;Es(t,"network-request-failed",{message:String(i)})}}async function lg(t,e,n,r,i={}){const s=await Sc(t,e,n,r,i);return"mfaPendingCredential"in s&&Es(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function yz(t,e,n,r){const i=`${e}${n}?${r}`,s=t,a=s.config.emulator?dC(t.config,i):`${t.config.apiScheme}://${i}`;return YJ.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}function QJ(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ZJ{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Gs(this.auth,"network-request-failed")),XJ.get())})}}function xy(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Gs(t,e,r);return i.customData._tokenResponse=n,i}function Yk(t){return t!==void 0&&t.enterprise!==void 0}class JJ{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return QJ(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function eee(t,e){return Sc(t,"GET","/v2/recaptchaConfig",Ec(t,e))}async function tee(t,e){return Sc(t,"POST","/v1/accounts:delete",e)}async function Lv(t,e){return Sc(t,"POST","/v1/accounts:lookup",e)}function Jm(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function nee(t,e=!1){const n=Nt(t),r=await n.getIdToken(e),i=fC(r);Be(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s?.sign_in_provider;return{claims:i,token:r,authTime:Jm(oE(i.auth_time)),issuedAtTime:Jm(oE(i.iat)),expirationTime:Jm(oE(i.exp)),signInProvider:a||null,signInSecondFactor:s?.sign_in_second_factor||null}}function oE(t){return Number(t)*1e3}function fC(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return dv("JWT malformed, contained fewer than 3 sections"),null;try{const i=ez(n);return i?JSON.parse(i):(dv("Failed to decode base64 JWT payload"),null)}catch(i){return dv("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Xk(t){const e=fC(t);return Be(e,"internal-error"),Be(typeof e.exp<"u","internal-error"),Be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function wp(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ji&&ree(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function ree({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class iee{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class zT{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jm(this.lastLoginAt),this.creationTime=Jm(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Vv(t){const e=t.auth,n=await t.getIdToken(),r=await wp(t,Lv(e,{idToken:n}));Be(r?.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=i.providerUserInfo?.length?vz(i.providerUserInfo):[],a=aee(t.providerData,s),l=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!a?.length,d=l?u:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new zT(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function see(t){const e=Nt(t);await Vv(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function aee(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function vz(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function oee(t,e){const n=await gz(t,{},async()=>{const r=sg({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=await yz(t,i,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:l,body:r};return t.emulatorConfig&&Ka(t.emulatorConfig.host)&&(u.credentials="include"),pz.fetch()(a,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function lee(t,e){return Sc(t,"POST","/v2/accounts:revokeToken",Ec(t,e))}class yf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Be(e.idToken,"internal-error"),Be(typeof e.idToken<"u","internal-error"),Be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Xk(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Be(e.length!==0,"internal-error");const n=Xk(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await oee(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,a=new yf;return r&&(Be(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(Be(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(Be(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new yf,this.toJSON())}_performRefresh(){return To("not implemented")}}function Ll(t,e){Be(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ks{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new iee(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new zT(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await wp(this,this.stsTokenManager.getToken(this.auth,e));return Be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return nee(this,e)}reload(){return see(this)}_assign(e){this!==e&&(Be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ks({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Vv(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ei(this.auth.app))return Promise.reject(Oo(this.auth));const e=await this.getIdToken();return await wp(this,tee(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,a=n.photoURL??void 0,l=n.tenantId??void 0,u=n._redirectEventId??void 0,d=n.createdAt??void 0,f=n.lastLoginAt??void 0,{uid:m,emailVerified:y,isAnonymous:v,providerData:_,stsTokenManager:E}=n;Be(m&&E,e,"internal-error");const w=yf.fromJSON(this.name,E);Be(typeof m=="string",e,"internal-error"),Ll(r,e.name),Ll(i,e.name),Be(typeof y=="boolean",e,"internal-error"),Be(typeof v=="boolean",e,"internal-error"),Ll(s,e.name),Ll(a,e.name),Ll(l,e.name),Ll(u,e.name),Ll(d,e.name),Ll(f,e.name);const A=new Ks({uid:m,auth:e,email:i,emailVerified:y,displayName:r,isAnonymous:v,photoURL:a,phoneNumber:s,tenantId:l,stsTokenManager:w,createdAt:d,lastLoginAt:f});return _&&Array.isArray(_)&&(A.providerData=_.map(C=>({...C}))),u&&(A._redirectEventId=u),A}static async _fromIdTokenResponse(e,n,r=!1){const i=new yf;i.updateFromServerResponse(n);const s=new Ks({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Vv(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Be(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?vz(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!s?.length,l=new yf;l.updateFromIdToken(r);const u=new Ks({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:a}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new zT(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,d),u}}const Qk=new Map;function Ao(t){Vo(t instanceof Function,"Expected a class definition");let e=Qk.get(t);return e?(Vo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Qk.set(t,e),e)}class bz{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}bz.type="NONE";const Zk=bz;function fv(t,e,n){return`firebase:${t}:${e}:${n}`}class vf{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=fv(this.userKey,i.apiKey,s),this.fullPersistenceKey=fv("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Lv(this.auth,{idToken:e}).catch(()=>{});return n?Ks._fromGetAccountInfoResponse(this.auth,n,e):null}return Ks._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new vf(Ao(Zk),e,r);const i=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let s=i[0]||Ao(Zk);const a=fv(r,e.config.apiKey,e.name);let l=null;for(const d of n)try{const f=await d._get(a);if(f){let m;if(typeof f=="string"){const y=await Lv(e,{idToken:f}).catch(()=>{});if(!y)break;m=await Ks._fromGetAccountInfoResponse(e,y,f)}else m=Ks._fromJSON(e,f);d!==s&&(l=m),s=d;break}}catch{}const u=i.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new vf(s,e,r):(s=u[0],l&&await s._set(a,l.toJSON()),await Promise.all(n.map(async d=>{if(d!==s)try{await d._remove(a)}catch{}})),new vf(s,e,r))}}function Jk(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Ez(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(xz(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Tz(e))return"Blackberry";if(Az(e))return"Webos";if(wz(e))return"Safari";if((e.includes("chrome/")||_z(e))&&!e.includes("edge/"))return"Chrome";if(Sz(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function xz(t=Gr()){return/firefox\//i.test(t)}function wz(t=Gr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _z(t=Gr()){return/crios\//i.test(t)}function Ez(t=Gr()){return/iemobile/i.test(t)}function Sz(t=Gr()){return/android/i.test(t)}function Tz(t=Gr()){return/blackberry/i.test(t)}function Az(t=Gr()){return/webos/i.test(t)}function hC(t=Gr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function cee(t=Gr()){return hC(t)&&!!window.navigator?.standalone}function uee(){return _Z()&&document.documentMode===10}function Nz(t=Gr()){return hC(t)||Sz(t)||Az(t)||Tz(t)||/windows phone/i.test(t)||Ez(t)}function Cz(t,e=[]){let n;switch(t){case"Browser":n=Jk(Gr());break;case"Worker":n=`${Jk(Gr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${td}/${r}`}class dee{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((a,l)=>{try{const u=e(s);a(u)}catch(u){l(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function fee(t,e={}){return Sc(t,"GET","/v2/passwordPolicy",Ec(t,e))}const hee=6;class mee{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??hee,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class pee{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new eM(this),this.idTokenSubscription=new eM(this),this.beforeStateQueue=new dee(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mz,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ao(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await vf.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Lv(this,{idToken:e}),r=await Ks._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ei(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=this.redirectUser?._redirectEventId,a=r?._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&l?.user&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Vv(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=KJ()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ei(this.app))return Promise.reject(Oo(this));const n=e?Nt(e):null;return n&&Be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ei(this.app)?Promise.reject(Oo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ei(this.app)?Promise.reject(Oo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ao(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await fee(this),n=new mee(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new _c("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await lee(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ao(e)||this._popupRedirectResolver;Be(n,this,"argument-error"),this.redirectPersistenceManager=await vf.create(this,[Ao(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Be(l,this,"internal-error"),l.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{a=!0,u()}}else{const u=e.addObserver(n);return()=>{a=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Cz(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(ei(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&$J(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Tc(t){return Nt(t)}class eM{constructor(e){this.auth=e,this.observer=null,this.addObserver=CZ(n=>this.observer=n)}get next(){return Be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let wx={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function gee(t){wx=t}function Pz(t){return wx.loadJS(t)}function yee(){return wx.recaptchaEnterpriseScript}function vee(){return wx.gapiScript}function bee(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class xee{constructor(){this.enterprise=new wee}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class wee{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const _ee="recaptcha-enterprise",Iz="NO_RECAPTCHA";class Eee{constructor(e){this.type=_ee,this.auth=Tc(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,l)=>{eee(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const d=new JJ(u);return s.tenantId==null?s._agentRecaptchaConfig=d:s._tenantRecaptchaConfigs[s.tenantId]=d,a(d.siteKey)}}).catch(u=>{l(u)})})}function i(s,a,l){const u=window.grecaptcha;Yk(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(d=>{a(d)}).catch(()=>{a(Iz)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new xee().execute("siteKey",{action:"verify"}):new Promise((s,a)=>{r(this.auth).then(l=>{if(!n&&Yk(window.grecaptcha))i(l,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let u=yee();u.length!==0&&(u+=l),Pz(u).then(()=>{i(l,s,a)}).catch(d=>{a(d)})}}).catch(l=>{a(l)})})}}async function tM(t,e,n,r=!1,i=!1){const s=new Eee(t);let a;if(i)a=Iz;else try{a=await s.verify(n)}catch{a=await s.verify(n,!0)}const l={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const u=l.phoneEnrollmentInfo.phoneNumber,d=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:d,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const u=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:a}):Object.assign(l,{captchaResponse:a}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function BT(t,e,n,r,i){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await tM(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await tM(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(s)})}function See(t,e){const n=Ga(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(sc(s,e??{}))return i;Es(i,"already-initialized")}return n.initialize({options:e})}function Tee(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ao);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Aee(t,e,n){const r=Tc(t);Be(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=Oz(e),{host:a,port:l}=Nee(e),u=l===null?"":`:${l}`,d={url:`${s}//${a}${u}/`},f=Object.freeze({host:a,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Be(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Be(sc(d,r.config.emulator)&&sc(f,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=f,r.settings.appVerificationDisabledForTesting=!0,Ka(a)?(bx(`${s}//${a}${u}`),xx("Auth",!0)):Cee()}function Oz(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Nee(t){const e=Oz(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:nM(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:nM(a)}}}function nM(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Cee(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class mC{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return To("not implemented")}_getIdTokenResponse(e){return To("not implemented")}_linkToIdToken(e,n){return To("not implemented")}_getReauthenticationResolver(e){return To("not implemented")}}async function Pee(t,e){return Sc(t,"POST","/v1/accounts:signUp",e)}async function Iee(t,e){return lg(t,"POST","/v1/accounts:signInWithPassword",Ec(t,e))}async function Oee(t,e){return lg(t,"POST","/v1/accounts:signInWithEmailLink",Ec(t,e))}async function jee(t,e){return lg(t,"POST","/v1/accounts:signInWithEmailLink",Ec(t,e))}class _p extends mC{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new _p(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new _p(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return BT(e,n,"signInWithPassword",Iee);case"emailLink":return Oee(e,{email:this._email,oobCode:this._password});default:Es(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return BT(e,r,"signUpPassword",Pee);case"emailLink":return jee(e,{idToken:n,email:this._email,oobCode:this._password});default:Es(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function bf(t,e){return lg(t,"POST","/v1/accounts:signInWithIdp",Ec(t,e))}const Ree="http://localhost";class Lu extends mC{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Lu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Es("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const a=new Lu(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return bf(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,bf(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,bf(e,n)}buildRequest(){const e={requestUri:Ree,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=sg(n)}return e}}function kee(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Mee(t){const e=zm(Bm(t)).link,n=e?zm(Bm(e)).deep_link_id:null,r=zm(Bm(t)).deep_link_id;return(r?zm(Bm(r)).link:null)||r||n||e||t}class pC{constructor(e){const n=zm(Bm(e)),r=n.apiKey??null,i=n.oobCode??null,s=kee(n.mode??null);Be(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=Mee(e);try{return new pC(n)}catch{return null}}}class th{constructor(){this.providerId=th.PROVIDER_ID}static credential(e,n){return _p._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=pC.parseLink(n);return Be(r,"argument-error"),_p._fromEmailAndCode(e,r.code,r.tenantId)}}th.PROVIDER_ID="password";th.EMAIL_PASSWORD_SIGN_IN_METHOD="password";th.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class gC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class cg extends gC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Bl extends cg{constructor(){super("facebook.com")}static credential(e){return Lu._fromParams({providerId:Bl.PROVIDER_ID,signInMethod:Bl.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bl.credentialFromTaggedObject(e)}static credentialFromError(e){return Bl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bl.credential(e.oauthAccessToken)}catch{return null}}}Bl.FACEBOOK_SIGN_IN_METHOD="facebook.com";Bl.PROVIDER_ID="facebook.com";class _o extends cg{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Lu._fromParams({providerId:_o.PROVIDER_ID,signInMethod:_o.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return _o.credentialFromTaggedObject(e)}static credentialFromError(e){return _o.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return _o.credential(n,r)}catch{return null}}}_o.GOOGLE_SIGN_IN_METHOD="google.com";_o.PROVIDER_ID="google.com";class Fl extends cg{constructor(){super("github.com")}static credential(e){return Lu._fromParams({providerId:Fl.PROVIDER_ID,signInMethod:Fl.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fl.credentialFromTaggedObject(e)}static credentialFromError(e){return Fl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fl.credential(e.oauthAccessToken)}catch{return null}}}Fl.GITHUB_SIGN_IN_METHOD="github.com";Fl.PROVIDER_ID="github.com";class $l extends cg{constructor(){super("twitter.com")}static credential(e,n){return Lu._fromParams({providerId:$l.PROVIDER_ID,signInMethod:$l.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return $l.credentialFromTaggedObject(e)}static credentialFromError(e){return $l.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return $l.credential(n,r)}catch{return null}}}$l.TWITTER_SIGN_IN_METHOD="twitter.com";$l.PROVIDER_ID="twitter.com";async function Dee(t,e){return lg(t,"POST","/v1/accounts:signUp",Ec(t,e))}class Vu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Ks._fromIdTokenResponse(e,r,i),a=rM(r);return new Vu({user:s,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=rM(r);return new Vu({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function rM(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Uv extends Ji{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Uv.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Uv(e,n,r,i)}}function jz(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Uv._fromErrorAndOperation(t,s,e,r):s})}async function Lee(t,e,n=!1){const r=await wp(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Vu._forOperation(t,"link",r)}async function Vee(t,e,n=!1){const{auth:r}=t;if(ei(r.app))return Promise.reject(Oo(r));const i="reauthenticate";try{const s=await wp(t,jz(r,i,e,t),n);Be(s.idToken,r,"internal-error");const a=fC(s.idToken);Be(a,r,"internal-error");const{sub:l}=a;return Be(t.uid===l,r,"user-mismatch"),Vu._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Es(r,"user-mismatch"),s}}async function Rz(t,e,n=!1){if(ei(t.app))return Promise.reject(Oo(t));const r="signIn",i=await jz(t,r,e),s=await Vu._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function Uee(t,e){return Rz(Tc(t),e)}async function kz(t){const e=Tc(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function zee(t,e,n){if(ei(t.app))return Promise.reject(Oo(t));const r=Tc(t),a=await BT(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Dee).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&kz(t),u}),l=await Vu._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(l.user),l}function Bee(t,e,n){return ei(t.app)?Promise.reject(Oo(t)):Uee(Nt(t),th.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&kz(t),r})}function Fee(t,e,n,r){return Nt(t).onIdTokenChanged(e,n,r)}function $ee(t,e,n){return Nt(t).beforeAuthStateChanged(e,n)}function yC(t,e,n,r){return Nt(t).onAuthStateChanged(e,n,r)}function FT(t){return Nt(t).signOut()}const zv="__sak";class Mz{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(zv,"1"),this.storage.removeItem(zv),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const qee=1e3,Hee=10;class Dz extends Mz{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Nz(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,l,u)=>{this.notifyListeners(a,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);uee()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Hee):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},qee)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Dz.type="LOCAL";const Wee=Dz;class Lz extends Mz{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Lz.type="SESSION";const Vz=Lz;function Kee(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class _x{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new _x(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,a=this.handlersMap[i];if(!a?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(a).map(async d=>d(n.origin,s)),u=await Kee(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_x.receivers=[];function vC(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class Gee{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((l,u)=>{const d=vC("",20);i.port1.start();const f=setTimeout(()=>{u(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(m){const y=m;if(y.data.eventId===d)switch(y.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(y.data.response);break;default:clearTimeout(f),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}function ka(){return window}function Yee(t){ka().location.href=t}function Uz(){return typeof ka().WorkerGlobalScope<"u"&&typeof ka().importScripts=="function"}async function Xee(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Qee(){return navigator?.serviceWorker?.controller||null}function Zee(){return Uz()?self:null}const zz="firebaseLocalStorageDb",Jee=1,Bv="firebaseLocalStorage",Bz="fbase_key";class ug{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ex(t,e){return t.transaction([Bv],e?"readwrite":"readonly").objectStore(Bv)}function ete(){const t=indexedDB.deleteDatabase(zz);return new ug(t).toPromise()}function $T(){const t=indexedDB.open(zz,Jee);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Bv,{keyPath:Bz})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Bv)?e(r):(r.close(),await ete(),e(await $T()))})})}async function iM(t,e,n){const r=Ex(t,!0).put({[Bz]:e,value:n});return new ug(r).toPromise()}async function tte(t,e){const n=Ex(t,!1).get(e),r=await new ug(n).toPromise();return r===void 0?null:r.value}function sM(t,e){const n=Ex(t,!0).delete(e);return new ug(n).toPromise()}const nte=800,rte=3;class Fz{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await $T(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>rte)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Uz()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_x._getInstance(Zee()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Xee(),!this.activeServiceWorker)return;this.sender=new Gee(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Qee()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await $T();return await iM(e,zv,"1"),await sM(e,zv),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>iM(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>tte(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>sM(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Ex(i,!1).getAll();return new ug(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),nte)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Fz.type="LOCAL";const ite=Fz;new og(3e4,6e4);function $z(t,e){return e?Ao(e):(Be(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class bC extends mC{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return bf(e,this._buildIdpRequest())}_linkToIdToken(e,n){return bf(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return bf(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function ste(t){return Rz(t.auth,new bC(t),t.bypassAuthState)}function ate(t){const{auth:e,user:n}=t;return Be(n,e,"internal-error"),Vee(n,new bC(t),t.bypassAuthState)}async function ote(t){const{auth:e,user:n}=t;return Be(n,e,"internal-error"),Lee(n,new bC(t),t.bypassAuthState)}class qz{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:a,type:l}=e;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ste;case"linkViaPopup":case"linkViaRedirect":return ote;case"reauthViaPopup":case"reauthViaRedirect":return ate;default:Es(this.auth,"internal-error")}}resolve(e){Vo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Vo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const lte=new og(2e3,1e4);async function cte(t,e,n){if(ei(t.app))return Promise.reject(Gs(t,"operation-not-supported-in-this-environment"));const r=Tc(t);qJ(t,e,gC);const i=$z(r,n);return new bu(r,"signInViaPopup",e,i).executeNotNull()}class bu extends qz{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,bu.currentPopupAction&&bu.currentPopupAction.cancel(),bu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Be(e,this.auth,"internal-error"),e}async onExecution(){Vo(this.filter.length===1,"Popup operations only handle one event");const e=vC();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Gs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Gs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,bu.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Gs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,lte.get())};e()}}bu.currentPopupAction=null;const ute="pendingRedirect",hv=new Map;class dte extends qz{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=hv.get(this.auth._key());if(!e){try{const r=await fte(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}hv.set(this.auth._key(),e)}return this.bypassAuthState||hv.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function fte(t,e){const n=pte(e),r=mte(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function hte(t,e){hv.set(t._key(),e)}function mte(t){return Ao(t._redirectPersistence)}function pte(t){return fv(ute,t.config.apiKey,t.name)}async function gte(t,e,n=!1){if(ei(t.app))return Promise.reject(Oo(t));const r=Tc(t),i=$z(r,e),a=await new dte(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}const yte=600*1e3;class vte{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!bte(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!Hz(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Gs(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=yte&&this.cachedEventUids.clear(),this.cachedEventUids.has(aM(e))}saveEventToCache(e){this.cachedEventUids.add(aM(e)),this.lastProcessedEventTime=Date.now()}}function aM(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Hz({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function bte(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Hz(t);default:return!1}}async function xte(t,e={}){return Sc(t,"GET","/v1/projects",e)}const wte=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_te=/^https?/;async function Ete(t){if(t.config.emulator)return;const{authorizedDomains:e}=await xte(t);for(const n of e)try{if(Ste(n))return}catch{}Es(t,"unauthorized-domain")}function Ste(t){const e=UT(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!_te.test(n))return!1;if(wte.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Tte=new og(3e4,6e4);function oM(){const t=ka().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Ate(t){return new Promise((e,n)=>{function r(){oM(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{oM(),n(Gs(t,"network-request-failed"))},timeout:Tte.get()})}if(ka().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ka().gapi?.load)r();else{const i=bee("iframefcb");return ka()[i]=()=>{gapi.load?r():n(Gs(t,"network-request-failed"))},Pz(`${vee()}?onload=${i}`).catch(s=>n(s))}}).catch(e=>{throw mv=null,e})}let mv=null;function Nte(t){return mv=mv||Ate(t),mv}const Cte=new og(5e3,15e3),Pte="__/auth/iframe",Ite="emulator/auth/iframe",Ote={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jte=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Rte(t){const e=t.config;Be(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?dC(e,Ite):`https://${t.config.authDomain}/${Pte}`,r={apiKey:e.apiKey,appName:t.name,v:td},i=jte.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${sg(r).slice(1)}`}async function kte(t){const e=await Nte(t),n=ka().gapi;return Be(n,t,"internal-error"),e.open({where:document.body,url:Rte(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ote,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=Gs(t,"network-request-failed"),l=ka().setTimeout(()=>{s(a)},Cte.get());function u(){ka().clearTimeout(l),i(r)}r.ping(u).then(u,()=>{s(a)})}))}const Mte={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Dte=500,Lte=600,Vte="_blank",Ute="http://localhost";class lM{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function zte(t,e,n,r=Dte,i=Lte){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const u={...Mte,width:r.toString(),height:i.toString(),top:s,left:a},d=Gr().toLowerCase();n&&(l=_z(d)?Vte:n),xz(d)&&(e=e||Ute,u.scrollbars="yes");const f=Object.entries(u).reduce((y,[v,_])=>`${y}${v}=${_},`,"");if(cee(d)&&l!=="_self")return Bte(e||"",l),new lM(null);const m=window.open(e||"",l,f);Be(m,t,"popup-blocked");try{m.focus()}catch{}return new lM(m)}function Bte(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const Fte="__/auth/handler",$te="emulator/auth/handler",qte=encodeURIComponent("fac");async function cM(t,e,n,r,i,s){Be(t.config.authDomain,t,"auth-domain-config-required"),Be(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:td,eventId:i};if(e instanceof gC){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",NZ(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,m]of Object.entries({}))a[f]=m}if(e instanceof cg){const f=e.getScopes().filter(m=>m!=="");f.length>0&&(a.scopes=f.join(","))}t.tenantId&&(a.tid=t.tenantId);const l=a;for(const f of Object.keys(l))l[f]===void 0&&delete l[f];const u=await t._getAppCheckToken(),d=u?`#${qte}=${encodeURIComponent(u)}`:"";return`${Hte(t)}?${sg(l).slice(1)}${d}`}function Hte({config:t}){return t.emulator?dC(t,$te):`https://${t.authDomain}/${Fte}`}const lE="webStorageSupport";class Wte{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Vz,this._completeRedirectFn=gte,this._overrideRedirectResult=hte}async _openPopup(e,n,r,i){Vo(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const s=await cM(e,n,r,UT(),i);return zte(e,s,vC())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await cM(e,n,r,UT(),i);return Yee(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Vo(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await kte(e),r=new vte(e);return n.register("authEvent",i=>(Be(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(lE,{type:lE},i=>{const s=i?.[0]?.[lE];s!==void 0&&n(!!s),Es(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Ete(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Nz()||wz()||hC()}}const Kte=Wte;var uM="@firebase/auth",dM="1.11.1";class Gte{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Yte(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Xte(t){Qi(new Pi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=r.options;Be(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Cz(t)},d=new pee(r,i,s,u);return Tee(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Qi(new Pi("auth-internal",e=>{const n=Tc(e.getProvider("auth").getImmediate());return(r=>new Gte(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),vr(uM,dM,Yte(t)),vr(uM,dM,"esm2020")}const Qte=300,Zte=rz("authIdTokenMaxAge")||Qte;let fM=null;const Jte=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Zte)return;const i=n?.token;fM!==i&&(fM=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function ene(t=eh()){const e=Ga(t,"auth");if(e.isInitialized())return e.getImmediate();const n=See(t,{popupRedirectResolver:Kte,persistence:[ite,Wee,Vz]}),r=rz("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const a=Jte(s.toString());$ee(n,a,()=>a(n.currentUser)),Fee(n,l=>a(l))}}const i=tz("auth");return i&&Aee(n,`http://${i}`),n}function tne(){return document.getElementsByTagName("head")?.[0]??document}gee({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Gs("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",tne().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Xte("Browser");var nne="firebase",rne="12.6.0";vr(nne,rne,"app");var hM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ec,Wz;(function(){var t;function e(j,R){function D(){}D.prototype=R.prototype,j.F=R.prototype,j.prototype=new D,j.prototype.constructor=j,j.D=function(B,V,$){for(var q=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)q[xe-2]=arguments[xe];return R.prototype[V].apply(B,q)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(j,R,D){D||(D=0);const B=Array(16);if(typeof R=="string")for(var V=0;V<16;++V)B[V]=R.charCodeAt(D++)|R.charCodeAt(D++)<<8|R.charCodeAt(D++)<<16|R.charCodeAt(D++)<<24;else for(V=0;V<16;++V)B[V]=R[D++]|R[D++]<<8|R[D++]<<16|R[D++]<<24;R=j.g[0],D=j.g[1],V=j.g[2];let $=j.g[3],q;q=R+($^D&(V^$))+B[0]+3614090360&4294967295,R=D+(q<<7&4294967295|q>>>25),q=$+(V^R&(D^V))+B[1]+3905402710&4294967295,$=R+(q<<12&4294967295|q>>>20),q=V+(D^$&(R^D))+B[2]+606105819&4294967295,V=$+(q<<17&4294967295|q>>>15),q=D+(R^V&($^R))+B[3]+3250441966&4294967295,D=V+(q<<22&4294967295|q>>>10),q=R+($^D&(V^$))+B[4]+4118548399&4294967295,R=D+(q<<7&4294967295|q>>>25),q=$+(V^R&(D^V))+B[5]+1200080426&4294967295,$=R+(q<<12&4294967295|q>>>20),q=V+(D^$&(R^D))+B[6]+2821735955&4294967295,V=$+(q<<17&4294967295|q>>>15),q=D+(R^V&($^R))+B[7]+4249261313&4294967295,D=V+(q<<22&4294967295|q>>>10),q=R+($^D&(V^$))+B[8]+1770035416&4294967295,R=D+(q<<7&4294967295|q>>>25),q=$+(V^R&(D^V))+B[9]+2336552879&4294967295,$=R+(q<<12&4294967295|q>>>20),q=V+(D^$&(R^D))+B[10]+4294925233&4294967295,V=$+(q<<17&4294967295|q>>>15),q=D+(R^V&($^R))+B[11]+2304563134&4294967295,D=V+(q<<22&4294967295|q>>>10),q=R+($^D&(V^$))+B[12]+1804603682&4294967295,R=D+(q<<7&4294967295|q>>>25),q=$+(V^R&(D^V))+B[13]+4254626195&4294967295,$=R+(q<<12&4294967295|q>>>20),q=V+(D^$&(R^D))+B[14]+2792965006&4294967295,V=$+(q<<17&4294967295|q>>>15),q=D+(R^V&($^R))+B[15]+1236535329&4294967295,D=V+(q<<22&4294967295|q>>>10),q=R+(V^$&(D^V))+B[1]+4129170786&4294967295,R=D+(q<<5&4294967295|q>>>27),q=$+(D^V&(R^D))+B[6]+3225465664&4294967295,$=R+(q<<9&4294967295|q>>>23),q=V+(R^D&($^R))+B[11]+643717713&4294967295,V=$+(q<<14&4294967295|q>>>18),q=D+($^R&(V^$))+B[0]+3921069994&4294967295,D=V+(q<<20&4294967295|q>>>12),q=R+(V^$&(D^V))+B[5]+3593408605&4294967295,R=D+(q<<5&4294967295|q>>>27),q=$+(D^V&(R^D))+B[10]+38016083&4294967295,$=R+(q<<9&4294967295|q>>>23),q=V+(R^D&($^R))+B[15]+3634488961&4294967295,V=$+(q<<14&4294967295|q>>>18),q=D+($^R&(V^$))+B[4]+3889429448&4294967295,D=V+(q<<20&4294967295|q>>>12),q=R+(V^$&(D^V))+B[9]+568446438&4294967295,R=D+(q<<5&4294967295|q>>>27),q=$+(D^V&(R^D))+B[14]+3275163606&4294967295,$=R+(q<<9&4294967295|q>>>23),q=V+(R^D&($^R))+B[3]+4107603335&4294967295,V=$+(q<<14&4294967295|q>>>18),q=D+($^R&(V^$))+B[8]+1163531501&4294967295,D=V+(q<<20&4294967295|q>>>12),q=R+(V^$&(D^V))+B[13]+2850285829&4294967295,R=D+(q<<5&4294967295|q>>>27),q=$+(D^V&(R^D))+B[2]+4243563512&4294967295,$=R+(q<<9&4294967295|q>>>23),q=V+(R^D&($^R))+B[7]+1735328473&4294967295,V=$+(q<<14&4294967295|q>>>18),q=D+($^R&(V^$))+B[12]+2368359562&4294967295,D=V+(q<<20&4294967295|q>>>12),q=R+(D^V^$)+B[5]+4294588738&4294967295,R=D+(q<<4&4294967295|q>>>28),q=$+(R^D^V)+B[8]+2272392833&4294967295,$=R+(q<<11&4294967295|q>>>21),q=V+($^R^D)+B[11]+1839030562&4294967295,V=$+(q<<16&4294967295|q>>>16),q=D+(V^$^R)+B[14]+4259657740&4294967295,D=V+(q<<23&4294967295|q>>>9),q=R+(D^V^$)+B[1]+2763975236&4294967295,R=D+(q<<4&4294967295|q>>>28),q=$+(R^D^V)+B[4]+1272893353&4294967295,$=R+(q<<11&4294967295|q>>>21),q=V+($^R^D)+B[7]+4139469664&4294967295,V=$+(q<<16&4294967295|q>>>16),q=D+(V^$^R)+B[10]+3200236656&4294967295,D=V+(q<<23&4294967295|q>>>9),q=R+(D^V^$)+B[13]+681279174&4294967295,R=D+(q<<4&4294967295|q>>>28),q=$+(R^D^V)+B[0]+3936430074&4294967295,$=R+(q<<11&4294967295|q>>>21),q=V+($^R^D)+B[3]+3572445317&4294967295,V=$+(q<<16&4294967295|q>>>16),q=D+(V^$^R)+B[6]+76029189&4294967295,D=V+(q<<23&4294967295|q>>>9),q=R+(D^V^$)+B[9]+3654602809&4294967295,R=D+(q<<4&4294967295|q>>>28),q=$+(R^D^V)+B[12]+3873151461&4294967295,$=R+(q<<11&4294967295|q>>>21),q=V+($^R^D)+B[15]+530742520&4294967295,V=$+(q<<16&4294967295|q>>>16),q=D+(V^$^R)+B[2]+3299628645&4294967295,D=V+(q<<23&4294967295|q>>>9),q=R+(V^(D|~$))+B[0]+4096336452&4294967295,R=D+(q<<6&4294967295|q>>>26),q=$+(D^(R|~V))+B[7]+1126891415&4294967295,$=R+(q<<10&4294967295|q>>>22),q=V+(R^($|~D))+B[14]+2878612391&4294967295,V=$+(q<<15&4294967295|q>>>17),q=D+($^(V|~R))+B[5]+4237533241&4294967295,D=V+(q<<21&4294967295|q>>>11),q=R+(V^(D|~$))+B[12]+1700485571&4294967295,R=D+(q<<6&4294967295|q>>>26),q=$+(D^(R|~V))+B[3]+2399980690&4294967295,$=R+(q<<10&4294967295|q>>>22),q=V+(R^($|~D))+B[10]+4293915773&4294967295,V=$+(q<<15&4294967295|q>>>17),q=D+($^(V|~R))+B[1]+2240044497&4294967295,D=V+(q<<21&4294967295|q>>>11),q=R+(V^(D|~$))+B[8]+1873313359&4294967295,R=D+(q<<6&4294967295|q>>>26),q=$+(D^(R|~V))+B[15]+4264355552&4294967295,$=R+(q<<10&4294967295|q>>>22),q=V+(R^($|~D))+B[6]+2734768916&4294967295,V=$+(q<<15&4294967295|q>>>17),q=D+($^(V|~R))+B[13]+1309151649&4294967295,D=V+(q<<21&4294967295|q>>>11),q=R+(V^(D|~$))+B[4]+4149444226&4294967295,R=D+(q<<6&4294967295|q>>>26),q=$+(D^(R|~V))+B[11]+3174756917&4294967295,$=R+(q<<10&4294967295|q>>>22),q=V+(R^($|~D))+B[2]+718787259&4294967295,V=$+(q<<15&4294967295|q>>>17),q=D+($^(V|~R))+B[9]+3951481745&4294967295,j.g[0]=j.g[0]+R&4294967295,j.g[1]=j.g[1]+(V+(q<<21&4294967295|q>>>11))&4294967295,j.g[2]=j.g[2]+V&4294967295,j.g[3]=j.g[3]+$&4294967295}r.prototype.v=function(j,R){R===void 0&&(R=j.length);const D=R-this.blockSize,B=this.C;let V=this.h,$=0;for(;$<R;){if(V==0)for(;$<=D;)i(this,j,$),$+=this.blockSize;if(typeof j=="string"){for(;$<R;)if(B[V++]=j.charCodeAt($++),V==this.blockSize){i(this,B),V=0;break}}else for(;$<R;)if(B[V++]=j[$++],V==this.blockSize){i(this,B),V=0;break}}this.h=V,this.o+=R},r.prototype.A=function(){var j=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);j[0]=128;for(var R=1;R<j.length-8;++R)j[R]=0;R=this.o*8;for(var D=j.length-8;D<j.length;++D)j[D]=R&255,R/=256;for(this.v(j),j=Array(16),R=0,D=0;D<4;++D)for(let B=0;B<32;B+=8)j[R++]=this.g[D]>>>B&255;return j};function s(j,R){var D=l;return Object.prototype.hasOwnProperty.call(D,j)?D[j]:D[j]=R(j)}function a(j,R){this.h=R;const D=[];let B=!0;for(let V=j.length-1;V>=0;V--){const $=j[V]|0;B&&$==R||(D[V]=$,B=!1)}this.g=D}var l={};function u(j){return-128<=j&&j<128?s(j,function(R){return new a([R|0],R<0?-1:0)}):new a([j|0],j<0?-1:0)}function d(j){if(isNaN(j)||!isFinite(j))return m;if(j<0)return w(d(-j));const R=[];let D=1;for(let B=0;j>=D;B++)R[B]=j/D|0,D*=4294967296;return new a(R,0)}function f(j,R){if(j.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(j.charAt(0)=="-")return w(f(j.substring(1),R));if(j.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=d(Math.pow(R,8));let B=m;for(let $=0;$<j.length;$+=8){var V=Math.min(8,j.length-$);const q=parseInt(j.substring($,$+V),R);V<8?(V=d(Math.pow(R,V)),B=B.j(V).add(d(q))):(B=B.j(D),B=B.add(d(q)))}return B}var m=u(0),y=u(1),v=u(16777216);t=a.prototype,t.m=function(){if(E(this))return-w(this).m();let j=0,R=1;for(let D=0;D<this.g.length;D++){const B=this.i(D);j+=(B>=0?B:4294967296+B)*R,R*=4294967296}return j},t.toString=function(j){if(j=j||10,j<2||36<j)throw Error("radix out of range: "+j);if(_(this))return"0";if(E(this))return"-"+w(this).toString(j);const R=d(Math.pow(j,6));var D=this;let B="";for(;;){const V=L(D,R).g;D=A(D,V.j(R));let $=((D.g.length>0?D.g[0]:D.h)>>>0).toString(j);if(D=V,_(D))return $+B;for(;$.length<6;)$="0"+$;B=$+B}},t.i=function(j){return j<0?0:j<this.g.length?this.g[j]:this.h};function _(j){if(j.h!=0)return!1;for(let R=0;R<j.g.length;R++)if(j.g[R]!=0)return!1;return!0}function E(j){return j.h==-1}t.l=function(j){return j=A(this,j),E(j)?-1:_(j)?0:1};function w(j){const R=j.g.length,D=[];for(let B=0;B<R;B++)D[B]=~j.g[B];return new a(D,~j.h).add(y)}t.abs=function(){return E(this)?w(this):this},t.add=function(j){const R=Math.max(this.g.length,j.g.length),D=[];let B=0;for(let V=0;V<=R;V++){let $=B+(this.i(V)&65535)+(j.i(V)&65535),q=($>>>16)+(this.i(V)>>>16)+(j.i(V)>>>16);B=q>>>16,$&=65535,q&=65535,D[V]=q<<16|$}return new a(D,D[D.length-1]&-2147483648?-1:0)};function A(j,R){return j.add(w(R))}t.j=function(j){if(_(this)||_(j))return m;if(E(this))return E(j)?w(this).j(w(j)):w(w(this).j(j));if(E(j))return w(this.j(w(j)));if(this.l(v)<0&&j.l(v)<0)return d(this.m()*j.m());const R=this.g.length+j.g.length,D=[];for(var B=0;B<2*R;B++)D[B]=0;for(B=0;B<this.g.length;B++)for(let V=0;V<j.g.length;V++){const $=this.i(B)>>>16,q=this.i(B)&65535,xe=j.i(V)>>>16,be=j.i(V)&65535;D[2*B+2*V]+=q*be,C(D,2*B+2*V),D[2*B+2*V+1]+=$*be,C(D,2*B+2*V+1),D[2*B+2*V+1]+=q*xe,C(D,2*B+2*V+1),D[2*B+2*V+2]+=$*xe,C(D,2*B+2*V+2)}for(j=0;j<R;j++)D[j]=D[2*j+1]<<16|D[2*j];for(j=R;j<2*R;j++)D[j]=0;return new a(D,0)};function C(j,R){for(;(j[R]&65535)!=j[R];)j[R+1]+=j[R]>>>16,j[R]&=65535,R++}function P(j,R){this.g=j,this.h=R}function L(j,R){if(_(R))throw Error("division by zero");if(_(j))return new P(m,m);if(E(j))return R=L(w(j),R),new P(w(R.g),w(R.h));if(E(R))return R=L(j,w(R)),new P(w(R.g),R.h);if(j.g.length>30){if(E(j)||E(R))throw Error("slowDivide_ only works with positive integers.");for(var D=y,B=R;B.l(j)<=0;)D=M(D),B=M(B);var V=z(D,1),$=z(B,1);for(B=z(B,2),D=z(D,2);!_(B);){var q=$.add(B);q.l(j)<=0&&(V=V.add(D),$=q),B=z(B,1),D=z(D,1)}return R=A(j,V.j(R)),new P(V,R)}for(V=m;j.l(R)>=0;){for(D=Math.max(1,Math.floor(j.m()/R.m())),B=Math.ceil(Math.log(D)/Math.LN2),B=B<=48?1:Math.pow(2,B-48),$=d(D),q=$.j(R);E(q)||q.l(j)>0;)D-=B,$=d(D),q=$.j(R);_($)&&($=y),V=V.add($),j=A(j,q)}return new P(V,j)}t.B=function(j){return L(this,j).h},t.and=function(j){const R=Math.max(this.g.length,j.g.length),D=[];for(let B=0;B<R;B++)D[B]=this.i(B)&j.i(B);return new a(D,this.h&j.h)},t.or=function(j){const R=Math.max(this.g.length,j.g.length),D=[];for(let B=0;B<R;B++)D[B]=this.i(B)|j.i(B);return new a(D,this.h|j.h)},t.xor=function(j){const R=Math.max(this.g.length,j.g.length),D=[];for(let B=0;B<R;B++)D[B]=this.i(B)^j.i(B);return new a(D,this.h^j.h)};function M(j){const R=j.g.length+1,D=[];for(let B=0;B<R;B++)D[B]=j.i(B)<<1|j.i(B-1)>>>31;return new a(D,j.h)}function z(j,R){const D=R>>5;R%=32;const B=j.g.length-D,V=[];for(let $=0;$<B;$++)V[$]=R>0?j.i($+D)>>>R|j.i($+D+1)<<32-R:j.i($+D);return new a(V,j.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Wz=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=d,a.fromString=f,ec=a}).apply(typeof hM<"u"?hM:typeof self<"u"?self:typeof window<"u"?window:{});var wy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Kz,Fm,Gz,pv,qT,Yz,Xz,Qz;(function(){var t,e=Object.defineProperty;function n(b){b=[typeof globalThis=="object"&&globalThis,b,typeof window=="object"&&window,typeof self=="object"&&self,typeof wy=="object"&&wy];for(var N=0;N<b.length;++N){var O=b[N];if(O&&O.Math==Math)return O}throw Error("Cannot find global object")}var r=n(this);function i(b,N){if(N)e:{var O=r;b=b.split(".");for(var F=0;F<b.length-1;F++){var J=b[F];if(!(J in O))break e;O=O[J]}b=b[b.length-1],F=O[b],N=N(F),N!=F&&N!=null&&e(O,b,{configurable:!0,writable:!0,value:N})}}i("Symbol.dispose",function(b){return b||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(b){return b||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(b){return b||function(N){var O=[],F;for(F in N)Object.prototype.hasOwnProperty.call(N,F)&&O.push([F,N[F]]);return O}});var s=s||{},a=this||self;function l(b){var N=typeof b;return N=="object"&&b!=null||N=="function"}function u(b,N,O){return b.call.apply(b.bind,arguments)}function d(b,N,O){return d=u,d.apply(null,arguments)}function f(b,N){var O=Array.prototype.slice.call(arguments,1);return function(){var F=O.slice();return F.push.apply(F,arguments),b.apply(this,F)}}function m(b,N){function O(){}O.prototype=N.prototype,b.Z=N.prototype,b.prototype=new O,b.prototype.constructor=b,b.Ob=function(F,J,ae){for(var we=Array(arguments.length-2),Xe=2;Xe<arguments.length;Xe++)we[Xe-2]=arguments[Xe];return N.prototype[J].apply(F,we)}}var y=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?b=>b&&AsyncContext.Snapshot.wrap(b):b=>b;function v(b){const N=b.length;if(N>0){const O=Array(N);for(let F=0;F<N;F++)O[F]=b[F];return O}return[]}function _(b,N){for(let F=1;F<arguments.length;F++){const J=arguments[F];var O=typeof J;if(O=O!="object"?O:J?Array.isArray(J)?"array":O:"null",O=="array"||O=="object"&&typeof J.length=="number"){O=b.length||0;const ae=J.length||0;b.length=O+ae;for(let we=0;we<ae;we++)b[O+we]=J[we]}else b.push(J)}}class E{constructor(N,O){this.i=N,this.j=O,this.h=0,this.g=null}get(){let N;return this.h>0?(this.h--,N=this.g,this.g=N.next,N.next=null):N=this.i(),N}}function w(b){a.setTimeout(()=>{throw b},0)}function A(){var b=j;let N=null;return b.g&&(N=b.g,b.g=b.g.next,b.g||(b.h=null),N.next=null),N}class C{constructor(){this.h=this.g=null}add(N,O){const F=P.get();F.set(N,O),this.h?this.h.next=F:this.g=F,this.h=F}}var P=new E(()=>new L,b=>b.reset());class L{constructor(){this.next=this.g=this.h=null}set(N,O){this.h=N,this.g=O,this.next=null}reset(){this.next=this.g=this.h=null}}let M,z=!1,j=new C,R=()=>{const b=Promise.resolve(void 0);M=()=>{b.then(D)}};function D(){for(var b;b=A();){try{b.h.call(b.g)}catch(O){w(O)}var N=P;N.j(b),N.h<100&&(N.h++,b.next=N.g,N.g=b)}z=!1}function B(){this.u=this.u,this.C=this.C}B.prototype.u=!1,B.prototype.dispose=function(){this.u||(this.u=!0,this.N())},B.prototype[Symbol.dispose]=function(){this.dispose()},B.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(b,N){this.type=b,this.g=this.target=N,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var $=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var b=!1,N=Object.defineProperty({},"passive",{get:function(){b=!0}});try{const O=()=>{};a.addEventListener("test",O,N),a.removeEventListener("test",O,N)}catch{}return b})();function q(b){return/^[\s\xa0]*$/.test(b)}function xe(b,N){V.call(this,b?b.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,b&&this.init(b,N)}m(xe,V),xe.prototype.init=function(b,N){const O=this.type=b.type,F=b.changedTouches&&b.changedTouches.length?b.changedTouches[0]:null;this.target=b.target||b.srcElement,this.g=N,N=b.relatedTarget,N||(O=="mouseover"?N=b.fromElement:O=="mouseout"&&(N=b.toElement)),this.relatedTarget=N,F?(this.clientX=F.clientX!==void 0?F.clientX:F.pageX,this.clientY=F.clientY!==void 0?F.clientY:F.pageY,this.screenX=F.screenX||0,this.screenY=F.screenY||0):(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0),this.button=b.button,this.key=b.key||"",this.ctrlKey=b.ctrlKey,this.altKey=b.altKey,this.shiftKey=b.shiftKey,this.metaKey=b.metaKey,this.pointerId=b.pointerId||0,this.pointerType=b.pointerType,this.state=b.state,this.i=b,b.defaultPrevented&&xe.Z.h.call(this)},xe.prototype.h=function(){xe.Z.h.call(this);const b=this.i;b.preventDefault?b.preventDefault():b.returnValue=!1};var be="closure_listenable_"+(Math.random()*1e6|0),X=0;function ee(b,N,O,F,J){this.listener=b,this.proxy=null,this.src=N,this.type=O,this.capture=!!F,this.ha=J,this.key=++X,this.da=this.fa=!1}function he(b){b.da=!0,b.listener=null,b.proxy=null,b.src=null,b.ha=null}function Y(b,N,O){for(const F in b)N.call(O,b[F],F,b)}function H(b,N){for(const O in b)N.call(void 0,b[O],O,b)}function k(b){const N={};for(const O in b)N[O]=b[O];return N}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function re(b,N){let O,F;for(let J=1;J<arguments.length;J++){F=arguments[J];for(O in F)b[O]=F[O];for(let ae=0;ae<K.length;ae++)O=K[ae],Object.prototype.hasOwnProperty.call(F,O)&&(b[O]=F[O])}}function ce(b){this.src=b,this.g={},this.h=0}ce.prototype.add=function(b,N,O,F,J){const ae=b.toString();b=this.g[ae],b||(b=this.g[ae]=[],this.h++);const we=ye(b,N,F,J);return we>-1?(N=b[we],O||(N.fa=!1)):(N=new ee(N,this.src,ae,!!F,J),N.fa=O,b.push(N)),N};function se(b,N){const O=N.type;if(O in b.g){var F=b.g[O],J=Array.prototype.indexOf.call(F,N,void 0),ae;(ae=J>=0)&&Array.prototype.splice.call(F,J,1),ae&&(he(N),b.g[O].length==0&&(delete b.g[O],b.h--))}}function ye(b,N,O,F){for(let J=0;J<b.length;++J){const ae=b[J];if(!ae.da&&ae.listener==N&&ae.capture==!!O&&ae.ha==F)return J}return-1}var de="closure_lm_"+(Math.random()*1e6|0),Se={};function Z(b,N,O,F,J){if(Array.isArray(N)){for(let ae=0;ae<N.length;ae++)Z(b,N[ae],O,F,J);return null}return O=Gt(O),b&&b[be]?b.J(N,O,l(F)?!!F.capture:!1,J):Ee(b,N,O,!1,F,J)}function Ee(b,N,O,F,J,ae){if(!N)throw Error("Invalid event type");const we=l(J)?!!J.capture:!!J;let Xe=ze(b);if(Xe||(b[de]=Xe=new ce(b)),O=Xe.add(N,O,F,we,ae),O.proxy)return O;if(F=Ae(),O.proxy=F,F.src=b,F.listener=O,b.addEventListener)$||(J=we),J===void 0&&(J=!1),b.addEventListener(N.toString(),F,J);else if(b.attachEvent)b.attachEvent(_e(N.toString()),F);else if(b.addListener&&b.removeListener)b.addListener(F);else throw Error("addEventListener and attachEvent are unavailable.");return O}function Ae(){function b(O){return N.call(b.src,b.listener,O)}const N=Me;return b}function fe(b,N,O,F,J){if(Array.isArray(N))for(var ae=0;ae<N.length;ae++)fe(b,N[ae],O,F,J);else F=l(F)?!!F.capture:!!F,O=Gt(O),b&&b[be]?(b=b.i,ae=String(N).toString(),ae in b.g&&(N=b.g[ae],O=ye(N,O,F,J),O>-1&&(he(N[O]),Array.prototype.splice.call(N,O,1),N.length==0&&(delete b.g[ae],b.h--)))):b&&(b=ze(b))&&(N=b.g[N.toString()],b=-1,N&&(b=ye(N,O,F,J)),(O=b>-1?N[b]:null)&&Ke(O))}function Ke(b){if(typeof b!="number"&&b&&!b.da){var N=b.src;if(N&&N[be])se(N.i,b);else{var O=b.type,F=b.proxy;N.removeEventListener?N.removeEventListener(O,F,b.capture):N.detachEvent?N.detachEvent(_e(O),F):N.addListener&&N.removeListener&&N.removeListener(F),(O=ze(N))?(se(O,b),O.h==0&&(O.src=null,N[de]=null)):he(b)}}}function _e(b){return b in Se?Se[b]:Se[b]="on"+b}function Me(b,N){if(b.da)b=!0;else{N=new xe(N,this);const O=b.listener,F=b.ha||b.src;b.fa&&Ke(b),b=O.call(F,N)}return b}function ze(b){return b=b[de],b instanceof ce?b:null}var it="__closure_events_fn_"+(Math.random()*1e9>>>0);function Gt(b){return typeof b=="function"?b:(b[it]||(b[it]=function(N){return b.handleEvent(N)}),b[it])}function xt(){B.call(this),this.i=new ce(this),this.M=this,this.G=null}m(xt,B),xt.prototype[be]=!0,xt.prototype.removeEventListener=function(b,N,O,F){fe(this,b,N,O,F)};function pt(b,N){var O,F=b.G;if(F)for(O=[];F;F=F.G)O.push(F);if(b=b.M,F=N.type||N,typeof N=="string")N=new V(N,b);else if(N instanceof V)N.target=N.target||b;else{var J=N;N=new V(F,b),re(N,J)}J=!0;let ae,we;if(O)for(we=O.length-1;we>=0;we--)ae=N.g=O[we],J=Kn(ae,F,!0,N)&&J;if(ae=N.g=b,J=Kn(ae,F,!0,N)&&J,J=Kn(ae,F,!1,N)&&J,O)for(we=0;we<O.length;we++)ae=N.g=O[we],J=Kn(ae,F,!1,N)&&J}xt.prototype.N=function(){if(xt.Z.N.call(this),this.i){var b=this.i;for(const N in b.g){const O=b.g[N];for(let F=0;F<O.length;F++)he(O[F]);delete b.g[N],b.h--}}this.G=null},xt.prototype.J=function(b,N,O,F){return this.i.add(String(b),N,!1,O,F)},xt.prototype.K=function(b,N,O,F){return this.i.add(String(b),N,!0,O,F)};function Kn(b,N,O,F){if(N=b.i.g[String(N)],!N)return!0;N=N.concat();let J=!0;for(let ae=0;ae<N.length;++ae){const we=N[ae];if(we&&!we.da&&we.capture==O){const Xe=we.listener,Tn=we.ha||we.src;we.fa&&se(b.i,we),J=Xe.call(Tn,F)!==!1&&J}}return J&&!F.defaultPrevented}function Le(b,N){if(typeof b!="function")if(b&&typeof b.handleEvent=="function")b=d(b.handleEvent,b);else throw Error("Invalid listener argument");return Number(N)>2147483647?-1:a.setTimeout(b,N||0)}function ke(b){b.g=Le(()=>{b.g=null,b.i&&(b.i=!1,ke(b))},b.l);const N=b.h;b.h=null,b.m.apply(null,N)}class Ie extends B{constructor(N,O){super(),this.m=N,this.l=O,this.h=null,this.i=!1,this.g=null}j(N){this.h=arguments,this.g?this.i=!0:ke(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function et(b){B.call(this),this.h=b,this.g={}}m(et,B);var Ze=[];function Ct(b){Y(b.g,function(N,O){this.g.hasOwnProperty(O)&&Ke(N)},b),b.g={}}et.prototype.N=function(){et.Z.N.call(this),Ct(this)},et.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ct=a.JSON.stringify,Pt=a.JSON.parse,It=class{stringify(b){return a.JSON.stringify(b,void 0)}parse(b){return a.JSON.parse(b,void 0)}};function Dr(){}function fi(){}var ar={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function tn(){V.call(this,"d")}m(tn,V);function En(){V.call(this,"c")}m(En,V);var dt={},Lr=null;function Sn(){return Lr=Lr||new xt}dt.Ia="serverreachability";function sl(b){V.call(this,dt.Ia,b)}m(sl,V);function ft(b){const N=Sn();pt(N,new sl(N))}dt.STAT_EVENT="statevent";function Gn(b,N){V.call(this,dt.STAT_EVENT,b),this.stat=N}m(Gn,V);function $t(b){const N=Sn();pt(N,new Gn(N,b))}dt.Ja="timingevent";function or(b,N){V.call(this,dt.Ja,b),this.size=N}m(or,V);function Vr(b,N){if(typeof b!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){b()},N)}function lr(){this.g=!0}lr.prototype.ua=function(){this.g=!1};function Zw(b,N,O,F,J,ae){b.info(function(){if(b.g)if(ae){var we="",Xe=ae.split("&");for(let wt=0;wt<Xe.length;wt++){var Tn=Xe[wt].split("=");if(Tn.length>1){const nn=Tn[0];Tn=Tn[1];const rs=nn.split("_");we=rs.length>=2&&rs[1]=="type"?we+(nn+"="+Tn+"&"):we+(nn+"=redacted&")}}}else we=null;else we=ae;return"XMLHTTP REQ ("+F+") [attempt "+J+"]: "+N+`
`+O+`
`+we})}function Xg(b,N,O,F,J,ae,we){b.info(function(){return"XMLHTTP RESP ("+F+") [ attempt "+J+"]: "+N+`
`+O+`
`+ae+" "+we})}function la(b,N,O,F){b.info(function(){return"XMLHTTP TEXT ("+N+"): "+Jw(b,O)+(F?" "+F:"")})}function kc(b,N){b.info(function(){return"TIMEOUT: "+N})}lr.prototype.info=function(){};function Jw(b,N){if(!b.g)return N;if(!N)return null;try{const ae=JSON.parse(N);if(ae){for(b=0;b<ae.length;b++)if(Array.isArray(ae[b])){var O=ae[b];if(!(O.length<2)){var F=O[1];if(Array.isArray(F)&&!(F.length<1)){var J=F[0];if(J!="noop"&&J!="stop"&&J!="close")for(let we=1;we<F.length;we++)F[we]=""}}}}return ct(ae)}catch{return N}}var Mc={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Eh={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Sh;function Dc(){}m(Dc,Dr),Dc.prototype.g=function(){return new XMLHttpRequest},Sh=new Dc;function Qa(b){return encodeURIComponent(String(b))}function Qg(b){var N=1;b=b.split(":");const O=[];for(;N>0&&b.length;)O.push(b.shift()),N--;return b.length&&O.push(b.join(":")),O}function Os(b,N,O,F){this.j=b,this.i=N,this.l=O,this.S=F||1,this.V=new et(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new js}function js(){this.i=null,this.g="",this.h=!1}var Rn={},cr={};function ca(b,N,O){b.M=1,b.A=Lc(Mn(N)),b.u=O,b.R=!0,ld(b,null)}function ld(b,N){b.F=Date.now(),ua(b),b.B=Mn(b.A);var O=b.B,F=b.S;Array.isArray(F)||(F=[String(F)]),fd(O.i,"t",F),b.C=0,O=b.j.L,b.h=new js,b.g=f0(b.j,O?N:null,!b.u),b.P>0&&(b.O=new Ie(d(b.Y,b,b.g),b.P)),N=b.V,O=b.g,F=b.ba;var J="readystatechange";Array.isArray(J)||(J&&(Ze[0]=J.toString()),J=Ze);for(let ae=0;ae<J.length;ae++){const we=Z(O,J[ae],F||N.handleEvent,!1,N.h||N);if(!we)break;N.g[we.key]=we}N=b.J?k(b.J):{},b.u?(b.v||(b.v="POST"),N["Content-Type"]="application/x-www-form-urlencoded",b.g.ea(b.B,b.v,b.u,N)):(b.v="GET",b.g.ea(b.B,b.v,null,N)),ft(),Zw(b.i,b.v,b.B,b.l,b.S,b.u)}Os.prototype.ba=function(b){b=b.target;const N=this.O;N&&Ms(b)==3?N.j():this.Y(b)},Os.prototype.Y=function(b){try{if(b==this.g)e:{const Xe=Ms(this.g),Tn=this.g.ya(),wt=this.g.ca();if(!(Xe<3)&&(Xe!=3||this.g&&(this.h.h||this.g.la()||Er(this.g)))){this.K||Xe!=4||Tn==7||(Tn==8||wt<=0?ft(3):ft(2)),da(this);var N=this.g.ca();this.X=N;var O=e_(this);if(this.o=N==200,Xg(this.i,this.v,this.B,this.l,this.S,Xe,N),this.o){if(this.U&&!this.L){t:{if(this.g){var F,J=this.g;if((F=J.g?J.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q(F)){var ae=F;break t}}ae=null}if(b=ae)la(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,fa(this,b);else{this.o=!1,this.m=3,$t(12),Oi(this),es(this);break e}}if(this.R){b=!0;let nn;for(;!this.K&&this.C<O.length;)if(nn=Jg(this,O),nn==cr){Xe==4&&(this.m=4,$t(14),b=!1),la(this.i,this.l,null,"[Incomplete Response]");break}else if(nn==Rn){this.m=4,$t(15),la(this.i,this.l,O,"[Invalid Chunk]"),b=!1;break}else la(this.i,this.l,nn,null),fa(this,nn);if(Zg(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Xe!=4||O.length!=0||this.h.h||(this.m=1,$t(16),b=!1),this.o=this.o&&b,!b)la(this.i,this.l,O,"[Invalid Chunked Response]"),Oi(this),es(this);else if(O.length>0&&!this.W){this.W=!0;var we=this.j;we.g==this&&we.aa&&!we.P&&(we.j.info("Great, no buffering proxy detected. Bytes received: "+O.length),Uh(we),we.P=!0,$t(11))}}else la(this.i,this.l,O,null),fa(this,O);Xe==4&&Oi(this),this.o&&!this.K&&(Xe==4?l0(this.j,this):(this.o=!1,ua(this)))}else Ja(this.g),N==400&&O.indexOf("Unknown SID")>0?(this.m=3,$t(12)):(this.m=0,$t(13)),Oi(this),es(this)}}}catch{}finally{}};function e_(b){if(!Zg(b))return b.g.la();const N=Er(b.g);if(N==="")return"";let O="";const F=N.length,J=Ms(b.g)==4;if(!b.h.i){if(typeof TextDecoder>"u")return Oi(b),es(b),"";b.h.i=new a.TextDecoder}for(let ae=0;ae<F;ae++)b.h.h=!0,O+=b.h.i.decode(N[ae],{stream:!(J&&ae==F-1)});return N.length=0,b.h.g+=O,b.C=0,b.h.g}function Zg(b){return b.g?b.v=="GET"&&b.M!=2&&b.j.Aa:!1}function Jg(b,N){var O=b.C,F=N.indexOf(`
`,O);return F==-1?cr:(O=Number(N.substring(O,F)),isNaN(O)?Rn:(F+=1,F+O>N.length?cr:(N=N.slice(F,F+O),b.C=F+O,N)))}Os.prototype.cancel=function(){this.K=!0,Oi(this)};function ua(b){b.T=Date.now()+b.H,cd(b,b.H)}function cd(b,N){if(b.D!=null)throw Error("WatchDog timer not null");b.D=Vr(d(b.aa,b),N)}function da(b){b.D&&(a.clearTimeout(b.D),b.D=null)}Os.prototype.aa=function(){this.D=null;const b=Date.now();b-this.T>=0?(kc(this.i,this.B),this.M!=2&&(ft(),$t(17)),Oi(this),this.m=2,es(this)):cd(this,this.T-b)};function es(b){b.j.I==0||b.K||l0(b.j,b)}function Oi(b){da(b);var N=b.O;N&&typeof N.dispose=="function"&&N.dispose(),b.O=null,Ct(b.V),b.g&&(N=b.g,b.g=null,N.abort(),N.dispose())}function fa(b,N){try{var O=b.j;if(O.I!=0&&(O.g==b||ma(O.h,b))){if(!b.L&&ma(O.h,b)&&O.I==3){try{var F=O.Ba.g.parse(N)}catch{F=null}if(Array.isArray(F)&&F.length==3){var J=F;if(J[0]==0){e:if(!O.v){if(O.g)if(O.g.F+3e3<b.F)yd(O),hl(O);else break e;qc(O),$t(18)}}else O.xa=J[1],0<O.xa-O.K&&J[2]<37500&&O.F&&O.A==0&&!O.C&&(O.C=Vr(d(O.Va,O),6e3));ha(O.h)<=1&&O.ta&&(O.ta=void 0)}else xa(O,11)}else if((b.L||O.g==b)&&yd(O),!q(N))for(J=O.Ba.g.parse(N),N=0;N<J.length;N++){let wt=J[N];const nn=wt[0];if(!(nn<=O.K))if(O.K=nn,wt=wt[1],O.I==2)if(wt[0]=="c"){O.M=wt[1],O.ba=wt[2];const rs=wt[3];rs!=null&&(O.ka=rs,O.j.info("VER="+O.ka));const wa=wt[4];wa!=null&&(O.za=wa,O.j.info("SVER="+O.za));const Ds=wt[5];Ds!=null&&typeof Ds=="number"&&Ds>0&&(F=1.5*Ds,O.O=F,O.j.info("backChannelRequestTimeoutMs_="+F)),F=O;const Ls=b.g;if(Ls){const Hc=Ls.g?Ls.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Hc){var ae=F.h;ae.g||Hc.indexOf("spdy")==-1&&Hc.indexOf("quic")==-1&&Hc.indexOf("h2")==-1||(ae.j=ae.l,ae.g=new Set,ae.h&&(Nh(ae,ae.h),ae.h=null))}if(F.G){const vd=Ls.g?Ls.g.getResponseHeader("X-HTTP-Session-Id"):null;vd&&(F.wa=vd,Ot(F.J,F.G,vd))}}O.I=3,O.l&&O.l.ra(),O.aa&&(O.T=Date.now()-b.F,O.j.info("Handshake RTT: "+O.T+"ms")),F=O;var we=b;if(F.na=d0(F,F.L?F.ba:null,F.W),we.L){Ch(F.h,we);var Xe=we,Tn=F.O;Tn&&(Xe.H=Tn),Xe.D&&(da(Xe),ua(Xe)),F.g=we}else a0(F);O.i.length>0&&ba(O)}else wt[0]!="stop"&&wt[0]!="close"||xa(O,7);else O.I==3&&(wt[0]=="stop"||wt[0]=="close"?wt[0]=="stop"?xa(O,7):Lh(O):wt[0]!="noop"&&O.l&&O.l.qa(wt),O.A=0)}}ft(4)}catch{}}var kn=class{constructor(b,N){this.g=b,this.map=N}};function Th(b){this.l=b||10,a.PerformanceNavigationTiming?(b=a.performance.getEntriesByType("navigation"),b=b.length>0&&(b[0].nextHopProtocol=="hq"||b[0].nextHopProtocol=="h2")):b=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=b?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ah(b){return b.h?!0:b.g?b.g.size>=b.j:!1}function ha(b){return b.h?1:b.g?b.g.size:0}function ma(b,N){return b.h?b.h==N:b.g?b.g.has(N):!1}function Nh(b,N){b.g?b.g.add(N):b.h=N}function Ch(b,N){b.h&&b.h==N?b.h=null:b.g&&b.g.has(N)&&b.g.delete(N)}Th.prototype.cancel=function(){if(this.i=Ph(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const b of this.g.values())b.cancel();this.g.clear()}};function Ph(b){if(b.h!=null)return b.i.concat(b.h.G);if(b.g!=null&&b.g.size!==0){let N=b.i;for(const O of b.g.values())N=N.concat(O.G);return N}return v(b.i)}var e0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ud(b,N){if(b){b=b.split("&");for(let O=0;O<b.length;O++){const F=b[O].indexOf("=");let J,ae=null;F>=0?(J=b[O].substring(0,F),ae=b[O].substring(F+1)):J=b[O],N(J,ae?decodeURIComponent(ae.replace(/\+/g," ")):"")}}}function ji(b){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let N;b instanceof ji?(this.l=b.l,ur(this,b.j),this.o=b.o,this.g=b.g,al(this,b.u),this.h=b.h,Ih(this,i0(b.i)),this.m=b.m):b&&(N=String(b).match(e0))?(this.l=!1,ur(this,N[1]||"",!0),this.o=pa(N[2]||""),this.g=pa(N[3]||"",!0),al(this,N[4]),this.h=pa(N[5]||"",!0),Ih(this,N[6]||"",!0),this.m=pa(N[7]||"")):(this.l=!1,this.i=new ll(null,this.l))}ji.prototype.toString=function(){const b=[];var N=this.j;N&&b.push(Vc(N,dd,!0),":");var O=this.g;return(O||N=="file")&&(b.push("//"),(N=this.o)&&b.push(Vc(N,dd,!0),"@"),b.push(Qa(O).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),O=this.u,O!=null&&b.push(":",String(O))),(O=this.h)&&(this.g&&O.charAt(0)!="/"&&b.push("/"),b.push(Vc(O,O.charAt(0)=="/"?Oh:t0,!0))),(O=this.i.toString())&&b.push("?",O),(O=this.m)&&b.push("#",Vc(O,n0)),b.join("")},ji.prototype.resolve=function(b){const N=Mn(this);let O=!!b.j;O?ur(N,b.j):O=!!b.o,O?N.o=b.o:O=!!b.g,O?N.g=b.g:O=b.u!=null;var F=b.h;if(O)al(N,b.u);else if(O=!!b.h){if(F.charAt(0)!="/")if(this.g&&!this.h)F="/"+F;else{var J=N.h.lastIndexOf("/");J!=-1&&(F=N.h.slice(0,J+1)+F)}if(J=F,J==".."||J==".")F="";else if(J.indexOf("./")!=-1||J.indexOf("/.")!=-1){F=J.lastIndexOf("/",0)==0,J=J.split("/");const ae=[];for(let we=0;we<J.length;){const Xe=J[we++];Xe=="."?F&&we==J.length&&ae.push(""):Xe==".."?((ae.length>1||ae.length==1&&ae[0]!="")&&ae.pop(),F&&we==J.length&&ae.push("")):(ae.push(Xe),F=!0)}F=ae.join("/")}else F=J}return O?N.h=F:O=b.i.toString()!=="",O?Ih(N,i0(b.i)):O=!!b.m,O&&(N.m=b.m),N};function Mn(b){return new ji(b)}function ur(b,N,O){b.j=O?pa(N,!0):N,b.j&&(b.j=b.j.replace(/:$/,""))}function al(b,N){if(N){if(N=Number(N),isNaN(N)||N<0)throw Error("Bad port number "+N);b.u=N}else b.u=null}function Ih(b,N,O){N instanceof ll?(b.i=N,hd(b.i,b.l)):(O||(N=Vc(N,ol)),b.i=new ll(N,b.l))}function Ot(b,N,O){b.i.set(N,O)}function Lc(b){return Ot(b,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),b}function pa(b,N){return b?N?decodeURI(b.replace(/%25/g,"%2525")):decodeURIComponent(b):""}function Vc(b,N,O){return typeof b=="string"?(b=encodeURI(b).replace(N,hi),O&&(b=b.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b):null}function hi(b){return b=b.charCodeAt(0),"%"+(b>>4&15).toString(16)+(b&15).toString(16)}var dd=/[#\/\?@]/g,t0=/[#\?:]/g,Oh=/[#\?]/g,ol=/[#\?@]/g,n0=/#/g;function ll(b,N){this.h=this.g=null,this.i=b||null,this.j=!!N}function mi(b){b.g||(b.g=new Map,b.h=0,b.i&&ud(b.i,function(N,O){b.add(decodeURIComponent(N.replace(/\+/g," ")),O)}))}t=ll.prototype,t.add=function(b,N){mi(this),this.i=null,b=cl(this,b);let O=this.g.get(b);return O||this.g.set(b,O=[]),O.push(N),this.h+=1,this};function r0(b,N){mi(b),N=cl(b,N),b.g.has(N)&&(b.i=null,b.h-=b.g.get(N).length,b.g.delete(N))}function jh(b,N){return mi(b),N=cl(b,N),b.g.has(N)}t.forEach=function(b,N){mi(this),this.g.forEach(function(O,F){O.forEach(function(J){b.call(N,J,F,this)},this)},this)};function Rh(b,N){mi(b);let O=[];if(typeof N=="string")jh(b,N)&&(O=O.concat(b.g.get(cl(b,N))));else for(b=Array.from(b.g.values()),N=0;N<b.length;N++)O=O.concat(b[N]);return O}t.set=function(b,N){return mi(this),this.i=null,b=cl(this,b),jh(this,b)&&(this.h-=this.g.get(b).length),this.g.set(b,[N]),this.h+=1,this},t.get=function(b,N){return b?(b=Rh(this,b),b.length>0?String(b[0]):N):N};function fd(b,N,O){r0(b,N),O.length>0&&(b.i=null,b.g.set(cl(b,N),v(O)),b.h+=O.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const b=[],N=Array.from(this.g.keys());for(let F=0;F<N.length;F++){var O=N[F];const J=Qa(O);O=Rh(this,O);for(let ae=0;ae<O.length;ae++){let we=J;O[ae]!==""&&(we+="="+Qa(O[ae])),b.push(we)}}return this.i=b.join("&")};function i0(b){const N=new ll;return N.i=b.i,b.g&&(N.g=new Map(b.g),N.h=b.h),N}function cl(b,N){return N=String(N),b.j&&(N=N.toLowerCase()),N}function hd(b,N){N&&!b.j&&(mi(b),b.i=null,b.g.forEach(function(O,F){const J=F.toLowerCase();F!=J&&(r0(this,F),fd(this,J,O))},b)),b.j=N}function Rs(b,N){const O=new lr;if(a.Image){const F=new Image;F.onload=f(ts,O,"TestLoadImage: loaded",!0,N,F),F.onerror=f(ts,O,"TestLoadImage: error",!1,N,F),F.onabort=f(ts,O,"TestLoadImage: abort",!1,N,F),F.ontimeout=f(ts,O,"TestLoadImage: timeout",!1,N,F),a.setTimeout(function(){F.ontimeout&&F.ontimeout()},1e4),F.src=b}else N(!1)}function kh(b,N){const O=new lr,F=new AbortController,J=setTimeout(()=>{F.abort(),ts(O,"TestPingServer: timeout",!1,N)},1e4);fetch(b,{signal:F.signal}).then(ae=>{clearTimeout(J),ae.ok?ts(O,"TestPingServer: ok",!0,N):ts(O,"TestPingServer: server error",!1,N)}).catch(()=>{clearTimeout(J),ts(O,"TestPingServer: error",!1,N)})}function ts(b,N,O,F,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),F(O)}catch{}}function ul(){this.g=new It}function ga(b){this.i=b.Sb||null,this.h=b.ab||!1}m(ga,Dr),ga.prototype.g=function(){return new Uc(this.i,this.h)};function Uc(b,N){xt.call(this),this.H=b,this.o=N,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m(Uc,xt),t=Uc.prototype,t.open=function(b,N){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=b,this.D=N,this.readyState=1,ks(this)},t.send=function(b){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const N={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};b&&(N.body=b),(this.H||a).fetch(new Request(this.D,N)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,dl(this)),this.readyState=0},t.Pa=function(b){if(this.g&&(this.l=b,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=b.headers,this.readyState=2,ks(this)),this.g&&(this.readyState=3,ks(this),this.g)))if(this.responseType==="arraybuffer")b.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in b){if(this.j=b.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;md(this)}else b.text().then(this.Oa.bind(this),this.ga.bind(this))};function md(b){b.j.read().then(b.Ma.bind(b)).catch(b.ga.bind(b))}t.Ma=function(b){if(this.g){if(this.o&&b.value)this.response.push(b.value);else if(!this.o){var N=b.value?b.value:new Uint8Array(0);(N=this.B.decode(N,{stream:!b.done}))&&(this.response=this.responseText+=N)}b.done?dl(this):ks(this),this.readyState==3&&md(this)}},t.Oa=function(b){this.g&&(this.response=this.responseText=b,dl(this))},t.Na=function(b){this.g&&(this.response=b,dl(this))},t.ga=function(){this.g&&dl(this)};function dl(b){b.readyState=4,b.l=null,b.j=null,b.B=null,ks(b)}t.setRequestHeader=function(b,N){this.A.append(b,N)},t.getResponseHeader=function(b){return this.h&&this.h.get(b.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const b=[],N=this.h.entries();for(var O=N.next();!O.done;)O=O.value,b.push(O[0]+": "+O[1]),O=N.next();return b.join(`\r
`)};function ks(b){b.onreadystatechange&&b.onreadystatechange.call(b)}Object.defineProperty(Uc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(b){this.m=b?"include":"same-origin"}});function ns(b){let N="";return Y(b,function(O,F){N+=F,N+=":",N+=O,N+=`\r
`}),N}function zc(b,N,O){e:{for(F in O){var F=!1;break e}F=!0}F||(O=ns(O),typeof b=="string"?O!=null&&Qa(O):Ot(b,N,O))}function Vt(b){xt.call(this),this.headers=new Map,this.L=b||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m(Vt,xt);var ya=/^https?$/i,Mh=["POST","PUT"];t=Vt.prototype,t.Fa=function(b){this.H=b},t.ea=function(b,N,O,F){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+b);N=N?N.toUpperCase():"GET",this.D=b,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Sh.g(),this.g.onreadystatechange=y(d(this.Ca,this));try{this.B=!0,this.g.open(N,String(b),!0),this.B=!1}catch(ae){Bc(this,ae);return}if(b=O||"",O=new Map(this.headers),F)if(Object.getPrototypeOf(F)===Object.prototype)for(var J in F)O.set(J,F[J]);else if(typeof F.keys=="function"&&typeof F.get=="function")for(const ae of F.keys())O.set(ae,F.get(ae));else throw Error("Unknown input type for opt_headers: "+String(F));F=Array.from(O.keys()).find(ae=>ae.toLowerCase()=="content-type"),J=a.FormData&&b instanceof a.FormData,!(Array.prototype.indexOf.call(Mh,N,void 0)>=0)||F||J||O.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ae,we]of O)this.g.setRequestHeader(ae,we);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(b),this.v=!1}catch(ae){Bc(this,ae)}};function Bc(b,N){b.h=!1,b.g&&(b.j=!0,b.g.abort(),b.j=!1),b.l=N,b.o=5,Dh(b),Za(b)}function Dh(b){b.A||(b.A=!0,pt(b,"complete"),pt(b,"error"))}t.abort=function(b){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=b||7,pt(this,"complete"),pt(this,"abort"),Za(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Za(this,!0)),Vt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Fc(this):this.Xa())},t.Xa=function(){Fc(this)};function Fc(b){if(b.h&&typeof s<"u"){if(b.v&&Ms(b)==4)setTimeout(b.Ca.bind(b),0);else if(pt(b,"readystatechange"),Ms(b)==4){b.h=!1;try{const ae=b.ca();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var N=!0;break e;default:N=!1}var O;if(!(O=N)){var F;if(F=ae===0){let we=String(b.D).match(e0)[1]||null;!we&&a.self&&a.self.location&&(we=a.self.location.protocol.slice(0,-1)),F=!ya.test(we?we.toLowerCase():"")}O=F}if(O)pt(b,"complete"),pt(b,"success");else{b.o=6;try{var J=Ms(b)>2?b.g.statusText:""}catch{J=""}b.l=J+" ["+b.ca()+"]",Dh(b)}}finally{Za(b)}}}}function Za(b,N){if(b.g){b.m&&(clearTimeout(b.m),b.m=null);const O=b.g;b.g=null,N||pt(b,"ready");try{O.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ms(b){return b.g?b.g.readyState:0}t.ca=function(){try{return Ms(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(b){if(this.g){var N=this.g.responseText;return b&&N.indexOf(b)==0&&(N=N.substring(b.length)),Pt(N)}};function Er(b){try{if(!b.g)return null;if("response"in b.g)return b.g.response;switch(b.F){case"":case"text":return b.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in b.g)return b.g.mozResponseArrayBuffer}return null}catch{return null}}function Ja(b){const N={};b=(b.g&&Ms(b)>=2&&b.g.getAllResponseHeaders()||"").split(`\r
`);for(let F=0;F<b.length;F++){if(q(b[F]))continue;var O=Qg(b[F]);const J=O[0];if(O=O[1],typeof O!="string")continue;O=O.trim();const ae=N[J]||[];N[J]=ae,ae.push(O)}H(N,function(F){return F.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function va(b,N,O){return O&&O.internalChannelParams&&O.internalChannelParams[b]||N}function fl(b){this.za=0,this.i=[],this.j=new lr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=va("failFast",!1,b),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=va("baseRetryDelayMs",5e3,b),this.Za=va("retryDelaySeedMs",1e4,b),this.Ta=va("forwardChannelMaxRetries",2,b),this.va=va("forwardChannelRequestTimeoutMs",2e4,b),this.ma=b&&b.xmlHttpFactory||void 0,this.Ua=b&&b.Rb||void 0,this.Aa=b&&b.useFetchStreams||!1,this.O=void 0,this.L=b&&b.supportsCrossDomainXhr||!1,this.M="",this.h=new Th(b&&b.concurrentRequestLimit),this.Ba=new ul,this.S=b&&b.fastHandshake||!1,this.R=b&&b.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=b&&b.Pb||!1,b&&b.ua&&this.j.ua(),b&&b.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&b&&b.detectBufferingProxy||!1,this.ia=void 0,b&&b.longPollingTimeout&&b.longPollingTimeout>0&&(this.ia=b.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=fl.prototype,t.ka=8,t.I=1,t.connect=function(b,N,O,F){$t(0),this.W=b,this.H=N||{},O&&F!==void 0&&(this.H.OSID=O,this.H.OAID=F),this.F=this.X,this.J=d0(this,null,this.W),ba(this)};function Lh(b){if(pd(b),b.I==3){var N=b.V++,O=Mn(b.J);if(Ot(O,"SID",b.M),Ot(O,"RID",N),Ot(O,"TYPE","terminate"),$c(b,O),N=new Os(b,b.j,N),N.M=2,N.A=Lc(Mn(O)),O=!1,a.navigator&&a.navigator.sendBeacon)try{O=a.navigator.sendBeacon(N.A.toString(),"")}catch{}!O&&a.Image&&(new Image().src=N.A,O=!0),O||(N.g=f0(N.j,null),N.g.ea(N.A)),N.F=Date.now(),ua(N)}u0(b)}function hl(b){b.g&&(Uh(b),b.g.cancel(),b.g=null)}function pd(b){hl(b),b.v&&(a.clearTimeout(b.v),b.v=null),yd(b),b.h.cancel(),b.m&&(typeof b.m=="number"&&a.clearTimeout(b.m),b.m=null)}function ba(b){if(!Ah(b.h)&&!b.m){b.m=!0;var N=b.Ea;M||R(),z||(M(),z=!0),j.add(N,b),b.D=0}}function gd(b,N){return ha(b.h)>=b.h.j-(b.m?1:0)?!1:b.m?(b.i=N.G.concat(b.i),!0):b.I==1||b.I==2||b.D>=(b.Sa?0:b.Ta)?!1:(b.m=Vr(d(b.Ea,b,N),c0(b,b.D)),b.D++,!0)}t.Ea=function(b){if(this.m)if(this.m=null,this.I==1){if(!b){this.V=Math.floor(Math.random()*1e5),b=this.V++;const J=new Os(this,this.j,b);let ae=this.o;if(this.U&&(ae?(ae=k(ae),re(ae,this.U)):ae=this.U),this.u!==null||this.R||(J.J=ae,ae=null),this.S)e:{for(var N=0,O=0;O<this.i.length;O++){t:{var F=this.i[O];if("__data__"in F.map&&(F=F.map.__data__,typeof F=="string")){F=F.length;break t}F=void 0}if(F===void 0)break;if(N+=F,N>4096){N=O;break e}if(N===4096||O===this.i.length-1){N=O+1;break e}}N=1e3}else N=1e3;N=s0(this,J,N),O=Mn(this.J),Ot(O,"RID",b),Ot(O,"CVER",22),this.G&&Ot(O,"X-HTTP-Session-Id",this.G),$c(this,O),ae&&(this.R?N="headers="+Qa(ns(ae))+"&"+N:this.u&&zc(O,this.u,ae)),Nh(this.h,J),this.Ra&&Ot(O,"TYPE","init"),this.S?(Ot(O,"$req",N),Ot(O,"SID","null"),J.U=!0,ca(J,O,null)):ca(J,O,N),this.I=2}}else this.I==3&&(b?Vh(this,b):this.i.length==0||Ah(this.h)||Vh(this))};function Vh(b,N){var O;N?O=N.l:O=b.V++;const F=Mn(b.J);Ot(F,"SID",b.M),Ot(F,"RID",O),Ot(F,"AID",b.K),$c(b,F),b.u&&b.o&&zc(F,b.u,b.o),O=new Os(b,b.j,O,b.D+1),b.u===null&&(O.J=b.o),N&&(b.i=N.G.concat(b.i)),N=s0(b,O,1e3),O.H=Math.round(b.va*.5)+Math.round(b.va*.5*Math.random()),Nh(b.h,O),ca(O,F,N)}function $c(b,N){b.H&&Y(b.H,function(O,F){Ot(N,F,O)}),b.l&&Y({},function(O,F){Ot(N,F,O)})}function s0(b,N,O){O=Math.min(b.i.length,O);const F=b.l?d(b.l.Ka,b.l,b):null;e:{var J=b.i;let Xe=-1;for(;;){const Tn=["count="+O];Xe==-1?O>0?(Xe=J[0].g,Tn.push("ofs="+Xe)):Xe=0:Tn.push("ofs="+Xe);let wt=!0;for(let nn=0;nn<O;nn++){var ae=J[nn].g;const rs=J[nn].map;if(ae-=Xe,ae<0)Xe=Math.max(0,J[nn].g-100),wt=!1;else try{ae="req"+ae+"_"||"";try{var we=rs instanceof Map?rs:Object.entries(rs);for(const[wa,Ds]of we){let Ls=Ds;l(Ds)&&(Ls=ct(Ds)),Tn.push(ae+wa+"="+encodeURIComponent(Ls))}}catch(wa){throw Tn.push(ae+"type="+encodeURIComponent("_badmap")),wa}}catch{F&&F(rs)}}if(wt){we=Tn.join("&");break e}}we=void 0}return b=b.i.splice(0,O),N.G=b,we}function a0(b){if(!b.g&&!b.v){b.Y=1;var N=b.Da;M||R(),z||(M(),z=!0),j.add(N,b),b.A=0}}function qc(b){return b.g||b.v||b.A>=3?!1:(b.Y++,b.v=Vr(d(b.Da,b),c0(b,b.A)),b.A++,!0)}t.Da=function(){if(this.v=null,o0(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var b=4*this.T;this.j.info("BP detection timer enabled: "+b),this.B=Vr(d(this.Wa,this),b)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,$t(10),hl(this),o0(this))};function Uh(b){b.B!=null&&(a.clearTimeout(b.B),b.B=null)}function o0(b){b.g=new Os(b,b.j,"rpc",b.Y),b.u===null&&(b.g.J=b.o),b.g.P=0;var N=Mn(b.na);Ot(N,"RID","rpc"),Ot(N,"SID",b.M),Ot(N,"AID",b.K),Ot(N,"CI",b.F?"0":"1"),!b.F&&b.ia&&Ot(N,"TO",b.ia),Ot(N,"TYPE","xmlhttp"),$c(b,N),b.u&&b.o&&zc(N,b.u,b.o),b.O&&(b.g.H=b.O);var O=b.g;b=b.ba,O.M=1,O.A=Lc(Mn(N)),O.u=null,O.R=!0,ld(O,b)}t.Va=function(){this.C!=null&&(this.C=null,hl(this),qc(this),$t(19))};function yd(b){b.C!=null&&(a.clearTimeout(b.C),b.C=null)}function l0(b,N){var O=null;if(b.g==N){yd(b),Uh(b),b.g=null;var F=2}else if(ma(b.h,N))O=N.G,Ch(b.h,N),F=1;else return;if(b.I!=0){if(N.o)if(F==1){O=N.u?N.u.length:0,N=Date.now()-N.F;var J=b.D;F=Sn(),pt(F,new or(F,O)),ba(b)}else a0(b);else if(J=N.m,J==3||J==0&&N.X>0||!(F==1&&gd(b,N)||F==2&&qc(b)))switch(O&&O.length>0&&(N=b.h,N.i=N.i.concat(O)),J){case 1:xa(b,5);break;case 4:xa(b,10);break;case 3:xa(b,6);break;default:xa(b,2)}}}function c0(b,N){let O=b.Qa+Math.floor(Math.random()*b.Za);return b.isActive()||(O*=2),O*N}function xa(b,N){if(b.j.info("Error code "+N),N==2){var O=d(b.bb,b),F=b.Ua;const J=!F;F=new ji(F||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ur(F,"https"),Lc(F),J?Rs(F.toString(),O):kh(F.toString(),O)}else $t(2);b.I=0,b.l&&b.l.pa(N),u0(b),pd(b)}t.bb=function(b){b?(this.j.info("Successfully pinged google.com"),$t(2)):(this.j.info("Failed to ping google.com"),$t(1))};function u0(b){if(b.I=0,b.ja=[],b.l){const N=Ph(b.h);(N.length!=0||b.i.length!=0)&&(_(b.ja,N),_(b.ja,b.i),b.h.i.length=0,v(b.i),b.i.length=0),b.l.oa()}}function d0(b,N,O){var F=O instanceof ji?Mn(O):new ji(O);if(F.g!="")N&&(F.g=N+"."+F.g),al(F,F.u);else{var J=a.location;F=J.protocol,N=N?N+"."+J.hostname:J.hostname,J=+J.port;const ae=new ji(null);F&&ur(ae,F),N&&(ae.g=N),J&&al(ae,J),O&&(ae.h=O),F=ae}return O=b.G,N=b.wa,O&&N&&Ot(F,O,N),Ot(F,"VER",b.ka),$c(b,F),F}function f0(b,N,O){if(N&&!b.L)throw Error("Can't create secondary domain capable XhrIo object.");return N=b.Aa&&!b.ma?new Vt(new ga({ab:O})):new Vt(b.ma),N.Fa(b.L),N}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function h0(){}t=h0.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function ml(){}ml.prototype.g=function(b,N){return new Xr(b,N)};function Xr(b,N){xt.call(this),this.g=new fl(N),this.l=b,this.h=N&&N.messageUrlParams||null,b=N&&N.messageHeaders||null,N&&N.clientProtocolHeaderRequired&&(b?b["X-Client-Protocol"]="webchannel":b={"X-Client-Protocol":"webchannel"}),this.g.o=b,b=N&&N.initMessageHeaders||null,N&&N.messageContentType&&(b?b["X-WebChannel-Content-Type"]=N.messageContentType:b={"X-WebChannel-Content-Type":N.messageContentType}),N&&N.sa&&(b?b["X-WebChannel-Client-Profile"]=N.sa:b={"X-WebChannel-Client-Profile":N.sa}),this.g.U=b,(b=N&&N.Qb)&&!q(b)&&(this.g.u=b),this.A=N&&N.supportsCrossDomainXhr||!1,this.v=N&&N.sendRawJson||!1,(N=N&&N.httpSessionIdParam)&&!q(N)&&(this.g.G=N,b=this.h,b!==null&&N in b&&(b=this.h,N in b&&delete b[N])),this.j=new eo(this)}m(Xr,xt),Xr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Xr.prototype.close=function(){Lh(this.g)},Xr.prototype.o=function(b){var N=this.g;if(typeof b=="string"){var O={};O.__data__=b,b=O}else this.v&&(O={},O.__data__=ct(b),b=O);N.i.push(new kn(N.Ya++,b)),N.I==3&&ba(N)},Xr.prototype.N=function(){this.g.l=null,delete this.j,Lh(this.g),delete this.g,Xr.Z.N.call(this)};function m0(b){tn.call(this),b.__headers__&&(this.headers=b.__headers__,this.statusCode=b.__status__,delete b.__headers__,delete b.__status__);var N=b.__sm__;if(N){e:{for(const O in N){b=O;break e}b=void 0}(this.i=b)&&(b=this.i,N=N!==null&&b in N?N[b]:void 0),this.data=N}else this.data=b}m(m0,tn);function p0(){En.call(this),this.status=1}m(p0,En);function eo(b){this.g=b}m(eo,h0),eo.prototype.ra=function(){pt(this.g,"a")},eo.prototype.qa=function(b){pt(this.g,new m0(b))},eo.prototype.pa=function(b){pt(this.g,new p0)},eo.prototype.oa=function(){pt(this.g,"b")},ml.prototype.createWebChannel=ml.prototype.g,Xr.prototype.send=Xr.prototype.o,Xr.prototype.open=Xr.prototype.m,Xr.prototype.close=Xr.prototype.close,Qz=function(){return new ml},Xz=function(){return Sn()},Yz=dt,qT={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Mc.NO_ERROR=0,Mc.TIMEOUT=8,Mc.HTTP_ERROR=6,pv=Mc,Eh.COMPLETE="complete",Gz=Eh,fi.EventType=ar,ar.OPEN="a",ar.CLOSE="b",ar.ERROR="c",ar.MESSAGE="d",xt.prototype.listen=xt.prototype.J,Fm=fi,Vt.prototype.listenOnce=Vt.prototype.K,Vt.prototype.getLastError=Vt.prototype.Ha,Vt.prototype.getLastErrorCode=Vt.prototype.ya,Vt.prototype.getStatus=Vt.prototype.ca,Vt.prototype.getResponseJson=Vt.prototype.La,Vt.prototype.getResponseText=Vt.prototype.la,Vt.prototype.send=Vt.prototype.ea,Vt.prototype.setWithCredentials=Vt.prototype.Fa,Kz=Vt}).apply(typeof wy<"u"?wy:typeof self<"u"?self:typeof window<"u"?window:{});const mM="@firebase/firestore",pM="4.9.2";let Fr=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Fr.UNAUTHENTICATED=new Fr(null),Fr.GOOGLE_CREDENTIALS=new Fr("google-credentials-uid"),Fr.FIRST_PARTY=new Fr("first-party-uid"),Fr.MOCK_USER=new Fr("mock-user");let nh="12.3.0";const Uu=new ag("@firebase/firestore");function ef(){return Uu.logLevel}function Ne(t,...e){if(Uu.logLevel<=rt.DEBUG){const n=e.map(xC);Uu.debug(`Firestore (${nh}): ${t}`,...n)}}function Uo(t,...e){if(Uu.logLevel<=rt.ERROR){const n=e.map(xC);Uu.error(`Firestore (${nh}): ${t}`,...n)}}function zu(t,...e){if(Uu.logLevel<=rt.WARN){const n=e.map(xC);Uu.warn(`Firestore (${nh}): ${t}`,...n)}}function xC(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Fe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,Zz(t,r,n)}function Zz(t,e,n){let r=`FIRESTORE (${nh}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Uo(r),new Error(r)}function St(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||Zz(e,i,r)}function He(t,e){return t}const pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Te extends Ji{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ma{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class Jz{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class eB{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Fr.UNAUTHENTICATED)))}shutdown(){}}class ine{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class sne{constructor(e){this.t=e,this.currentUser=Fr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){St(this.o===void 0,42304);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new Ma;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ma,e.enqueueRetryable((()=>i(this.currentUser)))};const a=()=>{const u=s;e.enqueueRetryable((async()=>{await u.promise,await i(this.currentUser)}))},l=u=>{Ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((u=>l(u))),setTimeout((()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(Ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ma)}}),0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(St(typeof r.accessToken=="string",31837,{l:r}),new Jz(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return St(e===null||typeof e=="string",2055,{h:e}),new Fr(e)}}class ane{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Fr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class one{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new ane(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Fr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class gM{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lne{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ei(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){St(this.o===void 0,3512);const r=s=>{s.error!=null&&Ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,Ne("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const i=s=>{Ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):Ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new gM(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(St(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new gM(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function cne(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class Sx{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=cne(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function ot(t,e){return t<e?-1:t>e?1:0}function HT(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return cE(i)===cE(s)?ot(i,s):cE(i)?1:-1}return ot(t.length,e.length)}const une=55296,dne=57343;function cE(t){const e=t.charCodeAt(0);return e>=une&&e<=dne}function Pf(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}const yM="__name__";class Pa{constructor(e,n,r){n===void 0?n=0:n>e.length&&Fe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Fe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Pa.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Pa?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Pa.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return ot(e.length,n.length)}static compareSegments(e,n){const r=Pa.isNumericId(e),i=Pa.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Pa.extractNumericId(e).compare(Pa.extractNumericId(n)):HT(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ec.fromString(e.substring(4,e.length-2))}}class Kt extends Pa{construct(e,n,r){return new Kt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Te(pe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new Kt(n)}static emptyPath(){return new Kt([])}}const fne=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gr extends Pa{construct(e,n,r){return new gr(e,n,r)}static isValidIdentifier(e){return fne.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===yM}static keyField(){return new gr([yM])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Te(pe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new Te(pe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Te(pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else l==="`"?(a=!a,i++):l!=="."||a?(r+=l,i++):(s(),i++)}if(s(),a)throw new Te(pe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new gr(n)}static emptyPath(){return new gr([])}}class De{constructor(e){this.path=e}static fromPath(e){return new De(Kt.fromString(e))}static fromName(e){return new De(Kt.fromString(e).popFirst(5))}static empty(){return new De(Kt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Kt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Kt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new De(new Kt(e.slice()))}}function tB(t,e,n){if(!n)throw new Te(pe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function nB(t,e,n,r){if(e===!0&&r===!0)throw new Te(pe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function vM(t){if(!De.isDocumentKey(t))throw new Te(pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function bM(t){if(De.isDocumentKey(t))throw new Te(pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function rB(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Tx(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Fe(12329,{type:typeof t})}function ai(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Te(pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Tx(t);throw new Te(pe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function hne(t,e){if(e<=0)throw new Te(pe.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}function qn(t,e){const n={typeString:t};return e&&(n.value=e),n}function dg(t,e){if(!rB(t))throw new Te(pe.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const a=t[r];if(i&&typeof a!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&a!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new Te(pe.INVALID_ARGUMENT,n);return!0}const xM=-62135596800,wM=1e6;class At{static now(){return At.fromMillis(Date.now())}static fromDate(e){return At.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*wM);return new At(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Te(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Te(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<xM)throw new Te(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Te(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/wM}_compareTo(e){return this.seconds===e.seconds?ot(this.nanoseconds,e.nanoseconds):ot(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:At._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(dg(e,At._jsonSchema))return new At(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-xM;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}At._jsonSchemaVersion="firestore/timestamp/1.0",At._jsonSchema={type:qn("string",At._jsonSchemaVersion),seconds:qn("number"),nanoseconds:qn("number")};class Ge{static fromTimestamp(e){return new Ge(e)}static min(){return new Ge(new At(0,0))}static max(){return new Ge(new At(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ep=-1;function mne(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ge.fromTimestamp(r===1e9?new At(n+1,0):new At(n,r));return new ac(i,De.empty(),e)}function pne(t){return new ac(t.readTime,t.key,Ep)}class ac{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ac(Ge.min(),De.empty(),Ep)}static max(){return new ac(Ge.max(),De.empty(),Ep)}}function gne(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=De.comparator(t.documentKey,e.documentKey),n!==0?n:ot(t.largestBatchId,e.largestBatchId))}const yne="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vne{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function rh(t){if(t.code!==pe.FAILED_PRECONDITION||t.message!==yne)throw t;Ne("LocalStore","Unexpectedly lost primary lease")}class ve{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Fe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ve(((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ve?n:ve.resolve(n)}catch(n){return ve.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ve.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ve.reject(n)}static resolve(e){return new ve(((n,r)=>{n(e)}))}static reject(e){return new ve(((n,r)=>{r(e)}))}static waitFor(e){return new ve(((n,r)=>{let i=0,s=0,a=!1;e.forEach((l=>{++i,l.next((()=>{++s,a&&s===i&&n()}),(u=>r(u)))})),a=!0,s===i&&n()}))}static or(e){let n=ve.resolve(!1);for(const r of e)n=n.next((i=>i?ve.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,s)=>{r.push(n.call(this,i,s))})),this.waitFor(r)}static mapArray(e,n){return new ve(((r,i)=>{const s=e.length,a=new Array(s);let l=0;for(let u=0;u<s;u++){const d=u;n(e[d]).next((f=>{a[d]=f,++l,l===s&&r(a)}),(f=>i(f)))}}))}static doWhile(e,n){return new ve(((r,i)=>{const s=()=>{e()===!0?n().next((()=>{s()}),i):r()};s()}))}}function bne(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ih(t){return t.name==="IndexedDbTransactionError"}class Ax{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ax.ce=-1;const wC=-1;function Nx(t){return t==null}function Fv(t){return t===0&&1/t==-1/0}function xne(t){return typeof t=="number"&&Number.isInteger(t)&&!Fv(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const iB="";function wne(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=_M(e)),e=_ne(t.get(n),e);return _M(e)}function _ne(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case iB:n+="";break;default:n+=s}}return n}function _M(t){return t+iB+""}function EM(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ac(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Ene(t,e){const n=[];for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.push(e(t[r],r,t));return n}function sB(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class pn{constructor(e,n){this.comparator=e,this.root=n||Or.EMPTY}insert(e,n){return new pn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Or.BLACK,null,null))}remove(e){return new pn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Or.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _y(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _y(this.root,e,this.comparator,!1)}getReverseIterator(){return new _y(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _y(this.root,e,this.comparator,!0)}}class _y{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Or{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Or.RED,this.left=i??Or.EMPTY,this.right=s??Or.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Or(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Or.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Or.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Or.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Or.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Fe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Fe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Fe(27949);return e+(this.isRed()?0:1)}}Or.EMPTY=null,Or.RED=!0,Or.BLACK=!1;Or.EMPTY=new class{constructor(){this.size=0}get key(){throw Fe(57766)}get value(){throw Fe(16141)}get color(){throw Fe(16727)}get left(){throw Fe(29726)}get right(){throw Fe(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new Or(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Jn{constructor(e){this.comparator=e,this.data=new pn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new SM(this.data.getIterator())}getIteratorFrom(e){return new SM(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Jn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Jn(this.comparator);return n.data=e,n}}class SM{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Hi{constructor(e){this.fields=e,e.sort(gr.comparator)}static empty(){return new Hi([])}unionWith(e){let n=new Jn(gr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Hi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Pf(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class aB extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class br{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new aB("Invalid base64 string: "+s):s}})(e);return new br(n)}static fromUint8Array(e){const n=(function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s})(e);return new br(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ot(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}br.EMPTY_BYTE_STRING=new br("");const Sne=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oc(t){if(St(!!t,39018),typeof t=="string"){let e=0;const n=Sne.exec(t);if(St(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Pn(t.seconds),nanos:Pn(t.nanos)}}function Pn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function lc(t){return typeof t=="string"?br.fromBase64String(t):br.fromUint8Array(t)}const oB="server_timestamp",lB="__type__",cB="__previous_value__",uB="__local_write_time__";function _C(t){return(t?.mapValue?.fields||{})[lB]?.stringValue===oB}function Cx(t){const e=t.mapValue.fields[cB];return _C(e)?Cx(e):e}function Sp(t){const e=oc(t.mapValue.fields[uB].timestampValue);return new At(e.seconds,e.nanos)}class Tne{constructor(e,n,r,i,s,a,l,u,d,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=d,this.isUsingEmulator=f}}const $v="(default)";class If{constructor(e,n){this.projectId=e,this.database=n||$v}static empty(){return new If("","")}get isDefaultDatabase(){return this.database===$v}isEqual(e){return e instanceof If&&e.projectId===this.projectId&&e.database===this.database}}const dB="__type__",Ane="__max__",Ey={mapValue:{}},fB="__vector__",qv="value";function cc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?_C(t)?4:Cne(t)?9007199254740991:Nne(t)?10:11:Fe(28295,{value:t})}function Fa(t,e){if(t===e)return!0;const n=cc(t);if(n!==cc(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Sp(t).isEqual(Sp(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=oc(i.timestampValue),l=oc(s.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,s){return lc(i.bytesValue).isEqual(lc(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,s){return Pn(i.geoPointValue.latitude)===Pn(s.geoPointValue.latitude)&&Pn(i.geoPointValue.longitude)===Pn(s.geoPointValue.longitude)})(t,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return Pn(i.integerValue)===Pn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=Pn(i.doubleValue),l=Pn(s.doubleValue);return a===l?Fv(a)===Fv(l):isNaN(a)&&isNaN(l)}return!1})(t,e);case 9:return Pf(t.arrayValue.values||[],e.arrayValue.values||[],Fa);case 10:case 11:return(function(i,s){const a=i.mapValue.fields||{},l=s.mapValue.fields||{};if(EM(a)!==EM(l))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(l[u]===void 0||!Fa(a[u],l[u])))return!1;return!0})(t,e);default:return Fe(52216,{left:t})}}function Tp(t,e){return(t.values||[]).find((n=>Fa(n,e)))!==void 0}function Of(t,e){if(t===e)return 0;const n=cc(t),r=cc(e);if(n!==r)return ot(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ot(t.booleanValue,e.booleanValue);case 2:return(function(s,a){const l=Pn(s.integerValue||s.doubleValue),u=Pn(a.integerValue||a.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1})(t,e);case 3:return TM(t.timestampValue,e.timestampValue);case 4:return TM(Sp(t),Sp(e));case 5:return HT(t.stringValue,e.stringValue);case 6:return(function(s,a){const l=lc(s),u=lc(a);return l.compareTo(u)})(t.bytesValue,e.bytesValue);case 7:return(function(s,a){const l=s.split("/"),u=a.split("/");for(let d=0;d<l.length&&d<u.length;d++){const f=ot(l[d],u[d]);if(f!==0)return f}return ot(l.length,u.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,a){const l=ot(Pn(s.latitude),Pn(a.latitude));return l!==0?l:ot(Pn(s.longitude),Pn(a.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return AM(t.arrayValue,e.arrayValue);case 10:return(function(s,a){const l=s.fields||{},u=a.fields||{},d=l[qv]?.arrayValue,f=u[qv]?.arrayValue,m=ot(d?.values?.length||0,f?.values?.length||0);return m!==0?m:AM(d,f)})(t.mapValue,e.mapValue);case 11:return(function(s,a){if(s===Ey.mapValue&&a===Ey.mapValue)return 0;if(s===Ey.mapValue)return 1;if(a===Ey.mapValue)return-1;const l=s.fields||{},u=Object.keys(l),d=a.fields||{},f=Object.keys(d);u.sort(),f.sort();for(let m=0;m<u.length&&m<f.length;++m){const y=HT(u[m],f[m]);if(y!==0)return y;const v=Of(l[u[m]],d[f[m]]);if(v!==0)return v}return ot(u.length,f.length)})(t.mapValue,e.mapValue);default:throw Fe(23264,{he:n})}}function TM(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ot(t,e);const n=oc(t),r=oc(e),i=ot(n.seconds,r.seconds);return i!==0?i:ot(n.nanos,r.nanos)}function AM(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Of(n[i],r[i]);if(s)return s}return ot(n.length,r.length)}function jf(t){return WT(t)}function WT(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=oc(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return lc(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return De.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=WT(s);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const a of r)s?s=!1:i+=",",i+=`${a}:${WT(n.fields[a])}`;return i+"}"})(t.mapValue):Fe(61005,{value:t})}function gv(t){switch(cc(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Cx(t);return e?16+gv(e):16;case 5:return 2*t.stringValue.length;case 6:return lc(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,s)=>i+gv(s)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return Ac(r.fields,((s,a)=>{i+=s.length+gv(a)})),i})(t.mapValue);default:throw Fe(13486,{value:t})}}function NM(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function KT(t){return!!t&&"integerValue"in t}function EC(t){return!!t&&"arrayValue"in t}function CM(t){return!!t&&"nullValue"in t}function PM(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function yv(t){return!!t&&"mapValue"in t}function Nne(t){return(t?.mapValue?.fields||{})[dB]?.stringValue===fB}function ep(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Ac(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=ep(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ep(t.arrayValue.values[n]);return e}return{...t}}function Cne(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Ane}class Ei{constructor(e){this.value=e}static empty(){return new Ei({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!yv(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ep(n)}setAll(e){let n=gr.emptyPath(),r={},i=[];e.forEach(((a,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=l.popLast()}a?r[l.lastSegment()]=ep(a):i.push(l.lastSegment())}));const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());yv(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Fa(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];yv(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ac(n,((i,s)=>e[i]=s));for(const i of r)delete e[i]}clone(){return new Ei(ep(this.value))}}function hB(t){const e=[];return Ac(t.fields,((n,r)=>{const i=new gr([n]);if(yv(r)){const s=hB(r.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)})),new Hi(e)}class qr{constructor(e,n,r,i,s,a,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=l}static newInvalidDocument(e){return new qr(e,0,Ge.min(),Ge.min(),Ge.min(),Ei.empty(),0)}static newFoundDocument(e,n,r,i){return new qr(e,1,n,Ge.min(),r,i,0)}static newNoDocument(e,n){return new qr(e,2,n,Ge.min(),Ge.min(),Ei.empty(),0)}static newUnknownDocument(e,n){return new qr(e,3,n,Ge.min(),Ge.min(),Ei.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ge.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ei.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ei.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ge.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof qr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new qr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Hv{constructor(e,n){this.position=e,this.inclusive=n}}function IM(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?r=De.comparator(De.fromName(a.referenceValue),n.key):r=Of(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function OM(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Fa(t.position[n],e.position[n]))return!1;return!0}class Ap{constructor(e,n="asc"){this.field=e,this.dir=n}}function Pne(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class mB{}class $n extends mB{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new One(e,n,r):n==="array-contains"?new kne(e,r):n==="in"?new Mne(e,r):n==="not-in"?new Dne(e,r):n==="array-contains-any"?new Lne(e,r):new $n(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new jne(e,r):new Rne(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Of(n,this.value)):n!==null&&cc(this.value)===cc(n)&&this.matchesComparison(Of(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Fe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Js extends mB{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Js(e,n)}matches(e){return pB(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function pB(t){return t.op==="and"}function gB(t){return Ine(t)&&pB(t)}function Ine(t){for(const e of t.filters)if(e instanceof Js)return!1;return!0}function GT(t){if(t instanceof $n)return t.field.canonicalString()+t.op.toString()+jf(t.value);if(gB(t))return t.filters.map((e=>GT(e))).join(",");{const e=t.filters.map((n=>GT(n))).join(",");return`${t.op}(${e})`}}function yB(t,e){return t instanceof $n?(function(r,i){return i instanceof $n&&r.op===i.op&&r.field.isEqual(i.field)&&Fa(r.value,i.value)})(t,e):t instanceof Js?(function(r,i){return i instanceof Js&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((s,a,l)=>s&&yB(a,i.filters[l])),!0):!1})(t,e):void Fe(19439)}function vB(t){return t instanceof $n?(function(n){return`${n.field.canonicalString()} ${n.op} ${jf(n.value)}`})(t):t instanceof Js?(function(n){return n.op.toString()+" {"+n.getFilters().map(vB).join(" ,")+"}"})(t):"Filter"}class One extends $n{constructor(e,n,r){super(e,n,r),this.key=De.fromName(r.referenceValue)}matches(e){const n=De.comparator(e.key,this.key);return this.matchesComparison(n)}}class jne extends $n{constructor(e,n){super(e,"in",n),this.keys=bB("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class Rne extends $n{constructor(e,n){super(e,"not-in",n),this.keys=bB("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function bB(t,e){return(e.arrayValue?.values||[]).map((n=>De.fromName(n.referenceValue)))}class kne extends $n{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return EC(n)&&Tp(n.arrayValue,this.value)}}class Mne extends $n{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Tp(this.value.arrayValue,n)}}class Dne extends $n{constructor(e,n){super(e,"not-in",n)}matches(e){if(Tp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Tp(this.value.arrayValue,n)}}class Lne extends $n{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!EC(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Tp(this.value.arrayValue,r)))}}class Vne{constructor(e,n=null,r=[],i=[],s=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=l,this.Te=null}}function jM(t,e=null,n=[],r=[],i=null,s=null,a=null){return new Vne(t,e,n,r,i,s,a)}function SC(t){const e=He(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>GT(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),Nx(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>jf(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>jf(r))).join(",")),e.Te=n}return e.Te}function TC(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Pne(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!yB(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!OM(t.startAt,e.startAt)&&OM(t.endAt,e.endAt)}function YT(t){return De.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class sh{constructor(e,n=null,r=[],i=[],s=null,a="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=l,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Une(t,e,n,r,i,s,a,l){return new sh(t,e,n,r,i,s,a,l)}function Px(t){return new sh(t)}function RM(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function xB(t){return t.collectionGroup!==null}function tp(t){const e=He(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new Jn(gr.comparator);return a.filters.forEach((u=>{u.getFlattenedFilters().forEach((d=>{d.isInequality()&&(l=l.add(d.field))}))})),l})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new Ap(s,r))})),n.has(gr.keyField().canonicalString())||e.Ie.push(new Ap(gr.keyField(),r))}return e.Ie}function Da(t){const e=He(t);return e.Ee||(e.Ee=wB(e,tp(t))),e.Ee}function zne(t){const e=He(t);return e.de||(e.de=wB(e,t.explicitOrderBy)),e.de}function wB(t,e){if(t.limitType==="F")return jM(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new Ap(i.field,s)}));const n=t.endAt?new Hv(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Hv(t.startAt.position,t.startAt.inclusive):null;return jM(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function XT(t,e){const n=t.filters.concat([e]);return new sh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Wv(t,e,n){return new sh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ix(t,e){return TC(Da(t),Da(e))&&t.limitType===e.limitType}function _B(t){return`${SC(Da(t))}|lt:${t.limitType}`}function tf(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>vB(i))).join(", ")}]`),Nx(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(a){return`${a.field.canonicalString()} (${a.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>jf(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>jf(i))).join(",")),`Target(${r})`})(Da(t))}; limitType=${t.limitType})`}function Ox(t,e){return e.isFoundDocument()&&(function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):De.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(t,e)&&(function(r,i){for(const s of tp(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(a,l,u){const d=IM(a,l,u);return a.inclusive?d<=0:d<0})(r.startAt,tp(r),i)||r.endAt&&!(function(a,l,u){const d=IM(a,l,u);return a.inclusive?d>=0:d>0})(r.endAt,tp(r),i))})(t,e)}function Bne(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function EB(t){return(e,n)=>{let r=!1;for(const i of tp(t)){const s=Fne(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Fne(t,e,n){const r=t.field.isKeyField()?De.comparator(e.key,n.key):(function(s,a,l){const u=a.data.field(s),d=l.data.field(s);return u!==null&&d!==null?Of(u,d):Fe(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Fe(19790,{direction:t.dir})}}class nd{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ac(this.inner,((n,r)=>{for(const[i,s]of r)e(i,s)}))}isEmpty(){return sB(this.inner)}size(){return this.innerSize}}const $ne=new pn(De.comparator);function zo(){return $ne}const SB=new pn(De.comparator);function $m(...t){let e=SB;for(const n of t)e=e.insert(n.key,n);return e}function TB(t){let e=SB;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function xu(){return np()}function AB(){return np()}function np(){return new nd((t=>t.toString()),((t,e)=>t.isEqual(e)))}const qne=new pn(De.comparator),Hne=new Jn(De.comparator);function lt(...t){let e=Hne;for(const n of t)e=e.add(n);return e}const Wne=new Jn(ot);function Kne(){return Wne}function AC(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fv(e)?"-0":e}}function NB(t){return{integerValue:""+t}}function CB(t,e){return xne(e)?NB(e):AC(t,e)}class jx{constructor(){this._=void 0}}function Gne(t,e,n){return t instanceof Np?(function(i,s){const a={fields:{[lB]:{stringValue:oB},[uB]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&_C(s)&&(s=Cx(s)),s&&(a.fields[cB]=s),{mapValue:a}})(n,e):t instanceof Cp?IB(t,e):t instanceof Pp?OB(t,e):(function(i,s){const a=PB(i,s),l=kM(a)+kM(i.Ae);return KT(a)&&KT(i.Ae)?NB(l):AC(i.serializer,l)})(t,e)}function Yne(t,e,n){return t instanceof Cp?IB(t,e):t instanceof Pp?OB(t,e):n}function PB(t,e){return t instanceof Ip?(function(r){return KT(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class Np extends jx{}class Cp extends jx{constructor(e){super(),this.elements=e}}function IB(t,e){const n=jB(e);for(const r of t.elements)n.some((i=>Fa(i,r)))||n.push(r);return{arrayValue:{values:n}}}class Pp extends jx{constructor(e){super(),this.elements=e}}function OB(t,e){let n=jB(e);for(const r of t.elements)n=n.filter((i=>!Fa(i,r)));return{arrayValue:{values:n}}}class Ip extends jx{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function kM(t){return Pn(t.integerValue||t.doubleValue)}function jB(t){return EC(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class RB{constructor(e,n){this.field=e,this.transform=n}}function Xne(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Cp&&i instanceof Cp||r instanceof Pp&&i instanceof Pp?Pf(r.elements,i.elements,Fa):r instanceof Ip&&i instanceof Ip?Fa(r.Ae,i.Ae):r instanceof Np&&i instanceof Np})(t.transform,e.transform)}class Qne{constructor(e,n){this.version=e,this.transformResults=n}}class Ys{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ys}static exists(e){return new Ys(void 0,e)}static updateTime(e){return new Ys(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function vv(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Rx{}function kB(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new DB(t.key,Ys.none()):new fg(t.key,t.data,Ys.none());{const n=t.data,r=Ei.empty();let i=new Jn(gr.comparator);for(let s of e.fields)if(!i.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new Nc(t.key,r,new Hi(i.toArray()),Ys.none())}}function Zne(t,e,n){t instanceof fg?(function(i,s,a){const l=i.value.clone(),u=DM(i.fieldTransforms,s,a.transformResults);l.setAll(u),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()})(t,e,n):t instanceof Nc?(function(i,s,a){if(!vv(i.precondition,s))return void s.convertToUnknownDocument(a.version);const l=DM(i.fieldTransforms,s,a.transformResults),u=s.data;u.setAll(MB(i)),u.setAll(l),s.convertToFoundDocument(a.version,u).setHasCommittedMutations()})(t,e,n):(function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()})(0,e,n)}function rp(t,e,n,r){return t instanceof fg?(function(s,a,l,u){if(!vv(s.precondition,a))return l;const d=s.value.clone(),f=LM(s.fieldTransforms,u,a);return d.setAll(f),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),null})(t,e,n,r):t instanceof Nc?(function(s,a,l,u){if(!vv(s.precondition,a))return l;const d=LM(s.fieldTransforms,u,a),f=a.data;return f.setAll(MB(s)),f.setAll(d),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((m=>m.field)))})(t,e,n,r):(function(s,a,l){return vv(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l})(t,e,n)}function Jne(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=PB(r.transform,i||null);s!=null&&(n===null&&(n=Ei.empty()),n.set(r.field,s))}return n||null}function MM(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Pf(r,i,((s,a)=>Xne(s,a)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class fg extends Rx{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Nc extends Rx{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function MB(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function DM(t,e,n){const r=new Map;St(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],a=s.transform,l=e.data.field(s.field);r.set(s.field,Yne(a,l,n[i]))}return r}function LM(t,e,n){const r=new Map;for(const i of t){const s=i.transform,a=n.data.field(i.field);r.set(i.field,Gne(s,a,e))}return r}class DB extends Rx{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ere extends Rx{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class tre{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Zne(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=rp(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=rp(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=AB();return this.mutations.forEach((i=>{const s=e.get(i.key),a=s.overlayedDocument;let l=this.applyToLocalView(a,s.mutatedFields);l=n.has(i.key)?null:l;const u=kB(a,l);u!==null&&r.set(i.key,u),a.isValidDocument()||a.convertToNoDocument(Ge.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),lt())}isEqual(e){return this.batchId===e.batchId&&Pf(this.mutations,e.mutations,((n,r)=>MM(n,r)))&&Pf(this.baseMutations,e.baseMutations,((n,r)=>MM(n,r)))}}class NC{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){St(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return qne})();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new NC(e,n,r,i)}}class nre{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class rre{constructor(e,n,r){this.alias=e,this.aggregateType=n,this.fieldPath=r}}class ire{constructor(e,n){this.count=e,this.unchangedNames=n}}var zn,ht;function sre(t){switch(t){case pe.OK:return Fe(64938);case pe.CANCELLED:case pe.UNKNOWN:case pe.DEADLINE_EXCEEDED:case pe.RESOURCE_EXHAUSTED:case pe.INTERNAL:case pe.UNAVAILABLE:case pe.UNAUTHENTICATED:return!1;case pe.INVALID_ARGUMENT:case pe.NOT_FOUND:case pe.ALREADY_EXISTS:case pe.PERMISSION_DENIED:case pe.FAILED_PRECONDITION:case pe.ABORTED:case pe.OUT_OF_RANGE:case pe.UNIMPLEMENTED:case pe.DATA_LOSS:return!0;default:return Fe(15467,{code:t})}}function LB(t){if(t===void 0)return Uo("GRPC error has no .code"),pe.UNKNOWN;switch(t){case zn.OK:return pe.OK;case zn.CANCELLED:return pe.CANCELLED;case zn.UNKNOWN:return pe.UNKNOWN;case zn.DEADLINE_EXCEEDED:return pe.DEADLINE_EXCEEDED;case zn.RESOURCE_EXHAUSTED:return pe.RESOURCE_EXHAUSTED;case zn.INTERNAL:return pe.INTERNAL;case zn.UNAVAILABLE:return pe.UNAVAILABLE;case zn.UNAUTHENTICATED:return pe.UNAUTHENTICATED;case zn.INVALID_ARGUMENT:return pe.INVALID_ARGUMENT;case zn.NOT_FOUND:return pe.NOT_FOUND;case zn.ALREADY_EXISTS:return pe.ALREADY_EXISTS;case zn.PERMISSION_DENIED:return pe.PERMISSION_DENIED;case zn.FAILED_PRECONDITION:return pe.FAILED_PRECONDITION;case zn.ABORTED:return pe.ABORTED;case zn.OUT_OF_RANGE:return pe.OUT_OF_RANGE;case zn.UNIMPLEMENTED:return pe.UNIMPLEMENTED;case zn.DATA_LOSS:return pe.DATA_LOSS;default:return Fe(39323,{code:t})}}(ht=zn||(zn={}))[ht.OK=0]="OK",ht[ht.CANCELLED=1]="CANCELLED",ht[ht.UNKNOWN=2]="UNKNOWN",ht[ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ht[ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ht[ht.NOT_FOUND=5]="NOT_FOUND",ht[ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",ht[ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",ht[ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",ht[ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ht[ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ht[ht.ABORTED=10]="ABORTED",ht[ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",ht[ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",ht[ht.INTERNAL=13]="INTERNAL",ht[ht.UNAVAILABLE=14]="UNAVAILABLE",ht[ht.DATA_LOSS=15]="DATA_LOSS";function are(){return new TextEncoder}const ore=new ec([4294967295,4294967295],0);function VM(t){const e=are().encode(t),n=new Wz;return n.update(e),new Uint8Array(n.digest())}function UM(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ec([n,r],0),new ec([i,s],0)]}class CC{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new qm(`Invalid padding: ${n}`);if(r<0)throw new qm(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new qm(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new qm(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ec.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(ec.fromNumber(r)));return i.compare(ore)===1&&(i=new ec([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=VM(e),[r,i]=UM(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(r,i,s);if(!this.we(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new CC(s,i,n);return r.forEach((l=>a.insert(l))),a}insert(e){if(this.ge===0)return;const n=VM(e),[r,i]=UM(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(r,i,s);this.Se(a)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class qm extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class kx{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,hg.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new kx(Ge.min(),i,new pn(ot),zo(),lt())}}class hg{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new hg(r,n,lt(),lt(),lt())}}class bv{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class VB{constructor(e,n){this.targetId=e,this.Ce=n}}class UB{constructor(e,n,r=br.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class zM{constructor(){this.ve=0,this.Fe=BM(),this.Me=br.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=lt(),n=lt(),r=lt();return this.Fe.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Fe(38017,{changeType:s})}})),new hg(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=BM()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,St(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class lre{constructor(e){this.Ge=e,this.ze=new Map,this.je=zo(),this.Je=Sy(),this.He=Sy(),this.Ye=new pn(ot)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Fe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(YT(s))if(r===0){const a=new De(s.path);this.et(n,a,qr.newNoDocument(a,Ge.min()))}else St(r===1,20013,{expectedCount:r});else{const a=this._t(n);if(a!==r){const l=this.ut(e),u=l?this.ct(l,e,a):1;if(u!==0){this.it(n);const d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let a,l;try{a=lc(r).toUint8Array()}catch(u){if(u instanceof aB)return zu("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new CC(a,i,s)}catch(u){return zu(u instanceof qm?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.ge===0?null:l}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((s=>{const a=this.Ge.ht(),l=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.et(n,s,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((s,a)=>{const l=this.ot(a);if(l){if(s.current&&YT(l.target)){const u=new De(l.target.path);this.It(u).has(a)||this.Et(a,u)||this.et(a,u,qr.newNoDocument(u,e))}s.Be&&(n.set(a,s.ke()),s.qe())}}));let r=lt();this.He.forEach(((s,a)=>{let l=!0;a.forEachWhile((u=>{const d=this.ot(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)})),l&&(r=r.add(s))})),this.je.forEach(((s,a)=>a.setReadTime(e)));const i=new kx(e,n,this.Ye,this.je,r);return this.je=zo(),this.Je=Sy(),this.He=Sy(),this.Ye=new pn(ot),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new zM,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Jn(ot),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Jn(ot),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Ne("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new zM),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Sy(){return new pn(De.comparator)}function BM(){return new pn(De.comparator)}const cre={asc:"ASCENDING",desc:"DESCENDING"},ure={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dre={and:"AND",or:"OR"};class fre{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function QT(t,e){return t.useProto3Json||Nx(e)?e:{value:e}}function Kv(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zB(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function hre(t,e){return Kv(t,e.toTimestamp())}function La(t){return St(!!t,49232),Ge.fromTimestamp((function(n){const r=oc(n);return new At(r.seconds,r.nanos)})(t))}function PC(t,e){return ZT(t,e).canonicalString()}function ZT(t,e){const n=(function(i){return new Kt(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function BB(t){const e=Kt.fromString(t);return St(KB(e),10190,{key:e.toString()}),e}function JT(t,e){return PC(t.databaseId,e.path)}function uE(t,e){const n=BB(e);if(n.get(1)!==t.databaseId.projectId)throw new Te(pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Te(pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new De($B(n))}function FB(t,e){return PC(t.databaseId,e)}function mre(t){const e=BB(t);return e.length===4?Kt.emptyPath():$B(e)}function eA(t){return new Kt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function $B(t){return St(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function FM(t,e,n){return{name:JT(t,e),fields:n.value.mapValue.fields}}function pre(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Fe(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(d,f){return d.useProto3Json?(St(f===void 0||typeof f=="string",58123),br.fromBase64String(f||"")):(St(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),br.fromUint8Array(f||new Uint8Array))})(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&(function(d){const f=d.code===void 0?pe.UNKNOWN:LB(d.code);return new Te(f,d.message||"")})(a);n=new UB(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=uE(t,r.document.name),s=La(r.document.updateTime),a=r.document.createTime?La(r.document.createTime):Ge.min(),l=new Ei({mapValue:{fields:r.document.fields}}),u=qr.newFoundDocument(i,s,a,l),d=r.targetIds||[],f=r.removedTargetIds||[];n=new bv(d,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=uE(t,r.document),s=r.readTime?La(r.readTime):Ge.min(),a=qr.newNoDocument(i,s),l=r.removedTargetIds||[];n=new bv([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=uE(t,r.document),s=r.removedTargetIds||[];n=new bv([],s,i,null)}else{if(!("filter"in e))return Fe(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,a=new ire(i,s),l=r.targetId;n=new VB(l,a)}}return n}function gre(t,e){let n;if(e instanceof fg)n={update:FM(t,e.key,e.value)};else if(e instanceof DB)n={delete:JT(t,e.key)};else if(e instanceof Nc)n={update:FM(t,e.key,e.data),updateMask:Tre(e.fieldMask)};else{if(!(e instanceof ere))return Fe(16599,{Vt:e.type});n={verify:JT(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,a){const l=a.transform;if(l instanceof Np)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Cp)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Pp)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Ip)return{fieldPath:a.field.canonicalString(),increment:l.Ae};throw Fe(20930,{transform:a.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:hre(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Fe(27497)})(t,e.precondition)),n}function yre(t,e){return t&&t.length>0?(St(e!==void 0,14353),t.map((n=>(function(i,s){let a=i.updateTime?La(i.updateTime):La(s);return a.isEqual(Ge.min())&&(a=La(s)),new Qne(a,i.transformResults||[])})(n,e)))):[]}function vre(t,e){return{documents:[FB(t,e.path)]}}function qB(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=FB(t,i);const s=(function(d){if(d.length!==0)return WB(Js.create(d,"and"))})(e.filters);s&&(n.structuredQuery.where=s);const a=(function(d){if(d.length!==0)return d.map((f=>(function(y){return{field:ql(y.field),direction:_re(y.dir)}})(f)))})(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=QT(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:n,parent:i}}function bre(t,e,n,r){const{ft:i,parent:s}=qB(t,e),a={},l=[];let u=0;return n.forEach((d=>{const f="aggregate_"+u++;a[f]=d.alias,d.aggregateType==="count"?l.push({alias:f,count:{}}):d.aggregateType==="avg"?l.push({alias:f,avg:{field:ql(d.fieldPath)}}):d.aggregateType==="sum"&&l.push({alias:f,sum:{field:ql(d.fieldPath)}})})),{request:{structuredAggregationQuery:{aggregations:l,structuredQuery:i.structuredQuery},parent:i.parent},gt:a,parent:s}}function xre(t){let e=mre(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){St(r===1,65062);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=(function(m){const y=HB(m);return y instanceof Js&&gB(y)?y.getFilters():[y]})(n.where));let a=[];n.orderBy&&(a=(function(m){return m.map((y=>(function(_){return new Ap(nf(_.field),(function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(_.direction))})(y)))})(n.orderBy));let l=null;n.limit&&(l=(function(m){let y;return y=typeof m=="object"?m.value:m,Nx(y)?null:y})(n.limit));let u=null;n.startAt&&(u=(function(m){const y=!!m.before,v=m.values||[];return new Hv(v,y)})(n.startAt));let d=null;return n.endAt&&(d=(function(m){const y=!m.before,v=m.values||[];return new Hv(v,y)})(n.endAt)),Une(e,i,a,s,l,"F",u,d)}function wre(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Fe(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function HB(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=nf(n.unaryFilter.field);return $n.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=nf(n.unaryFilter.field);return $n.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=nf(n.unaryFilter.field);return $n.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=nf(n.unaryFilter.field);return $n.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Fe(61313);default:return Fe(60726)}})(t):t.fieldFilter!==void 0?(function(n){return $n.create(nf(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Fe(58110);default:return Fe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Js.create(n.compositeFilter.filters.map((r=>HB(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Fe(1026)}})(n.compositeFilter.op))})(t):Fe(30097,{filter:t})}function _re(t){return cre[t]}function Ere(t){return ure[t]}function Sre(t){return dre[t]}function ql(t){return{fieldPath:t.canonicalString()}}function nf(t){return gr.fromServerFormat(t.fieldPath)}function WB(t){return t instanceof $n?(function(n){if(n.op==="=="){if(PM(n.value))return{unaryFilter:{field:ql(n.field),op:"IS_NAN"}};if(CM(n.value))return{unaryFilter:{field:ql(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(PM(n.value))return{unaryFilter:{field:ql(n.field),op:"IS_NOT_NAN"}};if(CM(n.value))return{unaryFilter:{field:ql(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ql(n.field),op:Ere(n.op),value:n.value}}})(t):t instanceof Js?(function(n){const r=n.getFilters().map((i=>WB(i)));return r.length===1?r[0]:{compositeFilter:{op:Sre(n.op),filters:r}}})(t):Fe(54877,{filter:t})}function Tre(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function KB(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class Gl{constructor(e,n,r,i,s=Ge.min(),a=Ge.min(),l=br.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new Gl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Gl(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Gl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Gl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Are{constructor(e){this.yt=e}}function Nre(t){const e=xre({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Wv(e,e.limit,"L"):e}class Cre{constructor(){this.Cn=new Pre}addToCollectionParentIndex(e,n){return this.Cn.add(n),ve.resolve()}getCollectionParents(e,n){return ve.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ve.resolve()}deleteFieldIndex(e,n){return ve.resolve()}deleteAllFieldIndexes(e){return ve.resolve()}createTargetIndexes(e,n){return ve.resolve()}getDocumentsMatchingTarget(e,n){return ve.resolve(null)}getIndexType(e,n){return ve.resolve(0)}getFieldIndexes(e,n){return ve.resolve([])}getNextCollectionGroupToUpdate(e){return ve.resolve(null)}getMinOffset(e,n){return ve.resolve(ac.min())}getMinOffsetFromCollectionGroup(e,n){return ve.resolve(ac.min())}updateCollectionGroup(e,n,r){return ve.resolve()}updateIndexEntries(e,n){return ve.resolve()}}class Pre{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Jn(Kt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Jn(Kt.comparator)).toArray()}}const $M={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},GB=41943040;class _i{static withCacheSize(e){return new _i(e,_i.DEFAULT_COLLECTION_PERCENTILE,_i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}_i.DEFAULT_COLLECTION_PERCENTILE=10,_i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_i.DEFAULT=new _i(GB,_i.DEFAULT_COLLECTION_PERCENTILE,_i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_i.DISABLED=new _i(-1,0,0);class Rf{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Rf(0)}static cr(){return new Rf(-1)}}const qM="LruGarbageCollector",Ire=1048576;function HM([t,e],[n,r]){const i=ot(t,n);return i===0?ot(e,r):i}class Ore{constructor(e){this.Ir=e,this.buffer=new Jn(HM),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();HM(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class jre{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ne(qM,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ih(n)?Ne(qM,"Ignoring IndexedDB error during garbage collection: ",n):await rh(n)}await this.Vr(3e5)}))}}class Rre{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ve.resolve(Ax.ce);const r=new Ore(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ne("LruGarbageCollector","Garbage collection skipped; disabled"),ve.resolve($M)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Ne("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$M):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,a,l,u,d;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((m=>(m>this.params.maximumSequenceNumbersToCollect?(Ne("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,a=Date.now(),this.nthSequenceNumber(e,i)))).next((m=>(r=m,l=Date.now(),this.removeTargets(e,r,n)))).next((m=>(s=m,u=Date.now(),this.removeOrphanedDocuments(e,r)))).next((m=>(d=Date.now(),ef()<=rt.DEBUG&&Ne("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-f}ms
	Determined least recently used ${i} in `+(l-a)+`ms
	Removed ${s} targets in `+(u-l)+`ms
	Removed ${m} documents in `+(d-u)+`ms
Total Duration: ${d-f}ms`),ve.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:m}))))}}function kre(t,e){return new Rre(t,e)}class Mre{constructor(){this.changes=new nd((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,qr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ve.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Dre{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class Lre{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&rp(r.mutation,i,Hi.empty(),At.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,lt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=lt()){const i=xu();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((s=>{let a=$m();return s.forEach(((l,u)=>{a=a.insert(l,u.overlayedDocument)})),a}))))}getOverlayedDocuments(e,n){const r=xu();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,lt())))}populateOverlays(e,n,r){const i=[];return r.forEach((s=>{n.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((a,l)=>{n.set(a,l)}))}))}computeViews(e,n,r,i){let s=zo();const a=np(),l=(function(){return np()})();return n.forEach(((u,d)=>{const f=r.get(d.key);i.has(d.key)&&(f===void 0||f.mutation instanceof Nc)?s=s.insert(d.key,d):f!==void 0?(a.set(d.key,f.mutation.getFieldMask()),rp(f.mutation,d,f.mutation.getFieldMask(),At.now())):a.set(d.key,Hi.empty())})),this.recalculateAndSaveOverlays(e,s).next((u=>(u.forEach(((d,f)=>a.set(d,f))),n.forEach(((d,f)=>l.set(d,new Dre(f,a.get(d)??null)))),l)))}recalculateAndSaveOverlays(e,n){const r=np();let i=new pn(((a,l)=>a-l)),s=lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((a=>{for(const l of a)l.keys().forEach((u=>{const d=n.get(u);if(d===null)return;let f=r.get(u)||Hi.empty();f=l.applyToLocalView(d,f),r.set(u,f);const m=(i.get(l.batchId)||lt()).add(u);i=i.insert(l.batchId,m)}))})).next((()=>{const a=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),d=u.key,f=u.value,m=AB();f.forEach((y=>{if(!s.has(y)){const v=kB(n.get(y),r.get(y));v!==null&&m.set(y,v),s=s.add(y)}})),a.push(this.documentOverlayCache.saveOverlays(e,d,m))}return ve.waitFor(a)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(a){return De.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):xB(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):ve.resolve(xu());let l=Ep,u=s;return a.next((d=>ve.forEach(d,((f,m)=>(l<m.largestBatchId&&(l=m.largestBatchId),s.get(f)?ve.resolve():this.remoteDocumentCache.getEntry(e,f).next((y=>{u=u.insert(f,y)}))))).next((()=>this.populateOverlays(e,d,s))).next((()=>this.computeViews(e,u,d,lt()))).next((f=>({batchId:l,changes:TB(f)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new De(n)).next((r=>{let i=$m();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let a=$m();return this.indexManager.getCollectionParents(e,s).next((l=>ve.forEach(l,(u=>{const d=(function(m,y){return new sh(y,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)})(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next((f=>{f.forEach(((m,y)=>{a=a.insert(m,y)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i)))).next((a=>{s.forEach(((u,d)=>{const f=d.getKey();a.get(f)===null&&(a=a.insert(f,qr.newInvalidDocument(f)))}));let l=$m();return a.forEach(((u,d)=>{const f=s.get(u);f!==void 0&&rp(f.mutation,d,Hi.empty(),At.now()),Ox(n,d)&&(l=l.insert(u,d))})),l}))}}class Vre{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ve.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:La(i.createTime)}})(n)),ve.resolve()}getNamedQuery(e,n){return ve.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:Nre(i.bundledQuery),readTime:La(i.readTime)}})(n)),ve.resolve()}}class Ure{constructor(){this.overlays=new pn(De.comparator),this.qr=new Map}getOverlay(e,n){return ve.resolve(this.overlays.get(n))}getOverlays(e,n){const r=xu();return ve.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,s)=>{this.St(e,n,s)})),ve.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.qr.delete(r)),ve.resolve()}getOverlaysForCollection(e,n,r){const i=xu(),s=n.length+1,a=new De(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const u=l.getNext().value,d=u.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return ve.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new pn(((d,f)=>d-f));const a=this.overlays.getIterator();for(;a.hasNext();){const d=a.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let f=s.get(d.largestBatchId);f===null&&(f=xu(),s=s.insert(d.largestBatchId,f)),f.set(d.getKey(),d)}}const l=xu(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach(((d,f)=>l.set(d,f))),!(l.size()>=i)););return ve.resolve(l)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new nre(n,r));let s=this.qr.get(n);s===void 0&&(s=lt(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}class zre{constructor(){this.sessionToken=br.EMPTY_BYTE_STRING}getSessionToken(e){return ve.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ve.resolve()}}class IC{constructor(){this.Qr=new Jn(mr.$r),this.Ur=new Jn(mr.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new mr(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new mr(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new De(new Kt([])),r=new mr(n,e),i=new mr(n,e+1),s=[];return this.Ur.forEachInRange([r,i],(a=>{this.Gr(a),s.push(a.key)})),s}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new De(new Kt([])),r=new mr(n,e),i=new mr(n,e+1);let s=lt();return this.Ur.forEachInRange([r,i],(a=>{s=s.add(a.key)})),s}containsKey(e){const n=new mr(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class mr{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return De.comparator(e.key,n.key)||ot(e.Yr,n.Yr)}static Kr(e,n){return ot(e.Yr,n.Yr)||De.comparator(e.key,n.key)}}class Bre{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Jn(mr.$r)}checkEmpty(e){return ve.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new tre(s,n,r,i);this.mutationQueue.push(a);for(const l of i)this.Zr=this.Zr.add(new mr(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return ve.resolve(a)}lookupMutationBatch(e,n){return ve.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return ve.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ve.resolve(this.mutationQueue.length===0?wC:this.tr-1)}getAllMutationBatches(e){return ve.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new mr(n,0),i=new mr(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],(a=>{const l=this.Xr(a.Yr);s.push(l)})),ve.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Jn(ot);return n.forEach((i=>{const s=new mr(i,0),a=new mr(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,a],(l=>{r=r.add(l.Yr)}))})),ve.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;De.isDocumentKey(s)||(s=s.child(""));const a=new mr(new De(s),0);let l=new Jn(ot);return this.Zr.forEachWhile((u=>{const d=u.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(l=l.add(u.Yr)),!0)}),a),ve.resolve(this.ti(l))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){St(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ve.forEach(n.mutations,(i=>{const s=new mr(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new mr(n,0),i=this.Zr.firstAfterOrEqual(r);return ve.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ve.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Fre{constructor(e){this.ri=e,this.docs=(function(){return new pn(De.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,a=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ve.resolve(r?r.document.mutableCopy():qr.newInvalidDocument(n))}getEntries(e,n){let r=zo();return n.forEach((i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():qr.newInvalidDocument(i))})),ve.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=zo();const a=n.path,l=new De(a.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:d,value:{document:f}}=u.getNext();if(!a.isPrefixOf(d.path))break;d.path.length>a.length+1||gne(pne(f),r)<=0||(i.has(f.key)||Ox(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return ve.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Fe(9500)}ii(e,n){return ve.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new $re(this)}getSize(e){return ve.resolve(this.size)}}class $re extends Mre{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),ve.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class qre{constructor(e){this.persistence=e,this.si=new nd((n=>SC(n)),TC),this.lastRemoteSnapshotVersion=Ge.min(),this.highestTargetId=0,this.oi=0,this._i=new IC,this.targetCount=0,this.ai=Rf.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),ve.resolve()}getLastRemoteSnapshotVersion(e){return ve.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ve.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ve.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),ve.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Rf(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ve.resolve()}updateTargetData(e,n){return this.Pr(n),ve.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ve.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach(((a,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.si.delete(a),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)})),ve.waitFor(s).next((()=>i))}getTargetCount(e){return ve.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return ve.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),ve.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach((a=>{s.push(i.markPotentiallyOrphaned(e,a))})),ve.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ve.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return ve.resolve(r)}containsKey(e,n){return ve.resolve(this._i.containsKey(n))}}class YB{constructor(e,n){this.ui={},this.overlays={},this.ci=new Ax(0),this.li=!1,this.li=!0,this.hi=new zre,this.referenceDelegate=e(this),this.Pi=new qre(this),this.indexManager=new Cre,this.remoteDocumentCache=(function(i){return new Fre(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new Are(n),this.Ii=new Vre(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Ure,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new Bre(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Ne("MemoryPersistence","Starting transaction:",e);const i=new Hre(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((s=>this.referenceDelegate.di(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Ai(e,n){return ve.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class Hre extends vne{constructor(e){super(),this.currentSequenceNumber=e}}class OC{constructor(e){this.persistence=e,this.Ri=new IC,this.Vi=null}static mi(e){return new OC(e)}get fi(){if(this.Vi)return this.Vi;throw Fe(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),ve.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),ve.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ve.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((s=>this.fi.add(s.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ve.forEach(this.fi,(r=>{const i=De.fromPath(r);return this.gi(e,i).next((s=>{s||n.removeEntry(i,Ge.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ve.or([()=>ve.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Gv{constructor(e,n){this.persistence=e,this.pi=new nd((r=>wne(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=kre(this,n)}static mi(e,n){return new Gv(e,n)}Ei(){}di(e){return ve.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return ve.forEach(this.pi,((r,i)=>this.br(e,r,i).next((s=>s?ve.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,(a=>this.br(e,a,n).next((l=>{l||(r++,s.removeEntry(a,Ge.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ve.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ve.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ve.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ve.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=gv(e.data.value)),n}br(e,n,r){return ve.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return ve.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class jC{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=lt(),i=lt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new jC(e,n.fromCache,r,i)}}class Wre{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Kre{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return EZ()?8:bne(Gr())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next((a=>{s.result=a})).next((()=>{if(!s.result)return this.ws(e,n,i,r).next((a=>{s.result=a}))})).next((()=>{if(s.result)return;const a=new Wre;return this.Ss(e,n,a).next((l=>{if(s.result=l,this.Vs)return this.bs(e,n,a,l.size)}))})).next((()=>s.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(ef()<=rt.DEBUG&&Ne("QueryEngine","SDK will not create cache indexes for query:",tf(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ve.resolve()):(ef()<=rt.DEBUG&&Ne("QueryEngine","Query:",tf(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(ef()<=rt.DEBUG&&Ne("QueryEngine","The SDK decides to create cache indexes for query:",tf(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Da(n))):ve.resolve())}ys(e,n){if(RM(n))return ve.resolve(null);let r=Da(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=Wv(n,null,"F"),r=Da(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const a=lt(...s);return this.ps.getDocuments(e,a).next((l=>this.indexManager.getMinOffset(e,r).next((u=>{const d=this.Ds(n,l);return this.Cs(n,d,a,u.readTime)?this.ys(e,Wv(n,null,"F")):this.vs(e,d,n,u)}))))})))))}ws(e,n,r,i){return RM(n)||i.isEqual(Ge.min())?ve.resolve(null):this.ps.getDocuments(e,r).next((s=>{const a=this.Ds(n,s);return this.Cs(n,a,r,i)?ve.resolve(null):(ef()<=rt.DEBUG&&Ne("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),tf(n)),this.vs(e,a,n,mne(i,Ep)).next((l=>l)))}))}Ds(e,n){let r=new Jn(EB(e));return n.forEach(((i,s)=>{Ox(e,s)&&(r=r.add(s))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return ef()<=rt.DEBUG&&Ne("QueryEngine","Using full collection scan to execute query:",tf(n)),this.ps.getDocumentsMatchingQuery(e,n,ac.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((s=>(n.forEach((a=>{s=s.insert(a.key,a)})),s)))}}const RC="LocalStore",Gre=3e8;class Yre{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new pn(ot),this.xs=new nd((s=>SC(s)),TC),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Lre(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function Xre(t,e,n,r){return new Yre(t,e,n,r)}async function XB(t,e){const n=He(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((s=>{const a=[],l=[];let u=lt();for(const d of i){a.push(d.batchId);for(const f of d.mutations)u=u.add(f.key)}for(const d of s){l.push(d.batchId);for(const f of d.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next((d=>({Ls:d,removedBatchIds:a,addedBatchIds:l})))}))}))}function Qre(t,e){const n=He(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(l,u,d,f){const m=d.batch,y=m.keys();let v=ve.resolve();return y.forEach((_=>{v=v.next((()=>f.getEntry(u,_))).next((E=>{const w=d.docVersions.get(_);St(w!==null,48541),E.version.compareTo(w)<0&&(m.applyToRemoteDocument(E,d),E.isValidDocument()&&(E.setReadTime(d.commitVersion),f.addEntry(E)))}))})),v.next((()=>l.mutationQueue.removeMutationBatch(u,m)))})(n,r,e,s).next((()=>s.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(l){let u=lt();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(u=u.add(l.batch.mutations[d].key));return u})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function QB(t){const e=He(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function Zre(t,e){const n=He(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const a=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const l=[];e.targetChanges.forEach(((f,m)=>{const y=i.get(m);if(!y)return;l.push(n.Pi.removeMatchingKeys(s,f.removedDocuments,m).next((()=>n.Pi.addMatchingKeys(s,f.addedDocuments,m))));let v=y.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(m)!==null?v=v.withResumeToken(br.EMPTY_BYTE_STRING,Ge.min()).withLastLimboFreeSnapshotVersion(Ge.min()):f.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(f.resumeToken,r)),i=i.insert(m,v),(function(E,w,A){return E.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=Gre?!0:A.addedDocuments.size+A.modifiedDocuments.size+A.removedDocuments.size>0})(y,v,f)&&l.push(n.Pi.updateTargetData(s,v))}));let u=zo(),d=lt();if(e.documentUpdates.forEach((f=>{e.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))})),l.push(Jre(s,a,e.documentUpdates).next((f=>{u=f.ks,d=f.qs}))),!r.isEqual(Ge.min())){const f=n.Pi.getLastRemoteSnapshotVersion(s).next((m=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r)));l.push(f)}return ve.waitFor(l).next((()=>a.apply(s))).next((()=>n.localDocuments.getLocalViewOfDocuments(s,u,d))).next((()=>u))})).then((s=>(n.Ms=i,s)))}function Jre(t,e,n){let r=lt(),i=lt();return n.forEach((s=>r=r.add(s))),e.getEntries(t,r).next((s=>{let a=zo();return n.forEach(((l,u)=>{const d=s.get(l);u.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(l)),u.isNoDocument()&&u.version.isEqual(Ge.min())?(e.removeEntry(l,u.readTime),a=a.insert(l,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(u),a=a.insert(l,u)):Ne(RC,"Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",u.version)})),{ks:a,qs:i}}))}function eie(t,e){const n=He(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=wC),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function tie(t,e){const n=He(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((s=>s?(i=s,ve.resolve(i)):n.Pi.allocateTargetId(r).next((a=>(i=new Gl(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function tA(t,e,n){const r=He(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(a=>r.persistence.referenceDelegate.removeTarget(a,i)))}catch(a){if(!ih(a))throw a;Ne(RC,`Failed to update sequence numbers for target ${e}: ${a}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function WM(t,e,n){const r=He(t);let i=Ge.min(),s=lt();return r.persistence.runTransaction("Execute query","readwrite",(a=>(function(u,d,f){const m=He(u),y=m.xs.get(f);return y!==void 0?ve.resolve(m.Ms.get(y)):m.Pi.getTargetData(d,f)})(r,a,Da(e)).next((l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(a,l.targetId).next((u=>{s=u}))})).next((()=>r.Fs.getDocumentsMatchingQuery(a,e,n?i:Ge.min(),n?s:lt()))).next((l=>(nie(r,Bne(e),l),{documents:l,Qs:s})))))}function nie(t,e,n){let r=t.Os.get(e)||Ge.min();n.forEach(((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),t.Os.set(e,r)}class KM{constructor(){this.activeTargetIds=Kne()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class rie{constructor(){this.Mo=new KM,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new KM,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class iie{Oo(e){}shutdown(){}}const GM="ConnectivityMonitor";class YM{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ne(GM,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ne(GM,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Ty=null;function nA(){return Ty===null?Ty=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ty++,"0x"+Ty.toString(16)}const dE="RestConnection",sie={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class aie{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===$v?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const a=nA(),l=this.zo(e,n.toUriEncodedString());Ne(dE,`Sending RPC '${e}' ${a}:`,l,r);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,i,s);const{host:d}=new URL(l),f=Ka(d);return this.Jo(e,l,u,r,f).then((m=>(Ne(dE,`Received RPC '${e}' ${a}: `,m),m)),(m=>{throw zu(dE,`RPC '${e}' ${a} failed with error: `,m,"url: ",l,"request:",r),m}))}Ho(e,n,r,i,s,a){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+nh})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,s)=>e[s]=i)),r&&r.headers.forEach(((i,s)=>e[s]=i))}zo(e,n){const r=sie[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class oie{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const zr="WebChannelConnection";class lie extends aie{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const a=nA();return new Promise(((l,u)=>{const d=new Kz;d.setWithCredentials(!0),d.listenOnce(Gz.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case pv.NO_ERROR:const m=d.getResponseJson();Ne(zr,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(m)),l(m);break;case pv.TIMEOUT:Ne(zr,`RPC '${e}' ${a} timed out`),u(new Te(pe.DEADLINE_EXCEEDED,"Request time out"));break;case pv.HTTP_ERROR:const y=d.getStatus();if(Ne(zr,`RPC '${e}' ${a} failed with status:`,y,"response text:",d.getResponseText()),y>0){let v=d.getResponseJson();Array.isArray(v)&&(v=v[0]);const _=v?.error;if(_&&_.status&&_.message){const E=(function(A){const C=A.toLowerCase().replace(/_/g,"-");return Object.values(pe).indexOf(C)>=0?C:pe.UNKNOWN})(_.status);u(new Te(E,_.message))}else u(new Te(pe.UNKNOWN,"Server responded with status "+d.getStatus()))}else u(new Te(pe.UNAVAILABLE,"Connection failed."));break;default:Fe(9055,{l_:e,streamId:a,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{Ne(zr,`RPC '${e}' ${a} completed.`)}}));const f=JSON.stringify(i);Ne(zr,`RPC '${e}' ${a} sending request:`,i),d.send(n,"POST",f,r,15)}))}T_(e,n,r){const i=nA(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=Qz(),l=Xz(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const f=s.join("");Ne(zr,`Creating RPC '${e}' stream ${i}: ${f}`,u);const m=a.createWebChannel(f,u);this.I_(m);let y=!1,v=!1;const _=new oie({Yo:w=>{v?Ne(zr,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(y||(Ne(zr,`Opening RPC '${e}' stream ${i} transport.`),m.open(),y=!0),Ne(zr,`RPC '${e}' stream ${i} sending:`,w),m.send(w))},Zo:()=>m.close()}),E=(w,A,C)=>{w.listen(A,(P=>{try{C(P)}catch(L){setTimeout((()=>{throw L}),0)}}))};return E(m,Fm.EventType.OPEN,(()=>{v||(Ne(zr,`RPC '${e}' stream ${i} transport opened.`),_.o_())})),E(m,Fm.EventType.CLOSE,(()=>{v||(v=!0,Ne(zr,`RPC '${e}' stream ${i} transport closed`),_.a_(),this.E_(m))})),E(m,Fm.EventType.ERROR,(w=>{v||(v=!0,zu(zr,`RPC '${e}' stream ${i} transport errored. Name:`,w.name,"Message:",w.message),_.a_(new Te(pe.UNAVAILABLE,"The operation could not be completed")))})),E(m,Fm.EventType.MESSAGE,(w=>{if(!v){const A=w.data[0];St(!!A,16349);const C=A,P=C?.error||C[0]?.error;if(P){Ne(zr,`RPC '${e}' stream ${i} received error:`,P);const L=P.status;let M=(function(R){const D=zn[R];if(D!==void 0)return LB(D)})(L),z=P.message;M===void 0&&(M=pe.INTERNAL,z="Unknown error status: "+L+" with message "+P.message),v=!0,_.a_(new Te(M,z)),m.close()}else Ne(zr,`RPC '${e}' stream ${i} received:`,A),_.u_(A)}})),E(l,Yz.STAT_EVENT,(w=>{w.stat===qT.PROXY?Ne(zr,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===qT.NOPROXY&&Ne(zr,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{_.__()}),0),_}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function fE(){return typeof document<"u"?document:null}function Mx(t){return new fre(t,!0)}class ZB{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Ne("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const XM="PersistentStream";class JB{constructor(e,n,r,i,s,a,l,u){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ZB(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===pe.RESOURCE_EXHAUSTED?(Uo(n.toString()),Uo("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===pe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new Te(pe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ne(XM,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Ne(XM,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class cie extends JB{constructor(e,n,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=pre(this.serializer,e),r=(function(s){if(!("targetChange"in s))return Ge.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?Ge.min():a.readTime?La(a.readTime):Ge.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=eA(this.serializer),n.addTarget=(function(s,a){let l;const u=a.target;if(l=YT(u)?{documents:vre(s,u)}:{query:qB(s,u).ft},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=zB(s,a.resumeToken);const d=QT(s,a.expectedCount);d!==null&&(l.expectedCount=d)}else if(a.snapshotVersion.compareTo(Ge.min())>0){l.readTime=Kv(s,a.snapshotVersion.toTimestamp());const d=QT(s,a.expectedCount);d!==null&&(l.expectedCount=d)}return l})(this.serializer,e);const r=wre(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=eA(this.serializer),n.removeTarget=e,this.q_(n)}}class uie extends JB{constructor(e,n,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return St(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,St(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){St(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=yre(e.writeResults,e.commitTime),r=La(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=eA(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>gre(this.serializer,r)))};this.q_(n)}}class die{}class fie extends die{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Te(pe.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,a])=>this.connection.Go(e,ZT(n,r),i,s,a))).catch((s=>{throw s.name==="FirebaseError"?(s.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Te(pe.UNKNOWN,s.toString())}))}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.Ho(e,ZT(n,r),i,a,l,s))).catch((a=>{throw a.name==="FirebaseError"?(a.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Te(pe.UNKNOWN,a.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class hie{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Uo(n),this.aa=!1):Ne("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Bu="RemoteStore";class mie{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo((a=>{r.enqueueAndForget((async()=>{rd(this)&&(Ne(Bu,"Restarting streams for network reachability change."),await(async function(u){const d=He(u);d.Ea.add(4),await mg(d),d.Ra.set("Unknown"),d.Ea.delete(4),await Dx(d)})(this))}))})),this.Ra=new hie(r,i)}}async function Dx(t){if(rd(t))for(const e of t.da)await e(!0)}async function mg(t){for(const e of t.da)await e(!1)}function e8(t,e){const n=He(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),LC(n)?DC(n):ah(n).O_()&&MC(n,e))}function kC(t,e){const n=He(t),r=ah(n);n.Ia.delete(e),r.O_()&&t8(n,e),n.Ia.size===0&&(r.O_()?r.L_():rd(n)&&n.Ra.set("Unknown"))}function MC(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ge.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ah(t).Y_(e)}function t8(t,e){t.Va.Ue(e),ah(t).Z_(e)}function DC(t){t.Va=new lre({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),ah(t).start(),t.Ra.ua()}function LC(t){return rd(t)&&!ah(t).x_()&&t.Ia.size>0}function rd(t){return He(t).Ea.size===0}function n8(t){t.Va=void 0}async function pie(t){t.Ra.set("Online")}async function gie(t){t.Ia.forEach(((e,n)=>{MC(t,e)}))}async function yie(t,e){n8(t),LC(t)?(t.Ra.ha(e),DC(t)):t.Ra.set("Unknown")}async function vie(t,e,n){if(t.Ra.set("Online"),e instanceof UB&&e.state===2&&e.cause)try{await(async function(i,s){const a=s.cause;for(const l of s.targetIds)i.Ia.has(l)&&(await i.remoteSyncer.rejectListen(l,a),i.Ia.delete(l),i.Va.removeTarget(l))})(t,e)}catch(r){Ne(Bu,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Yv(t,r)}else if(e instanceof bv?t.Va.Ze(e):e instanceof VB?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ge.min()))try{const r=await QB(t.localStore);n.compareTo(r)>=0&&await(function(s,a){const l=s.Va.Tt(a);return l.targetChanges.forEach(((u,d)=>{if(u.resumeToken.approximateByteSize()>0){const f=s.Ia.get(d);f&&s.Ia.set(d,f.withResumeToken(u.resumeToken,a))}})),l.targetMismatches.forEach(((u,d)=>{const f=s.Ia.get(u);if(!f)return;s.Ia.set(u,f.withResumeToken(br.EMPTY_BYTE_STRING,f.snapshotVersion)),t8(s,u);const m=new Gl(f.target,u,d,f.sequenceNumber);MC(s,m)})),s.remoteSyncer.applyRemoteEvent(l)})(t,n)}catch(r){Ne(Bu,"Failed to raise snapshot:",r),await Yv(t,r)}}async function Yv(t,e,n){if(!ih(e))throw e;t.Ea.add(1),await mg(t),t.Ra.set("Offline"),n||(n=()=>QB(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Ne(Bu,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Dx(t)}))}function r8(t,e){return e().catch((n=>Yv(t,n,e)))}async function Lx(t){const e=He(t),n=uc(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:wC;for(;bie(e);)try{const i=await eie(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,xie(e,i)}catch(i){await Yv(e,i)}i8(e)&&s8(e)}function bie(t){return rd(t)&&t.Ta.length<10}function xie(t,e){t.Ta.push(e);const n=uc(t);n.O_()&&n.X_&&n.ea(e.mutations)}function i8(t){return rd(t)&&!uc(t).x_()&&t.Ta.length>0}function s8(t){uc(t).start()}async function wie(t){uc(t).ra()}async function _ie(t){const e=uc(t);for(const n of t.Ta)e.ea(n.mutations)}async function Eie(t,e,n){const r=t.Ta.shift(),i=NC.from(r,e,n);await r8(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Lx(t)}async function Sie(t,e){e&&uc(t).X_&&await(async function(r,i){if((function(a){return sre(a)&&a!==pe.ABORTED})(i.code)){const s=r.Ta.shift();uc(r).B_(),await r8(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i))),await Lx(r)}})(t,e),i8(t)&&s8(t)}async function QM(t,e){const n=He(t);n.asyncQueue.verifyOperationInProgress(),Ne(Bu,"RemoteStore received new credentials");const r=rd(n);n.Ea.add(3),await mg(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Dx(n)}async function Tie(t,e){const n=He(t);e?(n.Ea.delete(2),await Dx(n)):e||(n.Ea.add(2),await mg(n),n.Ra.set("Unknown"))}function ah(t){return t.ma||(t.ma=(function(n,r,i){const s=He(n);return s.sa(),new cie(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:pie.bind(null,t),t_:gie.bind(null,t),r_:yie.bind(null,t),H_:vie.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),LC(t)?DC(t):t.Ra.set("Unknown")):(await t.ma.stop(),n8(t))}))),t.ma}function uc(t){return t.fa||(t.fa=(function(n,r,i){const s=He(n);return s.sa(),new uie(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:wie.bind(null,t),r_:Sie.bind(null,t),ta:_ie.bind(null,t),na:Eie.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Lx(t)):(await t.fa.stop(),t.Ta.length>0&&(Ne(Bu,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class VC{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ma,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((a=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const a=Date.now()+r,l=new VC(e,n,a,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Te(pe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function UC(t,e){if(Uo("AsyncQueue",`${e}: ${t}`),ih(t))return new Te(pe.UNAVAILABLE,`${e}: ${t}`);throw t}class xf{static emptySet(e){return new xf(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||De.comparator(n.key,r.key):(n,r)=>De.comparator(n.key,r.key),this.keyedMap=$m(),this.sortedSet=new pn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof xf)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new xf;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class ZM{constructor(){this.ga=new pn(De.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Fe(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class kf{constructor(e,n,r,i,s,a,l,u,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,i,s){const a=[];return n.forEach((l=>{a.push({type:0,doc:l})})),new kf(e,n,xf.emptySet(n),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ix(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class Aie{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Nie{constructor(){this.queries=JM(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=He(n),s=i.queries;i.queries=JM(),s.forEach(((a,l)=>{for(const u of l.Sa)u.onError(r)}))})(this,new Te(pe.ABORTED,"Firestore shutting down"))}}function JM(){return new nd((t=>_B(t)),Ix)}async function zC(t,e){const n=He(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new Aie,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const l=UC(a,`Initialization of query '${tf(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&FC(n)}async function BC(t,e){const n=He(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const a=s.Sa.indexOf(e);a>=0&&(s.Sa.splice(a,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Cie(t,e){const n=He(t);let r=!1;for(const i of e){const s=i.query,a=n.queries.get(s);if(a){for(const l of a.Sa)l.Fa(i)&&(r=!0);a.wa=i}}r&&FC(n)}function Pie(t,e,n){const r=He(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function FC(t){t.Ca.forEach((e=>{e.next()}))}var rA,eD;(eD=rA||(rA={})).Ma="default",eD.Cache="cache";class $C{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new kf(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=kf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==rA.Cache}}class a8{constructor(e){this.key=e}}class o8{constructor(e){this.key=e}}class Iie{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=lt(),this.mutatedKeys=lt(),this.eu=EB(e),this.tu=new xf(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new ZM,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,a=i,l=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((f,m)=>{const y=i.get(f),v=Ox(this.query,m)?m:null,_=!!y&&this.mutatedKeys.has(y.key),E=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let w=!1;y&&v?y.data.isEqual(v.data)?_!==E&&(r.track({type:3,doc:v}),w=!0):this.su(y,v)||(r.track({type:2,doc:v}),w=!0,(u&&this.eu(v,u)>0||d&&this.eu(v,d)<0)&&(l=!0)):!y&&v?(r.track({type:0,doc:v}),w=!0):y&&!v&&(r.track({type:1,doc:y}),w=!0,(u||d)&&(l=!0)),w&&(v?(a=a.add(v),s=E?s.add(f):s.delete(f)):(a=a.delete(f),s=s.delete(f)))})),this.query.limit!==null)for(;a.size>this.query.limit;){const f=this.query.limitType==="F"?a.last():a.first();a=a.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{tu:a,iu:r,Cs:l,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort(((f,m)=>(function(v,_){const E=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Fe(20277,{Rt:w})}};return E(v)-E(_)})(f.type,m.type)||this.eu(f.doc,m.doc))),this.ou(r),i=i??!1;const l=n&&!i?this._u():[],u=this.Xa.size===0&&this.current&&!i?1:0,d=u!==this.Za;return this.Za=u,a.length!==0||d?{snapshot:new kf(this.query,e.tu,s,a,e.mutatedKeys,u===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new ZM,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=lt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new o8(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new a8(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=lt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return kf.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const qC="SyncEngine";class Oie{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class jie{constructor(e){this.key=e,this.hu=!1}}class Rie{constructor(e,n,r,i,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new nd((l=>_B(l)),Ix),this.Iu=new Map,this.Eu=new Set,this.du=new pn(De.comparator),this.Au=new Map,this.Ru=new IC,this.Vu={},this.mu=new Map,this.fu=Rf.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function kie(t,e,n=!0){const r=h8(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await l8(r,e,n,!0),i}async function Mie(t,e){const n=h8(t);await l8(n,e,!0,!1)}async function l8(t,e,n,r){const i=await tie(t.localStore,Da(e)),s=i.targetId,a=t.sharedClientState.addLocalQueryTarget(s,n);let l;return r&&(l=await Die(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&e8(t.remoteStore,i),l}async function Die(t,e,n,r,i){t.pu=(m,y,v)=>(async function(E,w,A,C){let P=w.view.ru(A);P.Cs&&(P=await WM(E.localStore,w.query,!1).then((({documents:j})=>w.view.ru(j,P))));const L=C&&C.targetChanges.get(w.targetId),M=C&&C.targetMismatches.get(w.targetId)!=null,z=w.view.applyChanges(P,E.isPrimaryClient,L,M);return nD(E,w.targetId,z.au),z.snapshot})(t,m,y,v);const s=await WM(t.localStore,e,!0),a=new Iie(e,s.Qs),l=a.ru(s.documents),u=hg.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),d=a.applyChanges(l,t.isPrimaryClient,u);nD(t,n,d.au);const f=new Oie(e,n,a);return t.Tu.set(e,f),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function Lie(t,e,n){const r=He(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter((a=>!Ix(a,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await tA(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&kC(r.remoteStore,i.targetId),iA(r,i.targetId)})).catch(rh)):(iA(r,i.targetId),await tA(r.localStore,i.targetId,!0))}async function Vie(t,e){const n=He(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),kC(n.remoteStore,r.targetId))}async function Uie(t,e,n){const r=Wie(t);try{const i=await(function(a,l){const u=He(a),d=At.now(),f=l.reduce(((v,_)=>v.add(_.key)),lt());let m,y;return u.persistence.runTransaction("Locally write mutations","readwrite",(v=>{let _=zo(),E=lt();return u.Ns.getEntries(v,f).next((w=>{_=w,_.forEach(((A,C)=>{C.isValidDocument()||(E=E.add(A))}))})).next((()=>u.localDocuments.getOverlayedDocuments(v,_))).next((w=>{m=w;const A=[];for(const C of l){const P=Jne(C,m.get(C.key).overlayedDocument);P!=null&&A.push(new Nc(C.key,P,hB(P.value.mapValue),Ys.exists(!0)))}return u.mutationQueue.addMutationBatch(v,d,A,l)})).next((w=>{y=w;const A=w.applyToLocalDocumentSet(m,E);return u.documentOverlayCache.saveOverlays(v,w.batchId,A)}))})).then((()=>({batchId:y.batchId,changes:TB(m)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(a,l,u){let d=a.Vu[a.currentUser.toKey()];d||(d=new pn(ot)),d=d.insert(l,u),a.Vu[a.currentUser.toKey()]=d})(r,i.batchId,n),await pg(r,i.changes),await Lx(r.remoteStore)}catch(i){const s=UC(i,"Failed to persist write");n.reject(s)}}async function c8(t,e){const n=He(t);try{const r=await Zre(n.localStore,e);e.targetChanges.forEach(((i,s)=>{const a=n.Au.get(s);a&&(St(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a.hu=!0:i.modifiedDocuments.size>0?St(a.hu,14607):i.removedDocuments.size>0&&(St(a.hu,42227),a.hu=!1))})),await pg(n,r,e)}catch(r){await rh(r)}}function tD(t,e,n){const r=He(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((s,a)=>{const l=a.view.va(e);l.snapshot&&i.push(l.snapshot)})),(function(a,l){const u=He(a);u.onlineState=l;let d=!1;u.queries.forEach(((f,m)=>{for(const y of m.Sa)y.va(l)&&(d=!0)})),d&&FC(u)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function zie(t,e,n){const r=He(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let a=new pn(De.comparator);a=a.insert(s,qr.newNoDocument(s,Ge.min()));const l=lt().add(s),u=new kx(Ge.min(),new Map,new pn(ot),a,l);await c8(r,u),r.du=r.du.remove(s),r.Au.delete(e),HC(r)}else await tA(r.localStore,e,!1).then((()=>iA(r,e,n))).catch(rh)}async function Bie(t,e){const n=He(t),r=e.batch.batchId;try{const i=await Qre(n.localStore,e);d8(n,r,null),u8(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await pg(n,i)}catch(i){await rh(i)}}async function Fie(t,e,n){const r=He(t);try{const i=await(function(a,l){const u=He(a);return u.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let f;return u.mutationQueue.lookupMutationBatch(d,l).next((m=>(St(m!==null,37113),f=m.keys(),u.mutationQueue.removeMutationBatch(d,m)))).next((()=>u.mutationQueue.performConsistencyCheck(d))).next((()=>u.documentOverlayCache.removeOverlaysForBatchId(d,f,l))).next((()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,f))).next((()=>u.localDocuments.getDocuments(d,f)))}))})(r.localStore,e);d8(r,e,n),u8(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await pg(r,i)}catch(i){await rh(i)}}function u8(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function d8(t,e,n){const r=He(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function iA(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||f8(t,r)}))}function f8(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(kC(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),HC(t))}function nD(t,e,n){for(const r of n)r instanceof a8?(t.Ru.addReference(r.key,e),$ie(t,r)):r instanceof o8?(Ne(qC,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||f8(t,r.key)):Fe(19791,{wu:r})}function $ie(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Ne(qC,"New document in limbo: "+n),t.Eu.add(r),HC(t))}function HC(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new De(Kt.fromString(e)),r=t.fu.next();t.Au.set(r,new jie(n)),t.du=t.du.insert(n,r),e8(t.remoteStore,new Gl(Da(Px(n.path)),r,"TargetPurposeLimboResolution",Ax.ce))}}async function pg(t,e,n){const r=He(t),i=[],s=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach(((l,u)=>{a.push(r.pu(u,e,n).then((d=>{if((d||n)&&r.isPrimaryClient){const f=d?!d.fromCache:n?.targetChanges.get(u.targetId)?.current;r.sharedClientState.updateQueryState(u.targetId,f?"current":"not-current")}if(d){i.push(d);const f=jC.As(u.targetId,d);s.push(f)}})))})),await Promise.all(a),r.Pu.H_(i),await(async function(u,d){const f=He(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",(m=>ve.forEach(d,(y=>ve.forEach(y.Es,(v=>f.persistence.referenceDelegate.addReference(m,y.targetId,v))).next((()=>ve.forEach(y.ds,(v=>f.persistence.referenceDelegate.removeReference(m,y.targetId,v)))))))))}catch(m){if(!ih(m))throw m;Ne(RC,"Failed to update sequence numbers: "+m)}for(const m of d){const y=m.targetId;if(!m.fromCache){const v=f.Ms.get(y),_=v.snapshotVersion,E=v.withLastLimboFreeSnapshotVersion(_);f.Ms=f.Ms.insert(y,E)}}})(r.localStore,s))}async function qie(t,e){const n=He(t);if(!n.currentUser.isEqual(e)){Ne(qC,"User change. New user:",e.toKey());const r=await XB(n.localStore,e);n.currentUser=e,(function(s,a){s.mu.forEach((l=>{l.forEach((u=>{u.reject(new Te(pe.CANCELLED,a))}))})),s.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await pg(n,r.Ls)}}function Hie(t,e){const n=He(t),r=n.Au.get(e);if(r&&r.hu)return lt().add(r.key);{let i=lt();const s=n.Iu.get(e);if(!s)return i;for(const a of s){const l=n.Tu.get(a);i=i.unionWith(l.view.nu)}return i}}function h8(t){const e=He(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=c8.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Hie.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=zie.bind(null,e),e.Pu.H_=Cie.bind(null,e.eventManager),e.Pu.yu=Pie.bind(null,e.eventManager),e}function Wie(t){const e=He(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Bie.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Fie.bind(null,e),e}class Xv{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Mx(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return Xre(this.persistence,new Kre,e.initialUser,this.serializer)}Cu(e){return new YB(OC.mi,this.serializer)}Du(e){return new rie}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Xv.provider={build:()=>new Xv};class Kie extends Xv{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){St(this.persistence.referenceDelegate instanceof Gv,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new jre(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?_i.withCacheSize(this.cacheSizeBytes):_i.DEFAULT;return new YB((r=>Gv.mi(r,n)),this.serializer)}}class sA{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>tD(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=qie.bind(null,this.syncEngine),await Tie(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Nie})()}createDatastore(e){const n=Mx(e.databaseInfo.databaseId),r=(function(s){return new lie(s)})(e.databaseInfo);return(function(s,a,l,u){return new fie(s,a,l,u)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,s,a,l){return new mie(r,i,s,a,l)})(this.localStore,this.datastore,e.asyncQueue,(n=>tD(this.syncEngine,n,0)),(function(){return YM.v()?new YM:new iie})())}createSyncEngine(e,n){return(function(i,s,a,l,u,d,f){const m=new Rie(i,s,a,l,u,d);return f&&(m.gu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=He(n);Ne(Bu,"RemoteStore shutting down."),r.Ea.add(5),await mg(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}sA.provider={build:()=>new sA};class WC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Uo("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const dc="FirestoreClient";class Gie{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Fr.UNAUTHENTICATED,this.clientId=Sx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async a=>{Ne(dc,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a})),this.appCheckCredentials.start(r,(a=>(Ne(dc,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ma;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=UC(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function hE(t,e){t.asyncQueue.verifyOperationInProgress(),Ne(dc,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await XB(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function rD(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Yie(t);Ne(dc,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>QM(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>QM(e.remoteStore,i))),t._onlineComponents=e}async function Yie(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ne(dc,"Using user provided OfflineComponentProvider");try{await hE(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===pe.FAILED_PRECONDITION||i.code===pe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;zu("Error using user provided cache. Falling back to memory cache: "+n),await hE(t,new Xv)}}else Ne(dc,"Using default OfflineComponentProvider"),await hE(t,new Kie(void 0));return t._offlineComponents}async function KC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ne(dc,"Using user provided OnlineComponentProvider"),await rD(t,t._uninitializedComponentsProvider._online)):(Ne(dc,"Using default OnlineComponentProvider"),await rD(t,new sA))),t._onlineComponents}function Xie(t){return KC(t).then((e=>e.syncEngine))}function Qie(t){return KC(t).then((e=>e.datastore))}async function Qv(t){const e=await KC(t),n=e.eventManager;return n.onListen=kie.bind(null,e.syncEngine),n.onUnlisten=Lie.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Mie.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Vie.bind(null,e.syncEngine),n}function Zie(t,e,n={}){const r=new Ma;return t.asyncQueue.enqueueAndForget((async()=>(function(s,a,l,u,d){const f=new WC({next:y=>{f.Nu(),a.enqueueAndForget((()=>BC(s,m)));const v=y.docs.has(l);!v&&y.fromCache?d.reject(new Te(pe.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&y.fromCache&&u&&u.source==="server"?d.reject(new Te(pe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(y)},error:y=>d.reject(y)}),m=new $C(Px(l.path),f,{includeMetadataChanges:!0,qa:!0});return zC(s,m)})(await Qv(t),t.asyncQueue,e,n,r))),r.promise}function Jie(t,e,n={}){const r=new Ma;return t.asyncQueue.enqueueAndForget((async()=>(function(s,a,l,u,d){const f=new WC({next:y=>{f.Nu(),a.enqueueAndForget((()=>BC(s,m))),y.fromCache&&u.source==="server"?d.reject(new Te(pe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(y)},error:y=>d.reject(y)}),m=new $C(l,f,{includeMetadataChanges:!0,qa:!0});return zC(s,m)})(await Qv(t),t.asyncQueue,e,n,r))),r.promise}function ese(t,e,n){const r=new Ma;return t.asyncQueue.enqueueAndForget((async()=>{try{const i=await Qie(t);r.resolve((async function(a,l,u){const d=He(a),{request:f,gt:m,parent:y}=bre(d.serializer,zne(l),u);d.connection.$o||delete f.parent;const v=(await d.Ho("RunAggregationQuery",d.serializer.databaseId,y,f,1)).filter((E=>!!E.result));St(v.length===1,64727);const _=v[0].result?.aggregateFields;return Object.keys(_).reduce(((E,w)=>(E[m[w]]=_[w],E)),{})})(i,e,n))}catch(i){r.reject(i)}})),r.promise}function m8(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const iD=new Map;const p8="firestore.googleapis.com",sD=!0;class aD{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Te(pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=p8,this.ssl=sD}else this.host=e.host,this.ssl=e.ssl??sD;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=GB;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Ire)throw new Te(pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}nB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=m8(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Te(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Te(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Te(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vx{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new aD({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Te(pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Te(pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new aD(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new eB;switch(r.type){case"firstParty":return new one(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Te(pe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=iD.get(n);r&&(Ne("ComponentProvider","Removing Datastore"),iD.delete(n),r.terminate())})(this),Promise.resolve()}}function g8(t,e,n,r={}){t=ai(t,Vx);const i=Ka(e),s=t._getSettings(),a={...s,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;i&&(bx(`https://${l}`),xx("Firestore",!0)),s.host!==p8&&s.host!==l&&zu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...s,host:l,ssl:i,emulatorOptions:r};if(!sc(u,a)&&(t._setSettings(u),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=Fr.MOCK_USER;else{d=iz(r.mockUserToken,t._app?.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new Te(pe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Fr(m)}t._authCredentials=new ine(new Jz(d,f))}}class Ya{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ya(this.firestore,e,this._query)}}class mn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new jo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mn(this.firestore,e,this._key)}toJSON(){return{type:mn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(dg(n,mn._jsonSchema))return new mn(e,r||null,new De(Kt.fromString(n.referencePath)))}}mn._jsonSchemaVersion="firestore/documentReference/1.0",mn._jsonSchema={type:qn("string",mn._jsonSchemaVersion),referencePath:qn("string")};class jo extends Ya{constructor(e,n,r){super(e,n,Px(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mn(this.firestore,null,new De(e))}withConverter(e){return new jo(this.firestore,e,this._path)}}function en(t,e,...n){if(t=Nt(t),tB("collection","path",e),t instanceof Vx){const r=Kt.fromString(e,...n);return bM(r),new jo(t,null,r)}{if(!(t instanceof mn||t instanceof jo))throw new Te(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Kt.fromString(e,...n));return bM(r),new jo(t.firestore,null,r)}}function on(t,e,...n){if(t=Nt(t),arguments.length===1&&(e=Sx.newId()),tB("doc","path",e),t instanceof Vx){const r=Kt.fromString(e,...n);return vM(r),new mn(t,null,new De(r))}{if(!(t instanceof mn||t instanceof jo))throw new Te(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Kt.fromString(e,...n));return vM(r),new mn(t.firestore,t instanceof jo?t.converter:null,new De(r))}}const oD="AsyncQueue";class lD{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ZB(this,"async_queue_retry"),this._c=()=>{const r=fE();r&&Ne(oD,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=fE();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=fE();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ma;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ih(e))throw e;Ne(oD,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Uo("INTERNAL UNHANDLED ERROR: ",cD(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=VC.createAndSchedule(this,e,n,r,(s=>this.hc(s)));return this.tc.push(i),i}uc(){this.nc&&Fe(47125,{Pc:cD(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function cD(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function uD(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1})(t,["next","error","complete"])}class $a extends Vx{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new lD,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new lD(e),this._firestoreClient=void 0,await e}}}function GC(t,e){const n=typeof t=="object"?t:eh(),r=typeof t=="string"?t:$v,i=Ga(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=sC("firestore");s&&g8(i,...s)}return i}function oh(t){if(t._terminated)throw new Te(pe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||tse(t),t._firestoreClient}function tse(t){const e=t._freezeSettings(),n=(function(i,s,a,l){return new Tne(i,s,a,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,m8(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Gie(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const s=i?._online.build();return{_offline:i?._offline.build(s),_online:s}})(t._componentsProvider))}class y8{constructor(e="count",n){this._internalFieldPath=n,this.type="AggregateField",this.aggregateType=e}}class v8{constructor(e,n,r){this._userDataWriter=n,this._data=r,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}class $i{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $i(br.fromBase64String(e))}catch(n){throw new Te(pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new $i(br.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:$i._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(dg(e,$i._jsonSchema))return $i.fromBase64String(e.bytes)}}$i._jsonSchemaVersion="firestore/bytes/1.0",$i._jsonSchema={type:qn("string",$i._jsonSchemaVersion),bytes:qn("string")};class gg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Te(pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class lh{constructor(e){this._methodName=e}}class Xs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Te(pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Te(pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ot(this._lat,e._lat)||ot(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Xs._jsonSchemaVersion}}static fromJSON(e){if(dg(e,Xs._jsonSchema))return new Xs(e.latitude,e.longitude)}}Xs._jsonSchemaVersion="firestore/geoPoint/1.0",Xs._jsonSchema={type:qn("string",Xs._jsonSchemaVersion),latitude:qn("number"),longitude:qn("number")};class Qs{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Qs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(dg(e,Qs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Qs(e.vectorValues);throw new Te(pe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Qs._jsonSchemaVersion="firestore/vectorValue/1.0",Qs._jsonSchema={type:qn("string",Qs._jsonSchemaVersion),vectorValues:qn("object")};const nse=/^__.*__$/;class rse{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Nc(e,this.data,this.fieldMask,n,this.fieldTransforms):new fg(e,this.data,n,this.fieldTransforms)}}class b8{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Nc(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function x8(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Fe(40011,{Ac:t})}}class YC{constructor(e,n,r,i,s,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new YC({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Zv(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(x8(this.Ac)&&nse.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class ise{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Mx(e)}Cc(e,n,r,i=!1){return new YC({Ac:e,methodName:n,Dc:r,path:gr.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ux(t){const e=t._freezeSettings(),n=Mx(t._databaseId);return new ise(t._databaseId,!!e.ignoreUndefinedProperties,n)}function w8(t,e,n,r,i,s={}){const a=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);ZC("Data must be an object, but it was:",a,r);const l=_8(r,a);let u,d;if(s.merge)u=new Hi(a.fieldMask),d=a.fieldTransforms;else if(s.mergeFields){const f=[];for(const m of s.mergeFields){const y=aA(e,m,n);if(!a.contains(y))throw new Te(pe.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);S8(f,y)||f.push(y)}u=new Hi(f),d=a.fieldTransforms.filter((m=>u.covers(m.field)))}else u=null,d=a.fieldTransforms;return new rse(new Ei(l),u,d)}class zx extends lh{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zx}}class XC extends lh{_toFieldTransform(e){return new RB(e.path,new Np)}isEqual(e){return e instanceof XC}}class QC extends lh{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new Ip(e.serializer,CB(e.serializer,this.Fc));return new RB(e.path,n)}isEqual(e){return e instanceof QC&&this.Fc===e.Fc}}function sse(t,e,n,r){const i=t.Cc(1,e,n);ZC("Data must be an object, but it was:",i,r);const s=[],a=Ei.empty();Ac(r,((u,d)=>{const f=JC(e,u,n);d=Nt(d);const m=i.yc(f);if(d instanceof zx)s.push(f);else{const y=yg(d,m);y!=null&&(s.push(f),a.set(f,y))}}));const l=new Hi(s);return new b8(a,l,i.fieldTransforms)}function ase(t,e,n,r,i,s){const a=t.Cc(1,e,n),l=[aA(e,r,n)],u=[i];if(s.length%2!=0)throw new Te(pe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<s.length;y+=2)l.push(aA(e,s[y])),u.push(s[y+1]);const d=[],f=Ei.empty();for(let y=l.length-1;y>=0;--y)if(!S8(d,l[y])){const v=l[y];let _=u[y];_=Nt(_);const E=a.yc(v);if(_ instanceof zx)d.push(v);else{const w=yg(_,E);w!=null&&(d.push(v),f.set(v,w))}}const m=new Hi(d);return new b8(f,m,a.fieldTransforms)}function ose(t,e,n,r=!1){return yg(n,t.Cc(r?4:3,e))}function yg(t,e){if(E8(t=Nt(t)))return ZC("Unsupported field value:",e,t),_8(t,e);if(t instanceof lh)return(function(r,i){if(!x8(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const s=[];let a=0;for(const l of r){let u=yg(l,i.wc(a));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),a++}return{arrayValue:{values:s}}})(t,e)}return(function(r,i){if((r=Nt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return CB(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=At.fromDate(r);return{timestampValue:Kv(i.serializer,s)}}if(r instanceof At){const s=new At(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Kv(i.serializer,s)}}if(r instanceof Xs)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof $i)return{bytesValue:zB(i.serializer,r._byteString)};if(r instanceof mn){const s=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(s))throw i.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:PC(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Qs)return(function(a,l){return{mapValue:{fields:{[dB]:{stringValue:fB},[qv]:{arrayValue:{values:a.toArray().map((d=>{if(typeof d!="number")throw l.Sc("VectorValues must only contain numeric values.");return AC(l.serializer,d)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${Tx(r)}`)})(t,e)}function _8(t,e){const n={};return sB(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ac(t,((r,i)=>{const s=yg(i,e.mc(r));s!=null&&(n[r]=s)})),{mapValue:{fields:n}}}function E8(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof At||t instanceof Xs||t instanceof $i||t instanceof mn||t instanceof lh||t instanceof Qs)}function ZC(t,e,n){if(!E8(n)||!rB(n)){const r=Tx(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function aA(t,e,n){if((e=Nt(e))instanceof gg)return e._internalPath;if(typeof e=="string")return JC(t,e);throw Zv("Field path arguments must be of type string or ",t,!1,void 0,n)}const lse=new RegExp("[~\\*/\\[\\]]");function JC(t,e,n){if(e.search(lse)>=0)throw Zv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new gg(...e.split("."))._internalPath}catch{throw Zv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Zv(t,e,n,r,i){const s=r&&!r.isEmpty(),a=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(s||a)&&(u+=" (found",s&&(u+=` in field ${r}`),a&&(u+=` in document ${i}`),u+=")"),new Te(pe.INVALID_ARGUMENT,l+t+u)}function S8(t,e){return t.some((n=>n.isEqual(e)))}class T8{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new mn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new cse(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Bx("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class cse extends T8{data(){return super.data()}}function Bx(t,e){return typeof e=="string"?JC(t,e):e instanceof gg?e._internalPath:e._delegate._internalPath}function A8(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Te(pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class e2{}class Fx extends e2{}function Rr(t,e,...n){let r=[];e instanceof e2&&r.push(e),r=r.concat(n),(function(s){const a=s.filter((u=>u instanceof $x)).length,l=s.filter((u=>u instanceof vg)).length;if(a>1||a>0&&l>0)throw new Te(pe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class vg extends Fx{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new vg(e,n,r)}_apply(e){const n=this._parse(e);return N8(e._query,n),new Ya(e.firestore,e.converter,XT(e._query,n))}_parse(e){const n=Ux(e.firestore);return(function(s,a,l,u,d,f,m){let y;if(d.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new Te(pe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){fD(m,f);const _=[];for(const E of m)_.push(dD(u,s,E));y={arrayValue:{values:_}}}else y=dD(u,s,m)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||fD(m,f),y=ose(l,a,m,f==="in"||f==="not-in");return $n.create(d,f,y)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Et(t,e,n){const r=e,i=Bx("where",t);return vg._create(i,r,n)}class $x extends e2{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new $x(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Js.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,s){let a=i;const l=s.getFlattenedFilters();for(const u of l)N8(a,u),a=XT(a,u)})(e._query,n),new Ya(e.firestore,e.converter,XT(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class qx extends Fx{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new qx(e,n)}_apply(e){const n=(function(i,s,a){if(i.startAt!==null)throw new Te(pe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Te(pe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ap(s,a)})(e._query,this._field,this._direction);return new Ya(e.firestore,e.converter,(function(i,s){const a=i.explicitOrderBy.concat([s]);return new sh(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function ch(t,e="asc"){const n=e,r=Bx("orderBy",t);return qx._create(r,n)}class Hx extends Fx{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Hx(e,n,r)}_apply(e){return new Ya(e.firestore,e.converter,Wv(e._query,this._limit,this._limitType))}}function Ro(t){return hne("limit",t),Hx._create("limit",t,"F")}function dD(t,e,n){if(typeof(n=Nt(n))=="string"){if(n==="")throw new Te(pe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!xB(e)&&n.indexOf("/")!==-1)throw new Te(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Kt.fromString(n));if(!De.isDocumentKey(r))throw new Te(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return NM(t,new De(r))}if(n instanceof mn)return NM(t,n._key);throw new Te(pe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Tx(n)}.`)}function fD(t,e){if(!Array.isArray(t)||t.length===0)throw new Te(pe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function N8(t,e){const n=(function(i,s){for(const a of i)for(const l of a.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Te(pe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Te(pe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class C8{convertValue(e,n="none"){switch(cc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(lc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Fe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ac(e,((i,s)=>{r[i]=this.convertValue(s,n)})),r}convertVectorValue(e){const n=e.fields?.[qv].arrayValue?.values?.map((r=>Pn(r.doubleValue)));return new Qs(n)}convertGeoPoint(e){return new Xs(Pn(e.latitude),Pn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Cx(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Sp(e));default:return null}}convertTimestamp(e){const n=oc(e);return new At(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Kt.fromString(e);St(KB(r),9688,{name:e});const i=new If(r.get(1),r.get(3)),s=new De(r.popFirst(5));return i.isEqual(n)||Uo(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}function P8(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}function I8(){return new y8("count")}class sf{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class tc extends T8{constructor(e,n,r,i,s,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ip(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Bx("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Te(pe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=tc._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}tc._jsonSchemaVersion="firestore/documentSnapshot/1.0",tc._jsonSchema={type:qn("string",tc._jsonSchemaVersion),bundleSource:qn("string","DocumentSnapshot"),bundleName:qn("string"),bundle:qn("string")};class ip extends tc{data(e={}){return super.data(e)}}class nc{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new sf(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new ip(this._firestore,this._userDataWriter,r.key,r,new sf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Te(pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map((l=>{const u=new ip(i._firestore,i._userDataWriter,l.doc.key,l.doc,new sf(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((l=>s||l.type!==3)).map((l=>{const u=new ip(i._firestore,i._userDataWriter,l.doc.key,l.doc,new sf(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,f=-1;return l.type!==0&&(d=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),f=a.indexOf(l.doc.key)),{type:use(l.type),doc:u,oldIndex:d,newIndex:f}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Te(pe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=nc._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Sx.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function use(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Fe(61501,{type:t})}}function ti(t){t=ai(t,mn);const e=ai(t.firestore,$a);return Zie(oh(e),t._key).then((n=>O8(e,t,n)))}nc._jsonSchemaVersion="firestore/querySnapshot/1.0",nc._jsonSchema={type:qn("string",nc._jsonSchemaVersion),bundleSource:qn("string","QuerySnapshot"),bundleName:qn("string"),bundle:qn("string")};class Wx extends C8{constructor(e){super(),this.firestore=e}convertBytes(e){return new $i(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new mn(this.firestore,null,n)}}function oi(t){t=ai(t,Ya);const e=ai(t.firestore,$a),n=oh(e),r=new Wx(e);return A8(t._query),Jie(n,t._query).then((i=>new nc(e,r,t,i)))}function Op(t,e,n){t=ai(t,mn);const r=ai(t.firestore,$a),i=P8(t.converter,e,n);return Kx(r,[w8(Ux(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Ys.none())])}function fc(t,e,n,...r){t=ai(t,mn);const i=ai(t.firestore,$a),s=Ux(i);let a;return a=typeof(e=Nt(e))=="string"||e instanceof gg?ase(s,"updateDoc",t._key,e,n,r):sse(s,"updateDoc",t._key,e),Kx(i,[a.toMutation(t._key,Ys.exists(!0))])}function id(t,e){const n=ai(t.firestore,$a),r=on(t),i=P8(t.converter,e);return Kx(n,[w8(Ux(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Ys.exists(!1))]).then((()=>r))}function af(t,...e){t=Nt(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||uD(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(uD(e[r])){const u=e[r];e[r]=u.next?.bind(u),e[r+1]=u.error?.bind(u),e[r+2]=u.complete?.bind(u)}let s,a,l;if(t instanceof mn)a=ai(t.firestore,$a),l=Px(t._key.path),s={next:u=>{e[r]&&e[r](O8(a,t,u))},error:e[r+1],complete:e[r+2]};else{const u=ai(t,Ya);a=ai(u.firestore,$a),l=u._query;const d=new Wx(a);s={next:f=>{e[r]&&e[r](new nc(a,d,u,f))},error:e[r+1],complete:e[r+2]},A8(t._query)}return(function(d,f,m,y){const v=new WC(y),_=new $C(f,v,m);return d.asyncQueue.enqueueAndForget((async()=>zC(await Qv(d),_))),()=>{v.Nu(),d.asyncQueue.enqueueAndForget((async()=>BC(await Qv(d),_)))}})(oh(a),l,i,s)}function Kx(t,e){return(function(r,i){const s=new Ma;return r.asyncQueue.enqueueAndForget((async()=>Uie(await Xie(r),i,s))),s.promise})(oh(t),e)}function O8(t,e,n){const r=n.docs.get(e._key),i=new Wx(t);return new tc(t,i,e._key,r,new sf(n.hasPendingWrites,n.fromCache),e.converter)}function j8(t){return R8(t,{count:I8()})}function R8(t,e){const n=ai(t.firestore,$a),r=oh(n),i=Ene(e,((s,a)=>new rre(a,s.aggregateType,s._internalFieldPath)));return ese(r,t._query,i).then((s=>(function(l,u,d){const f=new Wx(l);return new v8(u,f,d)})(n,t,s)))}function of(){return new XC("serverTimestamp")}function oA(t){return new QC("increment",t)}(function(e,n=!0){(function(i){nh=i})(td),Qi(new Pi("firestore",((r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),l=new $a(new sne(r.getProvider("auth-internal")),new lne(a,r.getProvider("app-check-internal")),(function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Te(pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new If(d.options.projectId,f)})(a,i),a);return s={useFetchStreams:n,...s},l._setSettings(s),l}),"PUBLIC").setMultipleInstances(!0)),vr(mM,pM,e),vr(mM,pM,"esm2020")})();const hD=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:C8,AggregateField:y8,AggregateQuerySnapshot:v8,Bytes:$i,CollectionReference:jo,DocumentReference:mn,DocumentSnapshot:tc,FieldPath:gg,FieldValue:lh,Firestore:$a,FirestoreError:Te,GeoPoint:Xs,Query:Ya,QueryCompositeFilterConstraint:$x,QueryConstraint:Fx,QueryDocumentSnapshot:ip,QueryFieldFilterConstraint:vg,QueryLimitConstraint:Hx,QueryOrderByConstraint:qx,QuerySnapshot:nc,SnapshotMetadata:sf,Timestamp:At,VectorValue:Qs,_AutoId:Sx,_ByteString:br,_DatabaseId:If,_DocumentKey:De,_EmptyAuthCredentialsProvider:eB,_FieldPath:gr,_cast:ai,_logWarn:zu,_validateIsNotUsedTogether:nB,addDoc:id,collection:en,connectFirestoreEmulator:g8,count:I8,doc:on,ensureFirestoreConfigured:oh,executeWrite:Kx,getAggregateFromServer:R8,getCountFromServer:j8,getDoc:ti,getDocs:oi,getFirestore:GC,increment:oA,limit:Ro,onSnapshot:af,orderBy:ch,query:Rr,serverTimestamp:of,setDoc:Op,updateDoc:fc,where:Et},Symbol.toStringTag,{value:"Module"}));const dse="type.googleapis.com/google.protobuf.Int64Value",fse="type.googleapis.com/google.protobuf.UInt64Value";function k8(t,e){const n={};for(const r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}function Jv(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>Jv(e));if(typeof t=="function"||typeof t=="object")return k8(t,e=>Jv(e));throw new Error("Data cannot be encoded in JSON: "+t)}function Mf(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case dse:case fse:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>Mf(e)):typeof t=="function"||typeof t=="object"?k8(t,e=>Mf(e)):t}const t2="functions";const mD={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ni extends Ji{constructor(e,n,r){super(`${t2}/${e}`,n||""),this.details=r,Object.setPrototypeOf(this,ni.prototype)}}function hse(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function eb(t,e){let n=hse(t),r=n,i;try{const s=e&&e.error;if(s){const a=s.status;if(typeof a=="string"){if(!mD[a])return new ni("internal","internal");n=mD[a],r=a}const l=s.message;typeof l=="string"&&(r=l),i=s.details,i!==void 0&&(i=Mf(i))}}catch{}return n==="ok"?null:new ni(n,r,i)}class mse{constructor(e,n,r,i){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,ei(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||n.get().then(s=>this.auth=s,()=>{}),this.messaging||r.get().then(s=>this.messaging=s,()=>{}),this.appCheck||i?.get().then(s=>this.appCheck=s,()=>{})}async getAuthToken(){if(this.auth)try{return(await this.auth.getToken())?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),r=await this.getMessagingToken(),i=await this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:i}}}const lA="us-central1",pse=/^data: (.*?)(?:\n|$)/;function gse(t){let e=null;return{promise:new Promise((n,r)=>{e=setTimeout(()=>{r(new ni("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class yse{constructor(e,n,r,i,s=lA,a=(...l)=>fetch(...l)){this.app=e,this.fetchImpl=a,this.emulatorOrigin=null,this.contextProvider=new mse(e,n,r,i),this.cancelAllRequests=new Promise(l=>{this.deleteService=()=>Promise.resolve(l())});try{const l=new URL(s);this.customDomain=l.origin+(l.pathname==="/"?"":l.pathname),this.region=lA}catch{this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function vse(t,e,n){const r=Ka(e);t.emulatorOrigin=`http${r?"s":""}://${e}:${n}`,r&&(bx(t.emulatorOrigin+"/backends"),xx("Functions",!0))}function bse(t,e,n){const r=i=>wse(t,e,i,n||{});return r.stream=(i,s)=>Ese(t,e,i,s),r}function M8(t){return t.emulatorOrigin&&Ka(t.emulatorOrigin)?"include":void 0}async function xse(t,e,n,r,i){n["Content-Type"]="application/json";let s;try{s=await r(t,{method:"POST",body:JSON.stringify(e),headers:n,credentials:M8(i)})}catch{return{status:0,json:null}}let a=null;try{a=await s.json()}catch{}return{status:s.status,json:a}}async function D8(t,e){const n={},r=await t.contextProvider.getContext(e.limitedUseAppCheckTokens);return r.authToken&&(n.Authorization="Bearer "+r.authToken),r.messagingToken&&(n["Firebase-Instance-ID-Token"]=r.messagingToken),r.appCheckToken!==null&&(n["X-Firebase-AppCheck"]=r.appCheckToken),n}function wse(t,e,n,r){const i=t._url(e);return _se(t,i,n,r)}async function _se(t,e,n,r){n=Jv(n);const i={data:n},s=await D8(t,r),a=r.timeout||7e4,l=gse(a),u=await Promise.race([xse(e,i,s,t.fetchImpl,t),l.promise,t.cancelAllRequests]);if(l.cancel(),!u)throw new ni("cancelled","Firebase Functions instance was deleted.");const d=eb(u.status,u.json);if(d)throw d;if(!u.json)throw new ni("internal","Response is not valid JSON object.");let f=u.json.data;if(typeof f>"u"&&(f=u.json.result),typeof f>"u")throw new ni("internal","Response is missing data field.");return{data:Mf(f)}}function Ese(t,e,n,r){const i=t._url(e);return Sse(t,i,n,r||{})}async function Sse(t,e,n,r){n=Jv(n);const i={data:n},s=await D8(t,r);s["Content-Type"]="application/json",s.Accept="text/event-stream";let a;try{a=await t.fetchImpl(e,{method:"POST",body:JSON.stringify(i),headers:s,signal:r?.signal,credentials:M8(t)})}catch(y){if(y instanceof Error&&y.name==="AbortError"){const _=new ni("cancelled","Request was cancelled.");return{data:Promise.reject(_),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(_)}}}}}}const v=eb(0,null);return{data:Promise.reject(v),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(v)}}}}}}let l,u;const d=new Promise((y,v)=>{l=y,u=v});r?.signal?.addEventListener("abort",()=>{const y=new ni("cancelled","Request was cancelled.");u(y)});const f=a.body.getReader(),m=Tse(f,l,u,r?.signal);return{stream:{[Symbol.asyncIterator](){const y=m.getReader();return{async next(){const{value:v,done:_}=await y.read();return{value:v,done:_}},async return(){return await y.cancel(),{done:!0,value:void 0}}}}},data:d}}function Tse(t,e,n,r){const i=(a,l)=>{const u=a.match(pse);if(!u)return;const d=u[1];try{const f=JSON.parse(d);if("result"in f){e(Mf(f.result));return}if("message"in f){l.enqueue(Mf(f.message));return}if("error"in f){const m=eb(0,f);l.error(m),n(m);return}}catch(f){if(f instanceof ni){l.error(f),n(f);return}}},s=new TextDecoder;return new ReadableStream({start(a){let l="";return u();async function u(){if(r?.aborted){const d=new ni("cancelled","Request was cancelled");return a.error(d),n(d),Promise.resolve()}try{const{value:d,done:f}=await t.read();if(f){l.trim()&&i(l.trim(),a),a.close();return}if(r?.aborted){const y=new ni("cancelled","Request was cancelled");a.error(y),n(y),await t.cancel();return}l+=s.decode(d,{stream:!0});const m=l.split(`
`);l=m.pop()||"";for(const y of m)y.trim()&&i(y.trim(),a);return u()}catch(d){const f=d instanceof ni?d:eb(0,null);a.error(f),n(f)}}},cancel(){return t.cancel()}})}const pD="@firebase/functions",gD="0.13.1";const Ase="auth-internal",Nse="app-check-internal",Cse="messaging-internal";function Pse(t){const e=(n,{instanceIdentifier:r})=>{const i=n.getProvider("app").getImmediate(),s=n.getProvider(Ase),a=n.getProvider(Cse),l=n.getProvider(Nse);return new yse(i,s,a,l,r)};Qi(new Pi(t2,e,"PUBLIC").setMultipleInstances(!0)),vr(pD,gD,t),vr(pD,gD,"esm2020")}function Fu(t=eh(),e=lA){const r=Ga(Nt(t),t2).getImmediate({identifier:e}),i=sC("functions");return i&&L8(r,...i),r}function L8(t,e,n){vse(Nt(t),e,n)}function ea(t,e,n){return bse(Nt(t),e,n)}Pse();const Ise=Object.freeze(Object.defineProperty({__proto__:null,FunctionsError:ni,connectFunctionsEmulator:L8,getFunctions:Fu,httpsCallable:ea},Symbol.toStringTag,{value:"Module"})),V8="@firebase/installations",n2="0.6.19";const U8=1e4,z8=`w:${n2}`,B8="FIS_v2",Ose="https://firebaseinstallations.googleapis.com/v1",jse=3600*1e3,Rse="installations",kse="Installations";const Mse={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},$u=new _c(Rse,kse,Mse);function F8(t){return t instanceof Ji&&t.code.includes("request-failed")}function $8({projectId:t}){return`${Ose}/projects/${t}/installations`}function q8(t){return{token:t.token,requestStatus:2,expiresIn:Lse(t.expiresIn),creationTime:Date.now()}}async function H8(t,e){const r=(await e.json()).error;return $u.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function W8({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Dse(t,{refreshToken:e}){const n=W8(t);return n.append("Authorization",Vse(e)),n}async function K8(t){const e=await t();return e.status>=500&&e.status<600?t():e}function Lse(t){return Number(t.replace("s","000"))}function Vse(t){return`${B8} ${t}`}async function Use({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=$8(t),i=W8(t),s=e.getImmediate({optional:!0});if(s){const d=await s.getHeartbeatsHeader();d&&i.append("x-firebase-client",d)}const a={fid:n,authVersion:B8,appId:t.appId,sdkVersion:z8},l={method:"POST",headers:i,body:JSON.stringify(a)},u=await K8(()=>fetch(r,l));if(u.ok){const d=await u.json();return{fid:d.fid||n,registrationStatus:2,refreshToken:d.refreshToken,authToken:q8(d.authToken)}}else throw await H8("Create Installation",u)}function G8(t){return new Promise(e=>{setTimeout(e,t)})}function zse(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}const Bse=/^[cdef][\w-]{21}$/,cA="";function Fse(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=$se(t);return Bse.test(n)?n:cA}catch{return cA}}function $se(t){return zse(t).substr(0,22)}function Gx(t){return`${t.appName}!${t.appId}`}const Y8=new Map;function X8(t,e){const n=Gx(t);Q8(n,e),qse(n,e)}function Q8(t,e){const n=Y8.get(t);if(n)for(const r of n)r(e)}function qse(t,e){const n=Hse();n&&n.postMessage({key:t,fid:e}),Wse()}let wu=null;function Hse(){return!wu&&"BroadcastChannel"in self&&(wu=new BroadcastChannel("[Firebase] FID Change"),wu.onmessage=t=>{Q8(t.data.key,t.data.fid)}),wu}function Wse(){Y8.size===0&&wu&&(wu.close(),wu=null)}const Kse="firebase-installations-database",Gse=1,qu="firebase-installations-store";let mE=null;function r2(){return mE||(mE=cz(Kse,Gse,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(qu)}}})),mE}async function tb(t,e){const n=Gx(t),i=(await r2()).transaction(qu,"readwrite"),s=i.objectStore(qu),a=await s.get(n);return await s.put(e,n),await i.done,(!a||a.fid!==e.fid)&&X8(t,e.fid),e}async function Z8(t){const e=Gx(t),r=(await r2()).transaction(qu,"readwrite");await r.objectStore(qu).delete(e),await r.done}async function Yx(t,e){const n=Gx(t),i=(await r2()).transaction(qu,"readwrite"),s=i.objectStore(qu),a=await s.get(n),l=e(a);return l===void 0?await s.delete(n):await s.put(l,n),await i.done,l&&(!a||a.fid!==l.fid)&&X8(t,l.fid),l}async function i2(t){let e;const n=await Yx(t.appConfig,r=>{const i=Yse(r),s=Xse(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===cA?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function Yse(t){const e=t||{fid:Fse(),registrationStatus:0};return J8(e)}function Xse(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject($u.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=Qse(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Zse(t)}:{installationEntry:e}}async function Qse(t,e){try{const n=await Use(t,e);return tb(t.appConfig,n)}catch(n){throw F8(n)&&n.customData.serverCode===409?await Z8(t.appConfig):await tb(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function Zse(t){let e=await yD(t.appConfig);for(;e.registrationStatus===1;)await G8(100),e=await yD(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await i2(t);return r||n}return e}function yD(t){return Yx(t,e=>{if(!e)throw $u.create("installation-not-found");return J8(e)})}function J8(t){return Jse(t)?{fid:t.fid,registrationStatus:0}:t}function Jse(t){return t.registrationStatus===1&&t.registrationTime+U8<Date.now()}async function eae({appConfig:t,heartbeatServiceProvider:e},n){const r=tae(t,n),i=Dse(t,n),s=e.getImmediate({optional:!0});if(s){const d=await s.getHeartbeatsHeader();d&&i.append("x-firebase-client",d)}const a={installation:{sdkVersion:z8,appId:t.appId}},l={method:"POST",headers:i,body:JSON.stringify(a)},u=await K8(()=>fetch(r,l));if(u.ok){const d=await u.json();return q8(d)}else throw await H8("Generate Auth Token",u)}function tae(t,{fid:e}){return`${$8(t)}/${e}/authTokens:generate`}async function s2(t,e=!1){let n;const r=await Yx(t.appConfig,s=>{if(!eF(s))throw $u.create("not-registered");const a=s.authToken;if(!e&&iae(a))return s;if(a.requestStatus===1)return n=nae(t,e),s;{if(!navigator.onLine)throw $u.create("app-offline");const l=aae(s);return n=rae(t,l),l}});return n?await n:r.authToken}async function nae(t,e){let n=await vD(t.appConfig);for(;n.authToken.requestStatus===1;)await G8(100),n=await vD(t.appConfig);const r=n.authToken;return r.requestStatus===0?s2(t,e):r}function vD(t){return Yx(t,e=>{if(!eF(e))throw $u.create("not-registered");const n=e.authToken;return oae(n)?{...e,authToken:{requestStatus:0}}:e})}async function rae(t,e){try{const n=await eae(t,e),r={...e,authToken:n};return await tb(t.appConfig,r),n}catch(n){if(F8(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Z8(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await tb(t.appConfig,r)}throw n}}function eF(t){return t!==void 0&&t.registrationStatus===2}function iae(t){return t.requestStatus===2&&!sae(t)}function sae(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+jse}function aae(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function oae(t){return t.requestStatus===1&&t.requestTime+U8<Date.now()}async function lae(t){const e=t,{installationEntry:n,registrationPromise:r}=await i2(e);return r?r.catch(console.error):s2(e).catch(console.error),n.fid}async function cae(t,e=!1){const n=t;return await uae(n),(await s2(n,e)).token}async function uae(t){const{registrationPromise:e}=await i2(t);e&&await e}function dae(t){if(!t||!t.options)throw pE("App Configuration");if(!t.name)throw pE("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw pE(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function pE(t){return $u.create("missing-app-config-values",{valueName:t})}const tF="installations",fae="installations-internal",hae=t=>{const e=t.getProvider("app").getImmediate(),n=dae(e),r=Ga(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},mae=t=>{const e=t.getProvider("app").getImmediate(),n=Ga(e,tF).getImmediate();return{getId:()=>lae(n),getToken:i=>cae(n,i)}};function pae(){Qi(new Pi(tF,hae,"PUBLIC")),Qi(new Pi(fae,mae,"PRIVATE"))}pae();vr(V8,n2);vr(V8,n2,"esm2020");const nb="analytics",gae="firebase_id",yae="origin",vae=60*1e3,bae="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",a2="https://www.googletagmanager.com/gtag/js";const li=new ag("@firebase/analytics");const xae={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Gi=new _c("analytics","Analytics",xae);function wae(t){if(!t.startsWith(a2)){const e=Gi.create("invalid-gtag-resource",{gtagURL:t});return li.warn(e.message),""}return t}function nF(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function _ae(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function Eae(t,e){const n=_ae("firebase-js-sdk-policy",{createScriptURL:wae}),r=document.createElement("script"),i=`${a2}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function Sae(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function Tae(t,e,n,r,i,s){const a=r[i];try{if(a)await e[a];else{const u=(await nF(n)).find(d=>d.measurementId===i);u&&await e[u.appId]}}catch(l){li.error(l)}t("config",i,s)}async function Aae(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let a=i.send_to;Array.isArray(a)||(a=[a]);const l=await nF(n);for(const u of a){const d=l.find(m=>m.measurementId===u),f=d&&e[d.appId];if(f)s.push(f);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){li.error(s)}}function Nae(t,e,n,r){async function i(s,...a){try{if(s==="event"){const[l,u]=a;await Aae(t,e,n,l,u)}else if(s==="config"){const[l,u]=a;await Tae(t,e,n,r,l,u)}else if(s==="consent"){const[l,u]=a;t("consent",l,u)}else if(s==="get"){const[l,u,d]=a;t("get",l,u,d)}else if(s==="set"){const[l]=a;t("set",l)}else t(s,...a)}catch(l){li.error(l)}}return i}function Cae(t,e,n,r,i){let s=function(...a){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=Nae(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function Pae(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(a2)&&n.src.includes(t))return n;return null}const Iae=30,Oae=1e3;class jae{constructor(e={},n=Oae){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const rF=new jae;function Rae(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function kae(t){const{appId:e,apiKey:n}=t,r={method:"GET",headers:Rae(n)},i=bae.replace("{app-id}",e),s=await fetch(i,r);if(s.status!==200&&s.status!==304){let a="";try{const l=await s.json();l.error?.message&&(a=l.error.message)}catch{}throw Gi.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()}async function Mae(t,e=rF,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Gi.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Gi.create("no-api-key")}const a=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new Vae;return setTimeout(async()=>{l.abort()},vae),iF({appId:r,apiKey:i,measurementId:s},a,l,e)}async function iF(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=rF){const{appId:s,measurementId:a}=t;try{await Dae(r,e)}catch(l){if(a)return li.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l?.message}]`),{appId:s,measurementId:a};throw l}try{const l=await kae(t);return i.deleteThrottleMetadata(s),l}catch(l){const u=l;if(!Lae(u)){if(i.deleteThrottleMetadata(s),a)return li.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:s,measurementId:a};throw l}const d=Number(u?.customData?.httpStatus)===503?Uk(n,i.intervalMillis,Iae):Uk(n,i.intervalMillis),f={throttleEndTimeMillis:Date.now()+d,backoffCount:n+1};return i.setThrottleMetadata(s,f),li.debug(`Calling attemptFetch again in ${d} millis`),iF(t,f,r,i)}}function Dae(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Gi.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Lae(t){if(!(t instanceof Ji)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class Vae{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Uae(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,a={...r,send_to:s};t("event",n,a)}}async function zae(t,e,n,r){if(r&&r.global){const i={};for(const s of Object.keys(n))i[`user_properties.${s}`]=n[s];return t("set",i),Promise.resolve()}else{const i=await e;t("config",i,{update:!0,user_properties:n})}}async function Bae(){if(aC())try{await oC()}catch(t){return li.warn(Gi.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return li.warn(Gi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Fae(t,e,n,r,i,s,a){const l=Mae(t);l.then(y=>{n[y.measurementId]=y.appId,t.options.measurementId&&y.measurementId!==t.options.measurementId&&li.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${y.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(y=>li.error(y)),e.push(l);const u=Bae().then(y=>{if(y)return r.getId()}),[d,f]=await Promise.all([l,u]);Pae(s)||Eae(s,d.measurementId),i("js",new Date);const m=a?.config??{};return m[yae]="firebase",m.update=!0,f!=null&&(m[gae]=f),i("config",d.measurementId,m),d.measurementId}class $ae{constructor(e){this.app=e}_delete(){return delete wf[this.app.options.appId],Promise.resolve()}}let wf={},bD=[];const xD={};let gE="dataLayer",qae="gtag",wD,o2,_D=!1;function Hae(){const t=[];if(sz()&&t.push("This is a browser extension environment."),az()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Gi.create("invalid-analytics-context",{errorInfo:e});li.warn(n.message)}}function Wae(t,e,n){Hae();const r=t.options.appId;if(!r)throw Gi.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)li.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Gi.create("no-api-key");if(wf[r]!=null)throw Gi.create("already-exists",{id:r});if(!_D){Sae(gE);const{wrappedGtag:s,gtagCore:a}=Cae(wf,bD,xD,gE,qae);o2=s,wD=a,_D=!0}return wf[r]=Fae(t,bD,xD,e,wD,gE,n),new $ae(t)}function Kae(t=eh()){t=Nt(t);const e=Ga(t,nb);return e.isInitialized()?e.getImmediate():Gae(t)}function Gae(t,e={}){const n=Ga(t,nb);if(n.isInitialized()){const i=n.getImmediate();if(sc(e,n.getOptions()))return i;throw Gi.create("already-initialized")}return n.initialize({options:e})}function Yae(t,e,n){t=Nt(t),zae(o2,wf[t.app.options.appId],e,n).catch(r=>li.error(r))}function Xae(t,e,n,r){t=Nt(t),Uae(o2,wf[t.app.options.appId],e,n,r).catch(i=>li.error(i))}const ED="@firebase/analytics",SD="0.10.19";function Qae(){Qi(new Pi(nb,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return Wae(r,i,n)},"PUBLIC")),Qi(new Pi("analytics-internal",t,"PRIVATE")),vr(ED,SD),vr(ED,SD,"esm2020");function t(e){try{const n=e.getProvider(nb).getImmediate();return{logEvent:(r,i,s)=>Xae(n,r,i,s),setUserProperties:(r,i)=>Yae(n,r,i)}}catch(n){throw Gi.create("interop-component-reg-failed",{reason:n})}}}Qae();var uA,TD,Xx=function(){var t=self.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0];if(t&&t.responseStart>0&&t.responseStart<performance.now())return t},sF=function(t){if(document.readyState==="loading")return"loading";var e=Xx();if(e){if(t<e.domInteractive)return"loading";if(e.domContentLoadedEventStart===0||t<e.domContentLoadedEventStart)return"dom-interactive";if(e.domComplete===0||t<e.domComplete)return"dom-content-loaded"}return"complete"},Zae=function(t){var e=t.nodeName;return t.nodeType===1?e.toLowerCase():e.toUpperCase().replace(/^#/,"")},l2=function(t,e){var n="";try{for(;t&&t.nodeType!==9;){var r=t,i=r.id?"#"+r.id:Zae(r)+(r.classList&&r.classList.value&&r.classList.value.trim()&&r.classList.value.trim().length?"."+r.classList.value.trim().replace(/\s+/g,"."):"");if(n.length+i.length>(e||100)-1)return n||i;if(n=n?i+">"+n:i,r.id)break;t=r.parentNode}}catch{}return n},aF=-1,Jae=function(){return aF},bg=function(t){addEventListener("pageshow",(function(e){e.persisted&&(aF=e.timeStamp,t(e))}),!0)},c2=function(){var t=Xx();return t&&t.activationStart||0},hc=function(t,e){var n=Xx(),r="navigate";return Jae()>=0?r="back-forward-cache":n&&(document.prerendering||c2()>0?r="prerender":document.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:t,value:e===void 0?-1:e,rating:"good",delta:0,entries:[],id:"v4-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:r}},uh=function(t,e,n){try{if(PerformanceObserver.supportedEntryTypes.includes(t)){var r=new PerformanceObserver((function(i){Promise.resolve().then((function(){e(i.getEntries())}))}));return r.observe(Object.assign({type:t,buffered:!0},n||{})),r}}catch{}},mc=function(t,e,n,r){var i,s;return function(a){e.value>=0&&(a||r)&&((s=e.value-(i||0))||i===void 0)&&(i=e.value,e.delta=s,e.rating=(function(l,u){return l>u[1]?"poor":l>u[0]?"needs-improvement":"good"})(e.value,n),t(e))}},u2=function(t){requestAnimationFrame((function(){return requestAnimationFrame((function(){return t()}))}))},Qx=function(t){document.addEventListener("visibilitychange",(function(){document.visibilityState==="hidden"&&t()}))},d2=function(t){var e=!1;return function(){e||(t(),e=!0)}},lf=-1,AD=function(){return document.visibilityState!=="hidden"||document.prerendering?1/0:0},rb=function(t){document.visibilityState==="hidden"&&lf>-1&&(lf=t.type==="visibilitychange"?t.timeStamp:0,eoe())},ND=function(){addEventListener("visibilitychange",rb,!0),addEventListener("prerenderingchange",rb,!0)},eoe=function(){removeEventListener("visibilitychange",rb,!0),removeEventListener("prerenderingchange",rb,!0)},oF=function(){return lf<0&&(lf=AD(),ND(),bg((function(){setTimeout((function(){lf=AD(),ND()}),0)}))),{get firstHiddenTime(){return lf}}},f2=function(t){document.prerendering?addEventListener("prerenderingchange",(function(){return t()}),!0):t()},CD=[1800,3e3],toe=function(t,e){e=e||{},f2((function(){var n,r=oF(),i=hc("FCP"),s=uh("paint",(function(a){a.forEach((function(l){l.name==="first-contentful-paint"&&(s.disconnect(),l.startTime<r.firstHiddenTime&&(i.value=Math.max(l.startTime-c2(),0),i.entries.push(l),n(!0)))}))}));s&&(n=mc(t,i,CD,e.reportAllChanges),bg((function(a){i=hc("FCP"),n=mc(t,i,CD,e.reportAllChanges),u2((function(){i.value=performance.now()-a.timeStamp,n(!0)}))})))}))},PD=[.1,.25],noe=function(t,e){(function(n,r){r=r||{},toe(d2((function(){var i,s=hc("CLS",0),a=0,l=[],u=function(f){f.forEach((function(m){if(!m.hadRecentInput){var y=l[0],v=l[l.length-1];a&&m.startTime-v.startTime<1e3&&m.startTime-y.startTime<5e3?(a+=m.value,l.push(m)):(a=m.value,l=[m])}})),a>s.value&&(s.value=a,s.entries=l,i())},d=uh("layout-shift",u);d&&(i=mc(n,s,PD,r.reportAllChanges),Qx((function(){u(d.takeRecords()),i(!0)})),bg((function(){a=0,s=hc("CLS",0),i=mc(n,s,PD,r.reportAllChanges),u2((function(){return i()}))})),setTimeout(i,0))})))})((function(n){var r=(function(i){var s,a={};if(i.entries.length){var l=i.entries.reduce((function(d,f){return d&&d.value>f.value?d:f}));if(l&&l.sources&&l.sources.length){var u=(s=l.sources).find((function(d){return d.node&&d.node.nodeType===1}))||s[0];u&&(a={largestShiftTarget:l2(u.node),largestShiftTime:l.startTime,largestShiftValue:l.value,largestShiftSource:u,largestShiftEntry:l,loadState:sF(l.startTime)})}}return Object.assign(i,{attribution:a})})(n);t(r)}),e)},lF=0,yE=1/0,Ay=0,roe=function(t){t.forEach((function(e){e.interactionId&&(yE=Math.min(yE,e.interactionId),Ay=Math.max(Ay,e.interactionId),lF=Ay?(Ay-yE)/7+1:0)}))},cF=function(){return uA?lF:performance.interactionCount||0},ioe=function(){"interactionCount"in performance||uA||(uA=uh("event",roe,{type:"event",buffered:!0,durationThreshold:0}))},$s=[],sp=new Map,uF=0,soe=function(){var t=Math.min($s.length-1,Math.floor((cF()-uF)/50));return $s[t]},dF=[],aoe=function(t){if(dF.forEach((function(i){return i(t)})),t.interactionId||t.entryType==="first-input"){var e=$s[$s.length-1],n=sp.get(t.interactionId);if(n||$s.length<10||t.duration>e.latency){if(n)t.duration>n.latency?(n.entries=[t],n.latency=t.duration):t.duration===n.latency&&t.startTime===n.entries[0].startTime&&n.entries.push(t);else{var r={id:t.interactionId,latency:t.duration,entries:[t]};sp.set(r.id,r),$s.push(r)}$s.sort((function(i,s){return s.latency-i.latency})),$s.length>10&&$s.splice(10).forEach((function(i){return sp.delete(i.id)}))}}},h2=function(t){var e=self.requestIdleCallback||self.setTimeout,n=-1;return t=d2(t),document.visibilityState==="hidden"?t():(n=e(t),Qx(t)),n},ID=[200,500],ooe=function(t,e){"PerformanceEventTiming"in self&&"interactionId"in PerformanceEventTiming.prototype&&(e=e||{},f2((function(){var n;ioe();var r,i=hc("INP"),s=function(l){h2((function(){l.forEach(aoe);var u=soe();u&&u.latency!==i.value&&(i.value=u.latency,i.entries=u.entries,r())}))},a=uh("event",s,{durationThreshold:(n=e.durationThreshold)!==null&&n!==void 0?n:40});r=mc(t,i,ID,e.reportAllChanges),a&&(a.observe({type:"first-input",buffered:!0}),Qx((function(){s(a.takeRecords()),r(!0)})),bg((function(){uF=cF(),$s.length=0,sp.clear(),i=hc("INP"),r=mc(t,i,ID,e.reportAllChanges)})))})))},_f=[],Hl=[],dA=0,m2=new WeakMap,Ef=new Map,fA=-1,loe=function(t){_f=_f.concat(t),fF()},fF=function(){fA<0&&(fA=h2(coe))},coe=function(){Ef.size>10&&Ef.forEach((function(a,l){sp.has(l)||Ef.delete(l)}));var t=$s.map((function(a){return m2.get(a.entries[0])})),e=Hl.length-50;Hl=Hl.filter((function(a,l){return l>=e||t.includes(a)}));for(var n=new Set,r=0;r<Hl.length;r++){var i=Hl[r];hF(i.startTime,i.processingEnd).forEach((function(a){n.add(a)}))}var s=_f.length-1-50;_f=_f.filter((function(a,l){return a.startTime>dA&&l>s||n.has(a)})),fA=-1};dF.push((function(t){t.interactionId&&t.target&&!Ef.has(t.interactionId)&&Ef.set(t.interactionId,t.target)}),(function(t){var e,n=t.startTime+t.duration;dA=Math.max(dA,t.processingEnd);for(var r=Hl.length-1;r>=0;r--){var i=Hl[r];if(Math.abs(n-i.renderTime)<=8){(e=i).startTime=Math.min(t.startTime,e.startTime),e.processingStart=Math.min(t.processingStart,e.processingStart),e.processingEnd=Math.max(t.processingEnd,e.processingEnd),e.entries.push(t);break}}e||(e={startTime:t.startTime,processingStart:t.processingStart,processingEnd:t.processingEnd,renderTime:n,entries:[t]},Hl.push(e)),(t.interactionId||t.entryType==="first-input")&&m2.set(t,e),fF()}));var hF=function(t,e){for(var n,r=[],i=0;n=_f[i];i++)if(!(n.startTime+n.duration<t)){if(n.startTime>e)break;r.push(n)}return r},uoe=function(t,e){TD||(TD=uh("long-animation-frame",loe)),ooe((function(n){var r=(function(i){var s=i.entries[0],a=m2.get(s),l=s.processingStart,u=a.processingEnd,d=a.entries.sort((function(w,A){return w.processingStart-A.processingStart})),f=hF(s.startTime,u),m=i.entries.find((function(w){return w.target})),y=m&&m.target||Ef.get(s.interactionId),v=[s.startTime+s.duration,u].concat(f.map((function(w){return w.startTime+w.duration}))),_=Math.max.apply(Math,v),E={interactionTarget:l2(y),interactionTargetElement:y,interactionType:s.name.startsWith("key")?"keyboard":"pointer",interactionTime:s.startTime,nextPaintTime:_,processedEventEntries:d,longAnimationFrameEntries:f,inputDelay:l-s.startTime,processingDuration:u-l,presentationDelay:Math.max(_-u,0),loadState:sF(s.startTime)};return Object.assign(i,{attribution:E})})(n);t(r)}),e)},OD=[2500,4e3],vE={},doe=function(t,e){(function(n,r){r=r||{},f2((function(){var i,s=oF(),a=hc("LCP"),l=function(f){r.reportAllChanges||(f=f.slice(-1)),f.forEach((function(m){m.startTime<s.firstHiddenTime&&(a.value=Math.max(m.startTime-c2(),0),a.entries=[m],i())}))},u=uh("largest-contentful-paint",l);if(u){i=mc(n,a,OD,r.reportAllChanges);var d=d2((function(){vE[a.id]||(l(u.takeRecords()),u.disconnect(),vE[a.id]=!0,i(!0))}));["keydown","click"].forEach((function(f){addEventListener(f,(function(){return h2(d)}),{once:!0,capture:!0})})),Qx(d),bg((function(f){a=hc("LCP"),i=mc(n,a,OD,r.reportAllChanges),u2((function(){a.value=performance.now()-f.timeStamp,vE[a.id]=!0,i(!0)}))}))}}))})((function(n){var r=(function(i){var s={timeToFirstByte:0,resourceLoadDelay:0,resourceLoadDuration:0,elementRenderDelay:i.value};if(i.entries.length){var a=Xx();if(a){var l=a.activationStart||0,u=i.entries[i.entries.length-1],d=u.url&&performance.getEntriesByType("resource").filter((function(_){return _.name===u.url}))[0],f=Math.max(0,a.responseStart-l),m=Math.max(f,d?(d.requestStart||d.startTime)-l:0),y=Math.max(m,d?d.responseEnd-l:0),v=Math.max(y,u.startTime-l);s={element:l2(u.element),timeToFirstByte:f,resourceLoadDelay:m-f,resourceLoadDuration:y-m,elementRenderDelay:v-y,navigationEntry:a,lcpEntry:u},u.url&&(s.url=u.url),d&&(s.lcpResourceEntry=d)}}return Object.assign(i,{attribution:s})})(n);t(r)}),e)};const jD="@firebase/performance",hA="0.7.9";const mF=hA,foe="FB-PERF-TRACE-START",hoe="FB-PERF-TRACE-STOP",mA="FB-PERF-TRACE-MEASURE",pF="_wt_",gF="_fp",yF="_fcp",vF="_fid",bF="_lcp",moe="lcp_element",xF="_inp",poe="inp_interactionTarget",wF="_cls",goe="cls_largestShiftTarget",_F="@firebase/performance/config",EF="@firebase/performance/configexpire",yoe="performance",SF="Performance";const voe={"trace started":"Trace {$traceName} was started before.","trace stopped":"Trace {$traceName} is not running.","nonpositive trace startTime":"Trace {$traceName} startTime should be positive.","nonpositive trace duration":"Trace {$traceName} duration should be positive.","no window":"Window is not available.","no app id":"App id is not available.","no project id":"Project id is not available.","no api key":"Api key is not available.","invalid cc log":"Attempted to queue invalid cc event","FB not default":"Performance can only start when Firebase app instance is the default one.","RC response not ok":"RC response is not ok","invalid attribute name":"Attribute name {$attributeName} is invalid.","invalid attribute value":"Attribute value {$attributeValue} is invalid.","invalid custom metric name":"Custom metric name {$customMetricName} is invalid","invalid String merger input":"Input for String merger is invalid, contact support team to resolve.","already initialized":"initializePerformance() has already been called with different options. To avoid this error, call initializePerformance() with the same options as when it was originally called, or call getPerformance() to return the already initialized instance."},$r=new _c(yoe,SF,voe);const Bo=new ag(SF);Bo.logLevel=rt.INFO;let bE,TF;class er{constructor(e){if(this.window=e,!e)throw $r.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay),this.onLCP=doe,this.onINP=uoe,this.onCLS=noe}getUrl(){return this.windowLocation.href.split("?")[0]}mark(e){!this.performance||!this.performance.mark||this.performance.mark(e)}measure(e,n,r){!this.performance||!this.performance.measure||this.performance.measure(e,n,r)}getEntriesByType(e){return!this.performance||!this.performance.getEntriesByType?[]:this.performance.getEntriesByType(e)}getEntriesByName(e){return!this.performance||!this.performance.getEntriesByName?[]:this.performance.getEntriesByName(e)}getTimeOrigin(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)}requiredApisAvailable(){return!fetch||!Promise||!az()?(Bo.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1):aC()?!0:(Bo.info("IndexedDB is not supported by current browser"),!1)}setupObserver(e,n){if(!this.PerformanceObserver)return;new this.PerformanceObserver(i=>{for(const s of i.getEntries())n(s)}).observe({entryTypes:[e]})}static getInstance(){return bE===void 0&&(bE=new er(TF)),bE}}function boe(t){TF=t}let AF;function xoe(t){const e=t.getId();return e.then(n=>{AF=n}),e}function p2(){return AF}function woe(t){const e=t.getToken();return e.then(n=>{}),e}function RD(t,e){const n=t.length-e.length;if(n<0||n>1)throw $r.create("invalid String merger input");const r=[];for(let i=0;i<t.length;i++)r.push(t.charAt(i)),e.length>i&&r.push(e.charAt(i));return r.join("")}let xE;class ri{constructor(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=RD("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=RD("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12,this.logMaxFlushSize=40}getFlTransportFullUrl(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)}static getInstance(){return xE===void 0&&(xE=new ri),xE}}var ap;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.VISIBLE=1]="VISIBLE",t[t.HIDDEN=2]="HIDDEN"})(ap||(ap={}));const _oe=["firebase_","google_","ga_"],Eoe=new RegExp("^[a-zA-Z]\\w*$"),Soe=40,pA=100;function Toe(){const t=er.getInstance().navigator;return t?.serviceWorker?t.serviceWorker.controller?2:3:1}function Aoe(){switch(er.getInstance().document.visibilityState){case"visible":return ap.VISIBLE;case"hidden":return ap.HIDDEN;default:return ap.UNKNOWN}}function Noe(){const e=er.getInstance().navigator.connection;switch(e&&e.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function Coe(t){return t.length===0||t.length>Soe?!1:!_oe.some(n=>t.startsWith(n))&&!!t.match(Eoe)}function Poe(t){return t.length!==0&&t.length<=pA}function NF(t){const e=t.options?.appId;if(!e)throw $r.create("no app id");return e}function Ioe(t){const e=t.options?.projectId;if(!e)throw $r.create("no project id");return e}function Ooe(t){const e=t.options?.apiKey;if(!e)throw $r.create("no api key");return e}const joe="0.0.1",zi={loggingEnabled:!0},Roe="FIREBASE_INSTALLATIONS_AUTH";function koe(t,e){const n=Moe();return n?(kD(n),Promise.resolve()):Voe(t,e).then(kD).then(r=>Doe(r),()=>{})}function Moe(){const t=er.getInstance().localStorage;if(!t)return;const e=t.getItem(EF);if(!e||!Uoe(e))return;const n=t.getItem(_F);if(n)try{return JSON.parse(n)}catch{return}}function Doe(t){const e=er.getInstance().localStorage;!t||!e||(e.setItem(_F,JSON.stringify(t)),e.setItem(EF,String(Date.now()+ri.getInstance().configTimeToLive*60*60*1e3)))}const Loe="Could not fetch config, will use default configs";function Voe(t,e){return woe(t.installations).then(n=>{const r=Ioe(t.app),i=Ooe(t.app),s=`https://firebaseremoteconfig.googleapis.com/v1/projects/${r}/namespaces/fireperf:fetch?key=${i}`,a=new Request(s,{method:"POST",headers:{Authorization:`${Roe} ${n}`},body:JSON.stringify({app_instance_id:e,app_instance_id_token:n,app_id:NF(t.app),app_version:mF,sdk_version:joe})});return fetch(a).then(l=>{if(l.ok)return l.json();throw $r.create("RC response not ok")})}).catch(()=>{Bo.info(Loe)})}function kD(t){if(!t)return t;const e=ri.getInstance(),n=t.entries||{};return n.fpr_enabled!==void 0?e.loggingEnabled=String(n.fpr_enabled)==="true":e.loggingEnabled=zi.loggingEnabled,n.fpr_log_source?e.logSource=Number(n.fpr_log_source):zi.logSource&&(e.logSource=zi.logSource),n.fpr_log_endpoint_url?e.logEndPointUrl=n.fpr_log_endpoint_url:zi.logEndPointUrl&&(e.logEndPointUrl=zi.logEndPointUrl),n.fpr_log_transport_key?e.transportKey=n.fpr_log_transport_key:zi.transportKey&&(e.transportKey=zi.transportKey),n.fpr_vc_network_request_sampling_rate!==void 0?e.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate):zi.networkRequestsSamplingRate!==void 0&&(e.networkRequestsSamplingRate=zi.networkRequestsSamplingRate),n.fpr_vc_trace_sampling_rate!==void 0?e.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate):zi.tracesSamplingRate!==void 0&&(e.tracesSamplingRate=zi.tracesSamplingRate),n.fpr_log_max_flush_size?e.logMaxFlushSize=Number(n.fpr_log_max_flush_size):zi.logMaxFlushSize&&(e.logMaxFlushSize=zi.logMaxFlushSize),e.logTraceAfterSampling=MD(e.tracesSamplingRate),e.logNetworkAfterSampling=MD(e.networkRequestsSamplingRate),t}function Uoe(t){return Number(t)>Date.now()}function MD(t){return Math.random()<=t}let g2=1,wE;function CF(t){return g2=2,wE=wE||Boe(t),wE}function zoe(){return g2===3}function Boe(t){return Foe().then(()=>xoe(t.installations)).then(e=>koe(t,e)).then(()=>DD(),()=>DD())}function Foe(){const t=er.getInstance().document;return new Promise(e=>{if(t&&t.readyState!=="complete"){const n=()=>{t.readyState==="complete"&&(t.removeEventListener("readystatechange",n),e())};t.addEventListener("readystatechange",n)}else e()})}function DD(){g2=3}const PF=10*1e3,$oe=5.5*1e3,qoe=1e3,IF=3,Hoe=65536,Woe=new TextEncoder;let xv=IF,vs=[],LD=!1;function Koe(){LD||(y2($oe),LD=!0)}function y2(t){setTimeout(()=>{xv<=0||(vs.length>0&&Goe(),y2(PF))},t)}function Goe(){const t=vs.splice(0,qoe),e=gA(t);Yoe(e).then(()=>{xv=IF}).catch(()=>{vs=[...t,...vs],xv--,Bo.info(`Tries left: ${xv}.`),y2(PF)})}function gA(t){const e=t.map(r=>({source_extension_json_proto3:r.message,event_time_ms:String(r.eventTime)})),n={request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:ri.getInstance().logSource,log_event:e};return JSON.stringify(n)}function Yoe(t){const e=ri.getInstance().getFlTransportFullUrl();return Woe.encode(t).length<=Hoe&&navigator.sendBeacon&&navigator.sendBeacon(e,t)?Promise.resolve():fetch(e,{method:"POST",body:t})}function Xoe(t){if(!t.eventTime||!t.message)throw $r.create("invalid cc log");vs=[...vs,t]}function Qoe(t){return(...e)=>{const n=t(...e);Xoe({message:n,eventTime:Date.now()})}}function Zoe(){const t=ri.getInstance().getFlTransportFullUrl();for(;vs.length>0;){const e=vs.splice(-ri.getInstance().logMaxFlushSize),n=gA(e);if(!(navigator.sendBeacon&&navigator.sendBeacon(t,n))){vs=[...vs,...e];break}}if(vs.length>0){const e=gA(vs);fetch(t,{method:"POST",body:e}).catch(()=>{Bo.info("Failed flushing queued events.")})}}let op;function OF(t,e){op||(op={send:Qoe(tle),flush:Zoe}),op.send(t,e)}function Ny(t){const e=ri.getInstance();!e.instrumentationEnabled&&t.isAuto||!e.dataCollectionEnabled&&!t.isAuto||er.getInstance().requiredApisAvailable()&&(zoe()?_E(t):CF(t.performanceController).then(()=>_E(t),()=>_E(t)))}function Joe(){op&&op.flush()}function _E(t){if(!p2())return;const e=ri.getInstance();!e.loggingEnabled||!e.logTraceAfterSampling||OF(t,1)}function ele(t){const e=ri.getInstance();if(!e.instrumentationEnabled)return;const n=t.url,r=e.logEndPointUrl.split("?")[0],i=e.flTransportEndpointUrl.split("?")[0];n===r||n===i||!e.loggingEnabled||!e.logNetworkAfterSampling||OF(t,0)}function tle(t,e){return e===0?nle(t):rle(t)}function nle(t){const e={url:t.url,http_method:t.httpMethod||0,http_response_code:200,response_payload_bytes:t.responsePayloadBytes,client_start_time_us:t.startTimeUs,time_to_response_initiated_us:t.timeToResponseInitiatedUs,time_to_response_completed_us:t.timeToResponseCompletedUs},n={application_info:jF(t.performanceController.app),network_request_metric:e};return JSON.stringify(n)}function rle(t){const e={name:t.name,is_auto:t.isAuto,client_start_time_us:t.startTimeUs,duration_us:t.durationUs};Object.keys(t.counters).length!==0&&(e.counters=t.counters);const n=t.getAttributes();Object.keys(n).length!==0&&(e.custom_attributes=n);const r={application_info:jF(t.performanceController.app),trace_metric:e};return JSON.stringify(r)}function jF(t){return{google_app_id:NF(t),app_instance_id:p2(),web_app_info:{sdk_version:mF,page_url:er.getInstance().getUrl(),service_worker_status:Toe(),visibility_state:Aoe(),effective_connection_type:Noe()},application_process_state:0}}function VD(t,e){const n=e;if(!n||n.responseStart===void 0)return;const r=er.getInstance().getTimeOrigin(),i=Math.floor((n.startTime+r)*1e3),s=n.responseStart?Math.floor((n.responseStart-n.startTime)*1e3):void 0,a=Math.floor((n.responseEnd-n.startTime)*1e3),l=n.name&&n.name.split("?")[0],u={performanceController:t,url:l,responsePayloadBytes:n.transferSize,startTimeUs:i,timeToResponseInitiatedUs:s,timeToResponseCompletedUs:a};ele(u)}const ile=100,sle="_",ale=[gF,yF,vF,bF,wF,xF];function ole(t,e){return t.length===0||t.length>ile?!1:e&&e.startsWith(pF)&&ale.indexOf(t)>-1||!t.startsWith(sle)}function lle(t){const e=Math.floor(t);return e<t&&Bo.info(`Metric value should be an Integer, setting the value as : ${e}.`),e}class jp{constructor(e,n,r=!1,i){this.performanceController=e,this.name=n,this.isAuto=r,this.state=1,this.customAttributes={},this.counters={},this.api=er.getInstance(),this.randomId=Math.floor(Math.random()*1e6),this.isAuto||(this.traceStartMark=`${foe}-${this.randomId}-${this.name}`,this.traceStopMark=`${hoe}-${this.randomId}-${this.name}`,this.traceMeasure=i||`${mA}-${this.randomId}-${this.name}`,i&&this.calculateTraceMetrics())}start(){if(this.state!==1)throw $r.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2}stop(){if(this.state!==2)throw $r.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),Ny(this)}record(e,n,r){if(e<=0)throw $r.create("nonpositive trace startTime",{traceName:this.name});if(n<=0)throw $r.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(n*1e3),this.startTimeUs=Math.floor(e*1e3),r&&r.attributes&&(this.customAttributes={...r.attributes}),r&&r.metrics)for(const i of Object.keys(r.metrics))isNaN(Number(r.metrics[i]))||(this.counters[i]=Math.floor(Number(r.metrics[i])));Ny(this)}incrementMetric(e,n=1){this.counters[e]===void 0?this.putMetric(e,n):this.putMetric(e,this.counters[e]+n)}putMetric(e,n){if(ole(e,this.name))this.counters[e]=lle(n??0);else throw $r.create("invalid custom metric name",{customMetricName:e})}getMetric(e){return this.counters[e]||0}putAttribute(e,n){const r=Coe(e),i=Poe(n);if(r&&i){this.customAttributes[e]=n;return}if(!r)throw $r.create("invalid attribute name",{attributeName:e});if(!i)throw $r.create("invalid attribute value",{attributeValue:n})}getAttribute(e){return this.customAttributes[e]}removeAttribute(e){this.customAttributes[e]!==void 0&&delete this.customAttributes[e]}getAttributes(){return{...this.customAttributes}}setStartTime(e){this.startTimeUs=e}setDuration(e){this.durationUs=e}calculateTraceMetrics(){const e=this.api.getEntriesByName(this.traceMeasure),n=e&&e[0];n&&(this.durationUs=Math.floor(n.duration*1e3),this.startTimeUs=Math.floor((n.startTime+this.api.getTimeOrigin())*1e3))}static createOobTrace(e,n,r,i,s){const a=er.getInstance().getUrl();if(!a)return;const l=new jp(e,pF+a,!0),u=Math.floor(er.getInstance().getTimeOrigin()*1e3);l.setStartTime(u),n&&n[0]&&(l.setDuration(Math.floor(n[0].duration*1e3)),l.putMetric("domInteractive",Math.floor(n[0].domInteractive*1e3)),l.putMetric("domContentLoadedEventEnd",Math.floor(n[0].domContentLoadedEventEnd*1e3)),l.putMetric("loadEventEnd",Math.floor(n[0].loadEventEnd*1e3)));const d="first-paint",f="first-contentful-paint";if(r){const m=r.find(v=>v.name===d);m&&m.startTime&&l.putMetric(gF,Math.floor(m.startTime*1e3));const y=r.find(v=>v.name===f);y&&y.startTime&&l.putMetric(yF,Math.floor(y.startTime*1e3)),s&&l.putMetric(vF,Math.floor(s*1e3))}this.addWebVitalMetric(l,bF,moe,i.lcp),this.addWebVitalMetric(l,wF,goe,i.cls),this.addWebVitalMetric(l,xF,poe,i.inp),Ny(l),Joe()}static addWebVitalMetric(e,n,r,i){i&&(e.putMetric(n,Math.floor(i.value*1e3)),i.elementAttribution&&(i.elementAttribution.length>pA?e.putAttribute(r,i.elementAttribution.substring(0,pA)):e.putAttribute(r,i.elementAttribution)))}static createUserTimingTrace(e,n){const r=new jp(e,n,!1,n);Ny(r)}}let wv={},UD=!1,RF;function zD(t){p2()&&(setTimeout(()=>ule(t),0),setTimeout(()=>cle(t),0),setTimeout(()=>dle(t),0))}function cle(t){const e=er.getInstance(),n=e.getEntriesByType("resource");for(const r of n)VD(t,r);e.setupObserver("resource",r=>VD(t,r))}function ule(t){const e=er.getInstance();"onpagehide"in window?e.document.addEventListener("pagehide",()=>EE(t)):e.document.addEventListener("unload",()=>EE(t)),e.document.addEventListener("visibilitychange",()=>{e.document.visibilityState==="hidden"&&EE(t)}),e.onFirstInputDelay&&e.onFirstInputDelay(n=>{RF=n}),e.onLCP(n=>{wv.lcp={value:n.value,elementAttribution:n.attribution?.element}}),e.onCLS(n=>{wv.cls={value:n.value,elementAttribution:n.attribution?.largestShiftTarget}}),e.onINP(n=>{wv.inp={value:n.value,elementAttribution:n.attribution?.interactionTarget}})}function dle(t){const e=er.getInstance(),n=e.getEntriesByType("measure");for(const r of n)BD(t,r);e.setupObserver("measure",r=>BD(t,r))}function BD(t,e){const n=e.name;n.substring(0,mA.length)!==mA&&jp.createUserTimingTrace(t,n)}function EE(t){if(!UD){UD=!0;const e=er.getInstance(),n=e.getEntriesByType("navigation"),r=e.getEntriesByType("paint");setTimeout(()=>{jp.createOobTrace(t,n,r,wv,RF)},0)}}class fle{constructor(e,n){this.app=e,this.installations=n,this.initialized=!1}_init(e){this.initialized||(e?.dataCollectionEnabled!==void 0&&(this.dataCollectionEnabled=e.dataCollectionEnabled),e?.instrumentationEnabled!==void 0&&(this.instrumentationEnabled=e.instrumentationEnabled),er.getInstance().requiredApisAvailable()?oC().then(n=>{n&&(Koe(),CF(this).then(()=>zD(this),()=>zD(this)),this.initialized=!0)}).catch(n=>{Bo.info(`Environment doesn't support IndexedDB: ${n}`)}):Bo.info('Firebase Performance cannot start if the browser does not support "Fetch" and "Promise", or cookies are disabled.'))}set instrumentationEnabled(e){ri.getInstance().instrumentationEnabled=e}get instrumentationEnabled(){return ri.getInstance().instrumentationEnabled}set dataCollectionEnabled(e){ri.getInstance().dataCollectionEnabled=e}get dataCollectionEnabled(){return ri.getInstance().dataCollectionEnabled}}const hle="[DEFAULT]";function mle(t=eh()){return t=Nt(t),Ga(t,"performance").getImmediate()}const ple=(t,{options:e})=>{const n=t.getProvider("app").getImmediate(),r=t.getProvider("installations-internal").getImmediate();if(n.name!==hle)throw $r.create("FB not default");if(typeof window>"u")throw $r.create("no window");boe(window);const i=new fle(n,r);return i._init(e),i};function gle(){Qi(new Pi("performance",ple,"PUBLIC")),vr(jD,hA),vr(jD,hA,"esm2020")}gle();const kF="firebasestorage.googleapis.com",MF="storageBucket",yle=120*1e3,vle=600*1e3;class _n extends Ji{constructor(e,n,r=0){super(SE(e),`Firebase Storage: ${n} (${SE(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,_n.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return SE(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var wn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(wn||(wn={}));function SE(t){return"storage/"+t}function v2(){const t="An unknown error occurred, please check the error payload for server response.";return new _n(wn.UNKNOWN,t)}function ble(t){return new _n(wn.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function xle(t){return new _n(wn.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function wle(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new _n(wn.UNAUTHENTICATED,t)}function _le(){return new _n(wn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Ele(t){return new _n(wn.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function Sle(){return new _n(wn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Tle(){return new _n(wn.CANCELED,"User canceled the upload/download.")}function Ale(t){return new _n(wn.INVALID_URL,"Invalid URL '"+t+"'.")}function Nle(t){return new _n(wn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Cle(){return new _n(wn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+MF+"' property when initializing the app?")}function Ple(){return new _n(wn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Ile(){return new _n(wn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Ole(t){return new _n(wn.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function yA(t){return new _n(wn.INVALID_ARGUMENT,t)}function DF(){return new _n(wn.APP_DELETED,"The Firebase app was deleted.")}function jle(t){return new _n(wn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function lp(t,e){return new _n(wn.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Tm(t){throw new _n(wn.INTERNAL_ERROR,"Internal error: "+t)}class Wi{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Wi.makeFromUrl(e,n)}catch{return new Wi(e,"")}if(r.path==="")return r;throw Nle(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(L){L.path.charAt(L.path.length-1)==="/"&&(L.path_=L.path_.slice(0,-1))}const a="(/(.*))?$",l=new RegExp("^gs://"+i+a,"i"),u={bucket:1,path:3};function d(L){L.path_=decodeURIComponent(L.path)}const f="v[A-Za-z0-9_]+",m=n.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",v=new RegExp(`^https?://${m}/${f}/b/${i}/o${y}`,"i"),_={bucket:1,path:3},E=n===kF?"(?:storage.googleapis.com|storage.cloud.google.com)":n,w="([^?#]*)",A=new RegExp(`^https?://${E}/${i}/${w}`,"i"),P=[{regex:l,indices:u,postModify:s},{regex:v,indices:_,postModify:d},{regex:A,indices:{bucket:1,path:2},postModify:d}];for(let L=0;L<P.length;L++){const M=P[L],z=M.regex.exec(e);if(z){const j=z[M.indices.bucket];let R=z[M.indices.path];R||(R=""),r=new Wi(j,R),M.postModify(r);break}}if(r==null)throw Ale(e);return r}}class Rle{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function kle(t,e,n){let r=1,i=null,s=null,a=!1,l=0;function u(){return l===2}let d=!1;function f(...w){d||(d=!0,e.apply(null,w))}function m(w){i=setTimeout(()=>{i=null,t(v,u())},w)}function y(){s&&clearTimeout(s)}function v(w,...A){if(d){y();return}if(w){y(),f.call(null,w,...A);return}if(u()||a){y(),f.call(null,w,...A);return}r<64&&(r*=2);let P;l===1?(l=2,P=0):P=(r+Math.random())*1e3,m(P)}let _=!1;function E(w){_||(_=!0,y(),!d&&(i!==null?(w||(l=2),clearTimeout(i),m(0)):w||(l=1)))}return m(0),s=setTimeout(()=>{a=!0,E(!0)},n),E}function Mle(t){t(!1)}function Dle(t){return t!==void 0}function Lle(t){return typeof t=="object"&&!Array.isArray(t)}function b2(t){return typeof t=="string"||t instanceof String}function FD(t){return x2()&&t instanceof Blob}function x2(){return typeof Blob<"u"}function $D(t,e,n,r){if(r<e)throw yA(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw yA(`Invalid value for '${t}'. Expected ${n} or less.`)}function w2(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function LF(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Pu;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Pu||(Pu={}));function Vle(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}class Ule{constructor(e,n,r,i,s,a,l,u,d,f,m,y=!0,v=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=a,this.callback_=l,this.errorCallback_=u,this.timeout_=d,this.progressCallback_=f,this.connectionFactory_=m,this.retry=y,this.isUsingEmulator=v,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((_,E)=>{this.resolve_=_,this.reject_=E,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Cy(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const a=l=>{const u=l.loaded,d=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,d)};this.progressCallback_!==null&&s.addUploadProgressListener(a),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(a),this.pendingConnection_=null;const l=s.getErrorCode()===Pu.NO_ERROR,u=s.getStatus();if(!l||Vle(u,this.additionalRetryCodes_)&&this.retry){const f=s.getErrorCode()===Pu.ABORT;r(!1,new Cy(!1,null,f));return}const d=this.successCodes_.indexOf(u)!==-1;r(!0,new Cy(d,s))})},n=(r,i)=>{const s=this.resolve_,a=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(l,l.getResponse());Dle(u)?s(u):s()}catch(u){a(u)}else if(l!==null){const u=v2();u.serverResponse=l.getErrorText(),this.errorCallback_?a(this.errorCallback_(l,u)):a(u)}else if(i.canceled){const u=this.appDelete_?DF():Tle();a(u)}else{const u=Sle();a(u)}};this.canceled_?n(!1,new Cy(!1,null,!0)):this.backoffId_=kle(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Mle(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Cy{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function zle(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Ble(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Fle(t,e){e&&(t["X-Firebase-GMPID"]=e)}function $le(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function qle(t,e,n,r,i,s,a=!0,l=!1){const u=LF(t.urlParams),d=t.url+u,f=Object.assign({},t.headers);return Fle(f,e),zle(f,n),Ble(f,s),$le(f,r),new Ule(d,t.method,f,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,a,l)}function Hle(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Wle(...t){const e=Hle();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(x2())return new Blob(t);throw new _n(wn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Kle(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}function Gle(t){if(typeof atob>"u")throw Ole("base-64");return atob(t)}const ja={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class TE{constructor(e,n){this.data=e,this.contentType=n||null}}function Yle(t,e){switch(t){case ja.RAW:return new TE(VF(e));case ja.BASE64:case ja.BASE64URL:return new TE(UF(t,e));case ja.DATA_URL:return new TE(Qle(e),Zle(e))}throw v2()}function VF(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,a=t.charCodeAt(++n);r=65536|(s&1023)<<10|a&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Xle(t){let e;try{e=decodeURIComponent(t)}catch{throw lp(ja.DATA_URL,"Malformed data URL.")}return VF(e)}function UF(t,e){switch(t){case ja.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw lp(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case ja.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw lp(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Gle(e)}catch(i){throw i.message.includes("polyfill")?i:lp(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class zF{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw lp(ja.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=Jle(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function Qle(t){const e=new zF(t);return e.base64?UF(ja.BASE64,e.rest):Xle(e.rest)}function Zle(t){return new zF(t).contentType}function Jle(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}class Wl{constructor(e,n){let r=0,i="";FD(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(FD(this.data_)){const r=this.data_,i=Kle(r,e,n);return i===null?null:new Wl(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Wl(r,!0)}}static getBlob(...e){if(x2()){const n=e.map(r=>r instanceof Wl?r.data_:r);return new Wl(Wle.apply(null,n))}else{const n=e.map(a=>b2(a)?Yle(ja.RAW,a).data:a.data_);let r=0;n.forEach(a=>{r+=a.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(a=>{for(let l=0;l<a.length;l++)i[s++]=a[l]}),new Wl(i,!0)}}uploadData(){return this.data_}}function BF(t){let e;try{e=JSON.parse(t)}catch{return null}return Lle(e)?e:null}function ece(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function tce(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function FF(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}function nce(t,e){return e}class Zr{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||nce}}let Py=null;function rce(t){return!b2(t)||t.length<2?t:FF(t)}function $F(){if(Py)return Py;const t=[];t.push(new Zr("bucket")),t.push(new Zr("generation")),t.push(new Zr("metageneration")),t.push(new Zr("name","fullPath",!0));function e(s,a){return rce(a)}const n=new Zr("name");n.xform=e,t.push(n);function r(s,a){return a!==void 0?Number(a):a}const i=new Zr("size");return i.xform=r,t.push(i),t.push(new Zr("timeCreated")),t.push(new Zr("updated")),t.push(new Zr("md5Hash",null,!0)),t.push(new Zr("cacheControl",null,!0)),t.push(new Zr("contentDisposition",null,!0)),t.push(new Zr("contentEncoding",null,!0)),t.push(new Zr("contentLanguage",null,!0)),t.push(new Zr("contentType",null,!0)),t.push(new Zr("metadata","customMetadata",!0)),Py=t,Py}function ice(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new Wi(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function sce(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const a=n[s];r[a.local]=a.xform(r,e[a.server])}return ice(r,t),r}function qF(t,e,n){const r=BF(e);return r===null?null:sce(t,r,n)}function ace(t,e,n,r){const i=BF(e);if(i===null||!b2(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const a=encodeURIComponent;return s.split(",").map(d=>{const f=t.bucket,m=t.fullPath,y="/b/"+a(f)+"/o/"+a(m),v=w2(y,n,r),_=LF({alt:"media",token:d});return v+_})[0]}function oce(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class HF{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function WF(t){if(!t)throw v2()}function lce(t,e){function n(r,i){const s=qF(t,i,e);return WF(s!==null),s}return n}function cce(t,e){function n(r,i){const s=qF(t,i,e);return WF(s!==null),ace(s,i,t.host,t._protocol)}return n}function KF(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=_le():i=wle():n.getStatus()===402?i=xle(t.bucket):n.getStatus()===403?i=Ele(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function uce(t){const e=KF(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=ble(t.path)),s.serverResponse=i.serverResponse,s}return n}function dce(t,e,n){const r=e.fullServerUrl(),i=w2(r,t.host,t._protocol),s="GET",a=t.maxOperationRetryTime,l=new HF(i,s,cce(t,n),a);return l.errorHandler=uce(e),l}function fce(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function hce(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=fce(null,e)),r}function mce(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function l(){let P="";for(let L=0;L<2;L++)P=P+Math.random().toString().slice(2);return P}const u=l();a["Content-Type"]="multipart/related; boundary="+u;const d=hce(e,r,i),f=oce(d,n),m="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+f+`\r
--`+u+`\r
Content-Type: `+d.contentType+`\r
\r
`,y=`\r
--`+u+"--",v=Wl.getBlob(m,r,y);if(v===null)throw Ple();const _={name:d.fullPath},E=w2(s,t.host,t._protocol),w="POST",A=t.maxUploadRetryTime,C=new HF(E,w,lce(t,n),A);return C.urlParams=_,C.headers=a,C.body=v.uploadData(),C.errorHandler=KF(e),C}class pce{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Pu.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Pu.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Pu.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,s){if(this.sent_)throw Tm("cannot .send() more than once");if(Ka(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const a in s)s.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,s[a].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Tm("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Tm("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Tm("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Tm("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class gce extends pce{initXhr(){this.xhr_.responseType="text"}}function GF(){return new gce}class Hu{constructor(e,n){this._service=e,n instanceof Wi?this._location=n:this._location=Wi.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Hu(e,n)}get root(){const e=new Wi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return FF(this._location.path)}get storage(){return this._service}get parent(){const e=ece(this._location.path);if(e===null)return null;const n=new Wi(this._location.bucket,e);return new Hu(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw jle(e)}}function yce(t,e,n){t._throwIfRoot("uploadBytes");const r=mce(t.storage,t._location,$F(),new Wl(e,!0),n);return t.storage.makeRequestWithTokens(r,GF).then(i=>({metadata:i,ref:t}))}function vce(t){t._throwIfRoot("getDownloadURL");const e=dce(t.storage,t._location,$F());return t.storage.makeRequestWithTokens(e,GF).then(n=>{if(n===null)throw Ile();return n})}function bce(t,e){const n=tce(t._location.path,e),r=new Wi(t._location.bucket,n);return new Hu(t.storage,r)}function xce(t){return/^[A-Za-z]+:\/\//.test(t)}function wce(t,e){return new Hu(t,e)}function YF(t,e){if(t instanceof _2){const n=t;if(n._bucket==null)throw Cle();const r=new Hu(n,n._bucket);return e!=null?YF(r,e):r}else return e!==void 0?bce(t,e):t}function _ce(t,e){if(e&&xce(e)){if(t instanceof _2)return wce(t,e);throw yA("To use ref(service, url), the first argument must be a Storage instance.")}else return YF(t,e)}function qD(t,e){const n=e?.[MF];return n==null?null:Wi.makeFromBucketSpec(n,t)}function Ece(t,e,n,r={}){t.host=`${e}:${n}`;const i=Ka(e);i&&(bx(`https://${t.host}/b`),xx("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:iz(s,t.app.options.projectId))}class _2{constructor(e,n,r,i,s,a=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=a,this._bucket=null,this._host=kF,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=yle,this._maxUploadRetryTime=vle,this._requests=new Set,i!=null?this._bucket=Wi.makeFromBucketSpec(i,this._host):this._bucket=qD(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Wi.makeFromBucketSpec(this._url,e):this._bucket=qD(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){$D("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){$D("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(ei(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Hu(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new Rle(DF());{const a=qle(e,this._appId,r,i,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const HD="@firebase/storage",WD="0.14.0";const XF="storage";function Sce(t,e,n){return t=Nt(t),yce(t,e,n)}function Tce(t){return t=Nt(t),vce(t)}function Ace(t,e){return t=Nt(t),_ce(t,e)}function Nce(t=eh(),e){t=Nt(t);const r=Ga(t,XF).getImmediate({identifier:e}),i=sC("storage");return i&&Cce(r,...i),r}function Cce(t,e,n,r={}){Ece(t,e,n,r)}function Pce(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new _2(n,r,i,e,td)}function Ice(){Qi(new Pi(XF,Pce,"PUBLIC").setMultipleInstances(!0)),vr(HD,WD,""),vr(HD,WD,"esm2020")}Ice();const Oce={apiKey:"AIzaSyBBlyZqdAJw_yNNfUQfVW59eYgkrBJLUCQ",authDomain:"exam-coach-ai-platform.firebaseapp.com",projectId:"exam-coach-ai-platform",storageBucket:"exam-coach-ai-platform.firebasestorage.app",messagingSenderId:"980138578480",appId:"1:980138578480:web:f796be8a414d778a6bd3f5"};console.log("Initializing Firebase...");let ou,qe,mt,Df,QF,ZF,ib;try{ou=uz(Oce),console.log("Firebase App initialized"),qe=GC(ou),console.log("Firestore initialized"),mt=ene(ou),console.log("Auth initialized"),Df=Fu(ou),QF=Kae(ou),console.log("Analytics initialized"),ZF=mle(ou),console.log("Performance initialized"),ib=Nce(ou)}catch(t){console.error("Firebase initialization error:",t)}const JF=new _o,KD=Object.freeze(Object.defineProperty({__proto__:null,get analytics(){return QF},get auth(){return mt},get db(){return qe},get functions(){return Df},googleProvider:JF,get perf(){return ZF},get storage(){return ib}},Symbol.toStringTag,{value:"Module"})),sd="1.13.1";function jce(){if(xr().pathname!=="/")return null;const e=jn(),{user:n}=oa(),r=()=>{e(n?"/app":"/login?mode=signup")};return p.jsxs("div",{className:"bg-slate-900 min-h-screen font-sans selection:bg-brand-500/30 text-slate-200",children:[p.jsxs("div",{className:"absolute top-0 w-full bg-slate-950/50 text-center py-1 text-xs font-mono text-white z-[100]",children:["Version: ",sd]}),p.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 border-b border-white/5 bg-slate-950/80 backdrop-blur-md",children:p.jsxs("div",{className:"mx-auto flex max-w-7xl items-center justify-between px-6 py-4",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("img",{src:"/favicon.png",alt:"Exam Coach Pro AI Logo",className:"h-8 w-8 rounded-lg object-contain"}),p.jsx("span",{className:"text-lg font-bold tracking-tight text-white",children:"Exam Coach Pro AI"})]}),p.jsxs("div",{className:"flex items-center gap-6",children:[p.jsx("button",{onClick:()=>e("/login"),className:"text-sm font-medium text-slate-300 hover:text-white transition-colors",children:"Log in"}),p.jsx("button",{onClick:r,className:"rounded-full bg-white px-5 py-2 text-sm font-bold text-slate-950 hover:bg-slate-200 transition-all hover:scale-105",children:"Get Started"})]})]})}),p.jsxs("section",{className:"relative pt-32 pb-20 overflow-hidden",children:[p.jsx("div",{className:"absolute top-20 left-1/2 -z-10 h-[500px] w-[500px] -translate-x-1/2 rounded-full bg-brand-600/20 blur-[120px]"}),p.jsxs("div",{className:"mx-auto max-w-7xl px-6 text-center",children:[p.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full border border-brand-500/30 bg-brand-500/10 px-3 py-1 text-xs font-medium text-brand-300 mb-8",children:[p.jsxs("span",{className:"relative flex h-2 w-2",children:[p.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-brand-400 opacity-75"}),p.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-brand-500"})]}),"Aligned with the 2025 PMP Exam Content Outline (ECO)"]}),p.jsxs("h1",{className:"mx-auto max-w-4xl text-5xl font-extrabold tracking-tight text-white sm:text-7xl mb-6",children:["Don't Just Quiz Yourself. ",p.jsx("br",{className:"hidden sm:block"}),p.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-brand-400 to-blue-500",children:"Train With an AI Tutor."})]}),p.jsxs("p",{className:"mx-auto max-w-2xl text-lg text-slate-400 mb-10 leading-relaxed",children:["Most apps just test you. Exam Coach Pro explains the ",p.jsx("i",{children:"why"})," behind every answer, finds your blind spots, and builds a custom plan to get you passing confidenty."]}),p.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4 mb-20",children:[p.jsx("button",{onClick:r,className:"w-full sm:w-auto rounded-full bg-brand-600 px-8 py-4 text-base font-bold text-white shadow-lg shadow-brand-600/25 hover:bg-brand-500 hover:scale-105 transition-all",children:"Meet Your AI Tutor"}),p.jsx("button",{onClick:()=>{document.getElementById("problem")?.scrollIntoView({behavior:"smooth"})},className:"w-full sm:w-auto rounded-full border border-slate-700 bg-slate-800/50 px-8 py-4 text-base font-bold text-white hover:bg-slate-800 transition-all",children:"See How It Works"})]}),p.jsx("div",{className:"relative mx-auto max-w-5xl rounded-2xl border border-slate-800 bg-slate-900/50 p-2 shadow-2xl backdrop-blur-sm",children:p.jsx("img",{src:"/assets/dashboard-preview.png",alt:"Exam Coach Pro AI Dashboard",className:"rounded-xl shadow-inner w-full h-auto object-cover opacity-90 hover:opacity-100 transition-opacity duration-700"})})]})]}),p.jsx("section",{id:"problem",className:"py-24 bg-slate-950 border-t border-slate-900",children:p.jsxs("div",{className:"mx-auto max-w-4xl px-6 text-center",children:[p.jsx("h2",{className:"text-3xl font-bold text-white mb-12",children:"The Real Reason Smart People Fail"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[p.jsxs("div",{className:"p-6 rounded-2xl bg-slate-900/50 border border-slate-800",children:[p.jsx("div",{className:"text-red-400 text-xl font-bold mb-2",children:"Passive Reading"}),p.jsx("p",{className:"text-slate-400 text-sm",children:"Reading textbooks cover-to-cover doesn't work. You need active recall to build memory."})]}),p.jsxs("div",{className:"p-6 rounded-2xl bg-slate-900/50 border border-slate-800",children:[p.jsx("div",{className:"text-red-400 text-xl font-bold mb-2",children:"Random Drilling"}),p.jsxs("p",{className:"text-slate-400 text-sm",children:[" Answering random questions is inefficient. You need to focus on what you ",p.jsx("i",{children:"don't"})," know."]})]}),p.jsxs("div",{className:"p-6 rounded-2xl bg-slate-900/50 border border-slate-800",children:[p.jsx("div",{className:"text-red-400 text-xl font-bold mb-2",children:'Missing The "Why"'}),p.jsx("p",{className:"text-slate-400 text-sm",children:"Getting a question right by guessing is dangerous. You need to understand the underlying logic."})]})]})]})}),p.jsx("section",{className:"py-24 bg-slate-900/50",children:p.jsxs("div",{className:"mx-auto max-w-7xl px-6",children:[p.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-16",children:[p.jsx("h2",{className:"text-3xl font-bold text-white sm:text-4xl mb-4",children:"Your New Competitive Advantage"}),p.jsx("p",{className:"text-slate-400",children:"You already have the books. Exam Coach Pro AI is the coach that tells you what to studyand what to skip."})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[p.jsxs("div",{className:"rounded-2xl border border-slate-800 bg-slate-950 p-8 hover:border-brand-500/30 transition-colors",children:[p.jsx("div",{className:"text-4xl mb-6",children:""}),p.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"Answers That Teach"}),p.jsx("p",{className:"text-slate-400 leading-relaxed",children:'Stop wasting time on topics you already know. The AI finds your weak domains (e.g., "Cost Management") and drills them until you master them.'})]}),p.jsxs("div",{className:"rounded-2xl border border-slate-800 bg-slate-950 p-8 hover:border-brand-500/30 transition-colors relative overflow-hidden group",children:[p.jsx("div",{className:"absolute top-0 right-0 bg-brand-600 text-white text-xs font-bold px-3 py-1 rounded-bl-xl",children:"POPULAR"}),p.jsx("div",{className:"text-4xl mb-6",children:""}),p.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"Pattern Recognition"}),p.jsx("p",{className:"text-slate-400 leading-relaxed",children:'The AI spots the traps you keep falling for (like "Misreading Agile Roles") and drills them until they become your strengths.'})]}),p.jsxs("div",{className:"rounded-2xl border border-slate-800 bg-slate-950 p-8 hover:border-brand-500/30 transition-colors",children:[p.jsx("div",{className:"text-4xl mb-6",children:""}),p.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"Plans That Adapt"}),p.jsx("p",{className:"text-slate-400 leading-relaxed",children:"Life happens. Our dynamic study plans adjust automatically based on your mastery level and how much time you actually have."})]})]})]})}),p.jsx("section",{id:"features",className:"py-24 relative",children:p.jsx("div",{className:"mx-auto max-w-7xl px-6",children:p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16 items-center",children:[p.jsx("div",{className:"order-2 lg:order-1",children:p.jsx("div",{className:"relative rounded-2xl border border-slate-800 bg-slate-900 p-2 shadow-2xl rotate-1 hover:rotate-0 transition-transform duration-500",children:p.jsx("img",{src:"/assets/exam-preview.png",alt:"Exam Simulator Interface",className:"rounded-xl w-full h-auto"})})}),p.jsxs("div",{className:"order-1 lg:order-2 space-y-8",children:[p.jsxs("h2",{className:"text-3xl font-bold text-white sm:text-4xl",children:["Real Simulation. ",p.jsx("br",{}),p.jsx("span",{className:"text-brand-400",children:"Total Confidence."})]}),p.jsx("p",{className:"text-lg text-slate-400",children:"The PMP isn't just about what you knowit's about staying focused for 4 hours. Our full mock exams and AI tutor prepare you for the mental marathon."}),p.jsx("ul",{className:"space-y-4",children:["Deep Dive 'Why' Explanations","AI-Powered Pattern Detection","Authorized Exam Content Outline (ECO) 2025","Stamina & Focus Tracking"].map((i,s)=>p.jsxs("li",{className:"flex items-center gap-3 text-slate-300",children:[p.jsx("div",{className:"flex h-6 w-6 items-center justify-center rounded-full bg-brand-500/20 text-brand-400",children:p.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),i]},s))}),p.jsxs("button",{onClick:r,className:"mt-4 text-brand-400 font-bold hover:text-brand-300 flex items-center gap-2 group",children:["Assess Your Readiness ",p.jsx("span",{className:"group-hover:translate-x-1 transition-transform",children:""})]})]})]})})}),p.jsxs("section",{className:"py-24 relative overflow-hidden",children:[p.jsx("div",{className:"absolute inset-0 bg-brand-600/10"}),p.jsxs("div",{className:"mx-auto max-w-4xl px-6 text-center relative z-10",children:[p.jsx("h2",{className:"text-4xl font-bold text-white mb-6",children:"Stop Guessing. Start Understanding."}),p.jsx("p",{className:"text-xl text-slate-400 mb-10",children:"Join the professionals who found clarity with Exam Coach Pro AI."}),p.jsx("button",{onClick:r,className:"rounded-full bg-white px-10 py-4 text-lg font-bold text-slate-900 hover:bg-slate-100 hover:scale-105 transition-all shadow-xl",children:"Start For Free"}),p.jsx("p",{className:"mt-6 text-sm text-slate-500",children:"No credit card required for trial."})]})]}),p.jsx("footer",{className:"border-t border-slate-800 bg-slate-950 py-12",children:p.jsxs("div",{className:"mx-auto max-w-7xl px-6 flex flex-col md:flex-row items-center justify-between gap-6",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("img",{src:"/favicon.png",alt:"Exam Coach Pro AI Logo",className:"h-6 w-6 rounded object-contain"}),p.jsx("span",{className:"text-slate-400 font-semibold",children:"Exam Coach Pro AI"})]}),p.jsxs("p",{className:"text-slate-600 text-sm",children:[" ",new Date().getFullYear()," Exam Coach Pro AI. All rights reserved."]}),p.jsxs("div",{className:"flex gap-6 text-sm text-slate-500",children:[p.jsx("a",{href:"#",className:"hover:text-white",children:"Terms"}),p.jsx("a",{href:"#",className:"hover:text-white",children:"Privacy"}),p.jsx("a",{href:"#",className:"hover:text-white",children:"Contact"})]})]})})]})}const Rce="modulepreload",kce=function(t){return"/"+t},GD={},cf=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let d=function(f){return Promise.all(f.map(m=>Promise.resolve(m).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};var a=d;document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=l?.nonce||l?.getAttribute("nonce");i=d(n.map(f=>{if(f=kce(f),f in GD)return;GD[f]=!0;const m=f.endsWith(".css"),y=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${y}`))return;const v=document.createElement("link");if(v.rel=m?"stylesheet":Rce,m||(v.as="script"),v.crossOrigin="",v.href=f,u&&v.setAttribute("nonce",u),document.head.appendChild(v),m)return new Promise((_,E)=>{v.addEventListener("load",_),v.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${f}`)))})}))}function s(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return i.then(l=>{for(const u of l||[])u.status==="rejected"&&s(u.reason);return e().catch(s)})},e9=T.createContext(void 0);function Mce({children:t}){const[e,n]=T.useState(()=>localStorage.getItem("sidebarCollapsed")==="true");T.useEffect(()=>{localStorage.setItem("sidebarCollapsed",e.toString())},[e]);const r=()=>{n(i=>!i)};return p.jsx(e9.Provider,{value:{isCollapsed:e,toggleSidebar:r},children:t})}function E2(){const t=T.useContext(e9);if(t===void 0)throw new Error("useSidebar must be used within a SidebarProvider");return t}const Dce=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Lce=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),YD=t=>{const e=Lce(t);return e.charAt(0).toUpperCase()+e.slice(1)},t9=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),Vce=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var Uce={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const zce=T.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:a,...l},u)=>T.createElement("svg",{ref:u,...Uce,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:t9("lucide",i),...!s&&!Vce(l)&&{"aria-hidden":"true"},...l},[...a.map(([d,f])=>T.createElement(d,f)),...Array.isArray(s)?s:[s]]));const We=(t,e)=>{const n=T.forwardRef(({className:r,...i},s)=>T.createElement(zce,{ref:s,iconNode:e,className:t9(`lucide-${Dce(YD(t))}`,`lucide-${t}`,r),...i}));return n.displayName=YD(t),n};const Bce=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],Iy=We("arrow-down",Bce);const Fce=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],S2=We("arrow-left",Fce);const $ce=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],qce=We("arrow-right",$ce);const Hce=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Wce=We("award",Hce);const Kce=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],n9=We("book-open",Kce);const Gce=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],Yce=We("brain",Gce);const Xce=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Zx=We("calendar",Xce);const Qce=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],r9=We("chart-no-axes-column",Qce);const Zce=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Va=We("check",Zce);const Jce=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],T2=We("chevron-left",Jce);const eue=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],sb=We("chevron-right",eue);const tue=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],nue=We("circle-alert",tue);const rue=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Sf=We("circle-check-big",rue);const iue=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],i9=We("circle-check",iue);const sue=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],XD=We("circle-x",sue);const aue=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Wu=We("clock",aue);const oue=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],QD=We("credit-card",oue);const lue=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],cue=We("crown",lue);const uue=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],due=We("file-text",uue);const fue=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],hue=We("flag",fue);const mue=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],pue=We("history",mue);const gue=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],s9=We("layout-dashboard",gue);const yue=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],vue=We("layout-grid",yue);const bue=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],vA=We("loader-circle",bue);const xue=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Jx=We("lock",xue);const wue=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],_ue=We("medal",wue);const Eue=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],a9=We("message-square",Eue);const Sue=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],o9=We("mic",Sue);const Tue=[["path",{d:"M5 12h14",key:"1ays0h"}]],Aue=We("minus",Tue);const Nue=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],Cue=We("panels-top-left",Nue);const Pue=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],l9=We("play",Pue);const Iue=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Oue=We("rotate-ccw",Iue);const jue=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Rue=We("settings",jue);const kue=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],c9=We("shield",kue);const Mue=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Due=We("square",Mue);const Lue=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],u9=We("star",Lue);const Vue=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],bA=We("target",Vue);const Uue=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],zue=We("trending-down",Uue);const Bue=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Fue=We("trending-up",Bue);const $ue=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ab=We("triangle-alert",$ue);const que=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],ob=We("trophy",que);const Hue=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Wue=We("upload",Hue);const Kue=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Gue=We("user",Kue);const Yue=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],ZD=We("volume-2",Yue);const Xue=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],pc=We("x",Xue);const Que=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],_u=We("zap",Que);function d9(){const{logout:t,user:e}=oa(),n=jn(),r=xr(),{isCollapsed:i,toggleSidebar:s}=E2(),a=async()=>{try{await t(),n("/")}catch(u){console.error("Failed to logout",u)}},l=[{label:"Dashboard",path:"/app",icon:p.jsx(s9,{className:"w-5 h-5"})},{label:"Study Plan",path:"/app/planner",icon:p.jsx(Zx,{className:"w-5 h-5"})},{label:"Verbal Mode",path:"/app/verbal",icon:p.jsx(o9,{className:"w-5 h-5"})},{label:"Readiness",path:"/app/readiness",icon:p.jsx(bA,{className:"w-5 h-5"})},{label:"Exams",path:"/app/exams",icon:p.jsx(n9,{className:"w-5 h-5"})},{label:"Stats",path:"/app/stats",icon:p.jsx(r9,{className:"w-5 h-5"})}];return p.jsxs("aside",{className:`fixed left-0 top-0 z-40 h-screen ${i?"w-20":"w-64"} bg-slate-950 border-r border-slate-800 flex flex-col transition-all duration-300`,children:[p.jsxs("div",{className:`flex px-6 py-6 items-center gap-2 border-b border-slate-900 ${i?"justify-center":""} relative`,children:[p.jsx("img",{src:"/favicon.png",alt:"Exam Coach Pro AI Logo",className:"h-8 w-8 min-w-8 rounded-lg object-contain"}),!i&&p.jsxs("div",{className:"flex flex-col overflow-hidden",children:[p.jsx("span",{className:"text-lg font-bold tracking-tight text-white truncate",children:"Exam Coach Pro AI"}),p.jsxs("span",{className:"text-[10px] text-white font-mono truncate",children:["Version: ",sd]})]}),p.jsx("button",{onClick:s,className:"absolute -right-3 top-1/2 -translate-y-1/2 w-6 h-6 bg-slate-800 border border-slate-700 rounded-full flex items-center justify-center text-slate-400 hover:text-white hover:bg-slate-700 transition-colors shadow-lg z-50",children:i?p.jsx(sb,{size:14}):p.jsx(T2,{size:14})})]}),p.jsx("nav",{className:"flex-1 px-4 py-6 space-y-2 overflow-y-auto overflow-x-hidden",children:l.map(u=>{const d=r.pathname.startsWith(u.path);return p.jsxs(fn,{to:u.path,title:i?u.label:"",className:`flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium transition-colors ${d?"bg-brand-600/10 text-brand-400 border border-brand-600/20":"text-slate-400 hover:text-white hover:bg-slate-900"} ${i?"justify-center":""}`,children:[u.icon,!i&&p.jsx("span",{children:u.label})]},u.path)})}),p.jsxs("div",{className:`p-4 border-t border-slate-800 ${i?"flex flex-col items-center":""}`,children:[p.jsxs("div",{className:`flex items-center gap-3 mb-4 ${i?"justify-center":""}`,children:[p.jsx("div",{className:"h-10 w-10 min-w-10 rounded-full bg-slate-800 border-2 border-slate-700 overflow-hidden",children:p.jsx("div",{className:"w-full h-full flex items-center justify-center text-xs font-bold text-slate-400",children:e?.displayName?e.displayName[0].toUpperCase():"U"})}),!i&&p.jsxs("div",{className:"overflow-hidden",children:[p.jsx("p",{className:"text-sm font-medium text-white truncate",children:e?.displayName||"User"}),p.jsx("p",{className:"text-xs text-slate-500 truncate",children:e?.email})]})]}),p.jsxs("button",{onClick:a,className:`w-full flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium text-slate-400 hover:bg-red-500/10 hover:text-red-400 transition-colors ${i?"justify-center":""}`,title:i?"Log out":"",children:[p.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),!i&&"Log out"]})]})]})}const f9=T.createContext({});function Zue(t){const e=T.useRef(null);return e.current===null&&(e.current=t()),e.current}const A2=typeof window<"u",Jue=A2?T.useLayoutEffect:T.useEffect,N2=T.createContext(null);function C2(t,e){t.indexOf(e)===-1&&t.push(e)}function P2(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Fo=(t,e,n)=>n>e?e:n<t?t:n;let I2=()=>{};const $o={},h9=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function m9(t){return typeof t=="object"&&t!==null}const p9=t=>/^0[^.\s]+$/u.test(t);function O2(t){let e;return()=>(e===void 0&&(e=t()),e)}const _s=t=>t,ede=(t,e)=>n=>e(t(n)),xg=(...t)=>t.reduce(ede),Rp=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class j2{constructor(){this.subscriptions=[]}add(e){return C2(this.subscriptions,e),()=>P2(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const a=this.subscriptions[s];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ua=t=>t*1e3,bs=t=>t/1e3;function g9(t,e){return e?t*(1e3/e):0}const y9=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,tde=1e-7,nde=12;function rde(t,e,n,r,i){let s,a,l=0;do a=e+(n-e)/2,s=y9(a,r,i)-t,s>0?n=a:e=a;while(Math.abs(s)>tde&&++l<nde);return a}function wg(t,e,n,r){if(t===e&&n===r)return _s;const i=s=>rde(s,0,1,t,n);return s=>s===0||s===1?s:y9(i(s),e,r)}const v9=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,b9=t=>e=>1-t(1-e),x9=wg(.33,1.53,.69,.99),R2=b9(x9),w9=v9(R2),_9=t=>(t*=2)<1?.5*R2(t):.5*(2-Math.pow(2,-10*(t-1))),k2=t=>1-Math.sin(Math.acos(t)),E9=b9(k2),S9=v9(k2),ide=wg(.42,0,1,1),sde=wg(0,0,.58,1),T9=wg(.42,0,.58,1),ade=t=>Array.isArray(t)&&typeof t[0]!="number",A9=t=>Array.isArray(t)&&typeof t[0]=="number",ode={linear:_s,easeIn:ide,easeInOut:T9,easeOut:sde,circIn:k2,circInOut:S9,circOut:E9,backIn:R2,backInOut:w9,backOut:x9,anticipate:_9},lde=t=>typeof t=="string",JD=t=>{if(A9(t)){I2(t.length===4);const[e,n,r,i]=t;return wg(e,n,r,i)}else if(lde(t))return ode[t];return t},Oy=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function cde(t,e){let n=new Set,r=new Set,i=!1,s=!1;const a=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function u(f){a.has(f)&&(d.schedule(f),t()),f(l)}const d={schedule:(f,m=!1,y=!1)=>{const _=y&&i?n:r;return m&&a.add(f),_.has(f)||_.add(f),f},cancel:f=>{r.delete(f),a.delete(f)},process:f=>{if(l=f,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(u),n.clear(),i=!1,s&&(s=!1,d.process(f))}};return d}const ude=40;function N9(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,a=Oy.reduce((P,L)=>(P[L]=cde(s),P),{}),{setup:l,read:u,resolveKeyframes:d,preUpdate:f,update:m,preRender:y,render:v,postRender:_}=a,E=()=>{const P=$o.useManualTiming?i.timestamp:performance.now();n=!1,$o.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(P-i.timestamp,ude),1)),i.timestamp=P,i.isProcessing=!0,l.process(i),u.process(i),d.process(i),f.process(i),m.process(i),y.process(i),v.process(i),_.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(E))},w=()=>{n=!0,r=!0,i.isProcessing||t(E)};return{schedule:Oy.reduce((P,L)=>{const M=a[L];return P[L]=(z,j=!1,R=!1)=>(n||w(),M.schedule(z,j,R)),P},{}),cancel:P=>{for(let L=0;L<Oy.length;L++)a[Oy[L]].cancel(P)},state:i,steps:a}}const{schedule:ln,cancel:gc,state:Ir,steps:AE}=N9(typeof requestAnimationFrame<"u"?requestAnimationFrame:_s,!0);let _v;function dde(){_v=void 0}const Ti={now:()=>(_v===void 0&&Ti.set(Ir.isProcessing||$o.useManualTiming?Ir.timestamp:performance.now()),_v),set:t=>{_v=t,queueMicrotask(dde)}},C9=t=>e=>typeof e=="string"&&e.startsWith(t),M2=C9("--"),fde=C9("var(--"),D2=t=>fde(t)?hde.test(t.split("/*")[0].trim()):!1,hde=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,dh={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},kp={...dh,transform:t=>Fo(0,1,t)},jy={...dh,default:1},cp=t=>Math.round(t*1e5)/1e5,L2=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function mde(t){return t==null}const pde=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,V2=(t,e)=>n=>!!(typeof n=="string"&&pde.test(n)&&n.startsWith(t)||e&&!mde(n)&&Object.prototype.hasOwnProperty.call(n,e)),P9=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,a,l]=r.match(L2);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},gde=t=>Fo(0,255,t),NE={...dh,transform:t=>Math.round(gde(t))},Eu={test:V2("rgb","red"),parse:P9("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+NE.transform(t)+", "+NE.transform(e)+", "+NE.transform(n)+", "+cp(kp.transform(r))+")"};function yde(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const xA={test:V2("#"),parse:yde,transform:Eu.transform},_g=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Vl=_g("deg"),za=_g("%"),$e=_g("px"),vde=_g("vh"),bde=_g("vw"),e4={...za,parse:t=>za.parse(t)/100,transform:t=>za.transform(t*100)},uf={test:V2("hsl","hue"),parse:P9("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+za.transform(cp(e))+", "+za.transform(cp(n))+", "+cp(kp.transform(r))+")"},Bn={test:t=>Eu.test(t)||xA.test(t)||uf.test(t),parse:t=>Eu.test(t)?Eu.parse(t):uf.test(t)?uf.parse(t):xA.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Eu.transform(t):uf.transform(t),getAnimatableNone:t=>{const e=Bn.parse(t);return e.alpha=0,Bn.transform(e)}},xde=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function wde(t){return isNaN(t)&&typeof t=="string"&&(t.match(L2)?.length||0)+(t.match(xde)?.length||0)>0}const I9="number",O9="color",_de="var",Ede="var(",t4="${}",Sde=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Mp(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const l=e.replace(Sde,u=>(Bn.test(u)?(r.color.push(s),i.push(O9),n.push(Bn.parse(u))):u.startsWith(Ede)?(r.var.push(s),i.push(_de),n.push(u)):(r.number.push(s),i.push(I9),n.push(parseFloat(u))),++s,t4)).split(t4);return{values:n,split:l,indexes:r,types:i}}function j9(t){return Mp(t).values}function R9(t){const{split:e,types:n}=Mp(t),r=e.length;return i=>{let s="";for(let a=0;a<r;a++)if(s+=e[a],i[a]!==void 0){const l=n[a];l===I9?s+=cp(i[a]):l===O9?s+=Bn.transform(i[a]):s+=i[a]}return s}}const Tde=t=>typeof t=="number"?0:Bn.test(t)?Bn.getAnimatableNone(t):t;function Ade(t){const e=j9(t);return R9(t)(e.map(Tde))}const yc={test:wde,parse:j9,createTransformer:R9,getAnimatableNone:Ade};function CE(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Nde({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,a=0;if(!e)i=s=a=n;else{const l=n<.5?n*(1+e):n+e-n*e,u=2*n-l;i=CE(u,l,t+1/3),s=CE(u,l,t),a=CE(u,l,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:r}}function lb(t,e){return n=>n>0?e:t}const hn=(t,e,n)=>t+(e-t)*n,PE=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},Cde=[xA,Eu,uf],Pde=t=>Cde.find(e=>e.test(t));function n4(t){const e=Pde(t);if(!e)return!1;let n=e.parse(t);return e===uf&&(n=Nde(n)),n}const r4=(t,e)=>{const n=n4(t),r=n4(e);if(!n||!r)return lb(t,e);const i={...n};return s=>(i.red=PE(n.red,r.red,s),i.green=PE(n.green,r.green,s),i.blue=PE(n.blue,r.blue,s),i.alpha=hn(n.alpha,r.alpha,s),Eu.transform(i))},wA=new Set(["none","hidden"]);function Ide(t,e){return wA.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function Ode(t,e){return n=>hn(t,e,n)}function U2(t){return typeof t=="number"?Ode:typeof t=="string"?D2(t)?lb:Bn.test(t)?r4:kde:Array.isArray(t)?k9:typeof t=="object"?Bn.test(t)?r4:jde:lb}function k9(t,e){const n=[...t],r=n.length,i=t.map((s,a)=>U2(s)(s,e[a]));return s=>{for(let a=0;a<r;a++)n[a]=i[a](s);return n}}function jde(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=U2(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function Rde(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],a=t.indexes[s][r[s]],l=t.values[a]??0;n[i]=l,r[s]++}return n}const kde=(t,e)=>{const n=yc.createTransformer(e),r=Mp(t),i=Mp(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?wA.has(t)&&!i.values.length||wA.has(e)&&!r.values.length?Ide(t,e):xg(k9(Rde(r,i),i.values),n):lb(t,e)};function M9(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?hn(t,e,n):U2(t)(t,e)}const Mde=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>ln.update(e,n),stop:()=>gc(e),now:()=>Ir.isProcessing?Ir.timestamp:Ti.now()}},D9=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=Math.round(t(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},cb=2e4;function z2(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<cb;)e+=n,r=t.next(e);return e>=cb?1/0:e}function Dde(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(z2(r),cb);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:bs(i)}}const Lde=5;function L9(t,e,n){const r=Math.max(e-Lde,0);return g9(n-t(r),e-r)}const bn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},IE=.001;function Vde({duration:t=bn.duration,bounce:e=bn.bounce,velocity:n=bn.velocity,mass:r=bn.mass}){let i,s,a=1-e;a=Fo(bn.minDamping,bn.maxDamping,a),t=Fo(bn.minDuration,bn.maxDuration,bs(t)),a<1?(i=d=>{const f=d*a,m=f*t,y=f-n,v=_A(d,a),_=Math.exp(-m);return IE-y/v*_},s=d=>{const m=d*a*t,y=m*n+n,v=Math.pow(a,2)*Math.pow(d,2)*t,_=Math.exp(-m),E=_A(Math.pow(d,2),a);return(-i(d)+IE>0?-1:1)*((y-v)*_)/E}):(i=d=>{const f=Math.exp(-d*t),m=(d-n)*t+1;return-IE+f*m},s=d=>{const f=Math.exp(-d*t),m=(n-d)*(t*t);return f*m});const l=5/t,u=zde(i,s,l);if(t=Ua(t),isNaN(u))return{stiffness:bn.stiffness,damping:bn.damping,duration:t};{const d=Math.pow(u,2)*r;return{stiffness:d,damping:a*2*Math.sqrt(r*d),duration:t}}}const Ude=12;function zde(t,e,n){let r=n;for(let i=1;i<Ude;i++)r=r-t(r)/e(r);return r}function _A(t,e){return t*Math.sqrt(1-e*e)}const Bde=["duration","bounce"],Fde=["stiffness","damping","mass"];function i4(t,e){return e.some(n=>t[n]!==void 0)}function $de(t){let e={velocity:bn.velocity,stiffness:bn.stiffness,damping:bn.damping,mass:bn.mass,isResolvedFromDuration:!1,...t};if(!i4(t,Fde)&&i4(t,Bde))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*Fo(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:bn.mass,stiffness:i,damping:s}}else{const n=Vde(t);e={...e,...n,mass:bn.mass},e.isResolvedFromDuration=!0}return e}function ub(t=bn.visualDuration,e=bn.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],l={done:!1,value:s},{stiffness:u,damping:d,mass:f,duration:m,velocity:y,isResolvedFromDuration:v}=$de({...n,velocity:-bs(n.velocity||0)}),_=y||0,E=d/(2*Math.sqrt(u*f)),w=a-s,A=bs(Math.sqrt(u/f)),C=Math.abs(w)<5;r||(r=C?bn.restSpeed.granular:bn.restSpeed.default),i||(i=C?bn.restDelta.granular:bn.restDelta.default);let P;if(E<1){const M=_A(A,E);P=z=>{const j=Math.exp(-E*A*z);return a-j*((_+E*A*w)/M*Math.sin(M*z)+w*Math.cos(M*z))}}else if(E===1)P=M=>a-Math.exp(-A*M)*(w+(_+A*w)*M);else{const M=A*Math.sqrt(E*E-1);P=z=>{const j=Math.exp(-E*A*z),R=Math.min(M*z,300);return a-j*((_+E*A*w)*Math.sinh(R)+M*w*Math.cosh(R))/M}}const L={calculatedDuration:v&&m||null,next:M=>{const z=P(M);if(v)l.done=M>=m;else{let j=M===0?_:0;E<1&&(j=M===0?Ua(_):L9(P,M,z));const R=Math.abs(j)<=r,D=Math.abs(a-z)<=i;l.done=R&&D}return l.value=l.done?a:z,l},toString:()=>{const M=Math.min(z2(L),cb),z=D9(j=>L.next(M*j).value,M,30);return M+"ms "+z},toTransition:()=>{}};return L}ub.applyToOptions=t=>{const e=Dde(t,100,ub);return t.ease=e.ease,t.duration=Ua(e.duration),t.type="keyframes",t};function EA({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:l,max:u,restDelta:d=.5,restSpeed:f}){const m=t[0],y={done:!1,value:m},v=R=>l!==void 0&&R<l||u!==void 0&&R>u,_=R=>l===void 0?u:u===void 0||Math.abs(l-R)<Math.abs(u-R)?l:u;let E=n*e;const w=m+E,A=a===void 0?w:a(w);A!==w&&(E=A-m);const C=R=>-E*Math.exp(-R/r),P=R=>A+C(R),L=R=>{const D=C(R),B=P(R);y.done=Math.abs(D)<=d,y.value=y.done?A:B};let M,z;const j=R=>{v(y.value)&&(M=R,z=ub({keyframes:[y.value,_(y.value)],velocity:L9(P,R,y.value),damping:i,stiffness:s,restDelta:d,restSpeed:f}))};return j(0),{calculatedDuration:null,next:R=>{let D=!1;return!z&&M===void 0&&(D=!0,L(R),j(R)),M!==void 0&&R>=M?z.next(R-M):(!D&&L(R),y)}}}function qde(t,e,n){const r=[],i=n||$o.mix||M9,s=t.length-1;for(let a=0;a<s;a++){let l=i(t[a],t[a+1]);if(e){const u=Array.isArray(e)?e[a]||_s:e;l=xg(u,l)}r.push(l)}return r}function Hde(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(I2(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=qde(e,r,i),u=l.length,d=f=>{if(a&&f<t[0])return e[0];let m=0;if(u>1)for(;m<t.length-2&&!(f<t[m+1]);m++);const y=Rp(t[m],t[m+1],f);return l[m](y)};return n?f=>d(Fo(t[0],t[s-1],f)):d}function Wde(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Rp(0,e,r);t.push(hn(n,1,i))}}function Kde(t){const e=[0];return Wde(e,t.length-1),e}function Gde(t,e){return t.map(n=>n*e)}function Yde(t,e){return t.map(()=>e||T9).splice(0,t.length-1)}function up({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=ade(r)?r.map(JD):JD(r),s={done:!1,value:e[0]},a=Gde(n&&n.length===e.length?n:Kde(e),t),l=Hde(a,e,{ease:Array.isArray(i)?i:Yde(e,i)});return{calculatedDuration:t,next:u=>(s.value=l(u),s.done=u>=t,s)}}const Xde=t=>t!==null;function B2(t,{repeat:e,repeatType:n="loop"},r,i=1){const s=t.filter(Xde),l=i<0||e&&n!=="loop"&&e%2===1?0:s.length-1;return!l||r===void 0?s[l]:r}const Qde={decay:EA,inertia:EA,tween:up,keyframes:up,spring:ub};function V9(t){typeof t.type=="string"&&(t.type=Qde[t.type])}class F2{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const Zde=t=>t/100;class $2 extends F2{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Ti.now()&&this.tick(Ti.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;V9(e);const{type:n=up,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:a=0}=e;let{keyframes:l}=e;const u=n||up;u!==up&&typeof l[0]!="number"&&(this.mixKeyframes=xg(Zde,M9(l[0],l[1])),l=[0,100]);const d=u({...e,keyframes:l});s==="mirror"&&(this.mirroredGenerator=u({...e,keyframes:[...l].reverse(),velocity:-a})),d.calculatedDuration===null&&(d.calculatedDuration=z2(d));const{calculatedDuration:f}=d;this.calculatedDuration=f,this.resolvedDuration=f+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=d}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:a,resolvedDuration:l,calculatedDuration:u}=this;if(this.startTime===null)return r.next(0);const{delay:d=0,keyframes:f,repeat:m,repeatType:y,repeatDelay:v,type:_,onUpdate:E,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const A=this.currentTime-d*(this.playbackSpeed>=0?1:-1),C=this.playbackSpeed>=0?A<0:A>i;this.currentTime=Math.max(A,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let P=this.currentTime,L=r;if(m){const R=Math.min(this.currentTime,i)/l;let D=Math.floor(R),B=R%1;!B&&R>=1&&(B=1),B===1&&D--,D=Math.min(D,m+1),!!(D%2)&&(y==="reverse"?(B=1-B,v&&(B-=v/l)):y==="mirror"&&(L=a)),P=Fo(0,1,B)*l}const M=C?{done:!1,value:f[0]}:L.next(P);s&&(M.value=s(M.value));let{done:z}=M;!C&&u!==null&&(z=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const j=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&z);return j&&_!==EA&&(M.value=B2(f,this.options,w,this.speed)),E&&E(M.value),j&&this.finish(),M}then(e,n){return this.finished.then(e,n)}get duration(){return bs(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+bs(e)}get time(){return bs(this.currentTime)}set time(e){e=Ua(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Ti.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=bs(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=Mde,startTime:n}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ti.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function Jde(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Su=t=>t*180/Math.PI,SA=t=>{const e=Su(Math.atan2(t[1],t[0]));return TA(e)},efe={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:SA,rotateZ:SA,skewX:t=>Su(Math.atan(t[1])),skewY:t=>Su(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},TA=t=>(t=t%360,t<0&&(t+=360),t),s4=SA,a4=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),o4=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),tfe={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:a4,scaleY:o4,scale:t=>(a4(t)+o4(t))/2,rotateX:t=>TA(Su(Math.atan2(t[6],t[5]))),rotateY:t=>TA(Su(Math.atan2(-t[2],t[0]))),rotateZ:s4,rotate:s4,skewX:t=>Su(Math.atan(t[4])),skewY:t=>Su(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function AA(t){return t.includes("scale")?1:0}function NA(t,e){if(!t||t==="none")return AA(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=tfe,i=n;else{const l=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=efe,i=l}if(!i)return AA(e);const s=r[e],a=i[1].split(",").map(rfe);return typeof s=="function"?s(a):a[s]}const nfe=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return NA(n,e)};function rfe(t){return parseFloat(t.trim())}const fh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],hh=new Set(fh),l4=t=>t===dh||t===$e,ife=new Set(["x","y","z"]),sfe=fh.filter(t=>!ife.has(t));function afe(t){const e=[];return sfe.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Iu={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>NA(e,"x"),y:(t,{transform:e})=>NA(e,"y")};Iu.translateX=Iu.x;Iu.translateY=Iu.y;const Ou=new Set;let CA=!1,PA=!1,IA=!1;function U9(){if(PA){const t=Array.from(Ou).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=afe(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,a])=>{r.getValue(s)?.set(a)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}PA=!1,CA=!1,Ou.forEach(t=>t.complete(IA)),Ou.clear()}function z9(){Ou.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(PA=!0)})}function ofe(){IA=!0,z9(),U9(),IA=!1}class q2{constructor(e,n,r,i,s,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(Ou.add(this),CA||(CA=!0,ln.read(z9),ln.resolveKeyframes(U9))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const s=i?.get(),a=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),i&&s===void 0&&i.set(e[0])}Jde(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ou.delete(this)}cancel(){this.state==="scheduled"&&(Ou.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const lfe=t=>t.startsWith("--");function cfe(t,e,n){lfe(e)?t.style.setProperty(e,n):t.style[e]=n}const ufe=O2(()=>window.ScrollTimeline!==void 0),dfe={};function ffe(t,e){const n=O2(t);return()=>dfe[e]??n()}const B9=ffe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Hm=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,c4={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Hm([0,.65,.55,1]),circOut:Hm([.55,0,1,.45]),backIn:Hm([.31,.01,.66,-.59]),backOut:Hm([.33,1.53,.69,.99])};function F9(t,e){if(t)return typeof t=="function"?B9()?D9(t,e):"ease-out":A9(t)?Hm(t):Array.isArray(t)?t.map(n=>F9(n,e)||c4.easeOut):c4[t]}function hfe(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:a="loop",ease:l="easeOut",times:u}={},d=void 0){const f={[e]:n};u&&(f.offset=u);const m=F9(l,i);Array.isArray(m)&&(f.easing=m);const y={delay:r,duration:i,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"};return d&&(y.pseudoElement=d),t.animate(f,y)}function $9(t){return typeof t=="function"&&"applyToOptions"in t}function mfe({type:t,...e}){return $9(t)&&B9()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class pfe extends F2{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:a=!1,finalKeyframe:l,onComplete:u}=e;this.isPseudoElement=!!s,this.allowFlatten=a,this.options=e,I2(typeof e.type!="string");const d=mfe(e);this.animation=hfe(n,r,i,d,s),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const f=B2(i,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(f):cfe(n,r,f),this.animation.cancel()}u?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return bs(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+bs(e)}get time(){return bs(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Ua(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&ufe()?(this.animation.timeline=e,_s):n(this)}}const q9={anticipate:_9,backInOut:w9,circInOut:S9};function gfe(t){return t in q9}function yfe(t){typeof t.ease=="string"&&gfe(t.ease)&&(t.ease=q9[t.ease])}const u4=10;class vfe extends pfe{constructor(e){yfe(e),V9(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...a}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const l=new $2({...a,autoplay:!1}),u=Ua(this.finishedTime??this.time);n.setWithVelocity(l.sample(u-u4).value,l.sample(u).value,u4),l.stop()}}const d4=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(yc.test(t)||t==="0")&&!t.startsWith("url("));function bfe(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function xfe(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],a=d4(i,e),l=d4(s,e);return!a||!l?!1:bfe(t)||(n==="spring"||$9(n))&&r}function OA(t){t.duration=0,t.type="keyframes"}const wfe=new Set(["opacity","clipPath","filter","transform"]),_fe=O2(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Efe(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:s,type:a}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:d}=e.owner.getProps();return _fe()&&n&&wfe.has(n)&&(n!=="transform"||!d)&&!u&&!r&&i!=="mirror"&&s!==0&&a!=="inertia"}const Sfe=40;class Tfe extends F2{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",keyframes:l,name:u,motionValue:d,element:f,...m}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Ti.now();const y={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:a,name:u,motionValue:d,element:f,...m},v=f?.KeyframeResolver||q2;this.keyframeResolver=new v(l,(_,E,w)=>this.onKeyframesResolved(_,E,y,!w),u,d,f),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:s,type:a,velocity:l,delay:u,isHandoff:d,onUpdate:f}=r;this.resolvedAt=Ti.now(),xfe(e,s,a,l)||(($o.instantAnimations||!u)&&f?.(B2(e,r,n)),e[0]=e[e.length-1],OA(r),r.repeat=0);const y={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>Sfe?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},v=!d&&Efe(y)?new vfe({...y,element:y.motionValue.owner.current}):new $2(y);v.finished.then(()=>this.notifyFinished()).catch(_s),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),ofe()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const Afe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Nfe(t){const e=Afe.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function H9(t,e,n=1){const[r,i]=Nfe(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const a=s.trim();return h9(a)?parseFloat(a):a}return D2(i)?H9(i,e,n+1):i}function H2(t,e){return t?.[e]??t?.default??t}const W9=new Set(["width","height","top","left","right","bottom",...fh]),Cfe={test:t=>t==="auto",parse:t=>t},K9=t=>e=>e.test(t),G9=[dh,$e,za,Vl,bde,vde,Cfe],f4=t=>G9.find(K9(t));function Pfe(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||p9(t):!0}const Ife=new Set(["brightness","contrast","saturate","opacity"]);function Ofe(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(L2)||[];if(!r)return t;const i=n.replace(r,"");let s=Ife.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const jfe=/\b([a-z-]*)\(.*?\)/gu,jA={...yc,getAnimatableNone:t=>{const e=t.match(jfe);return e?e.map(Ofe).join(" "):t}},h4={...dh,transform:Math.round},Rfe={rotate:Vl,rotateX:Vl,rotateY:Vl,rotateZ:Vl,scale:jy,scaleX:jy,scaleY:jy,scaleZ:jy,skew:Vl,skewX:Vl,skewY:Vl,distance:$e,translateX:$e,translateY:$e,translateZ:$e,x:$e,y:$e,z:$e,perspective:$e,transformPerspective:$e,opacity:kp,originX:e4,originY:e4,originZ:$e},W2={borderWidth:$e,borderTopWidth:$e,borderRightWidth:$e,borderBottomWidth:$e,borderLeftWidth:$e,borderRadius:$e,radius:$e,borderTopLeftRadius:$e,borderTopRightRadius:$e,borderBottomRightRadius:$e,borderBottomLeftRadius:$e,width:$e,maxWidth:$e,height:$e,maxHeight:$e,top:$e,right:$e,bottom:$e,left:$e,padding:$e,paddingTop:$e,paddingRight:$e,paddingBottom:$e,paddingLeft:$e,margin:$e,marginTop:$e,marginRight:$e,marginBottom:$e,marginLeft:$e,backgroundPositionX:$e,backgroundPositionY:$e,...Rfe,zIndex:h4,fillOpacity:kp,strokeOpacity:kp,numOctaves:h4},kfe={...W2,color:Bn,backgroundColor:Bn,outlineColor:Bn,fill:Bn,stroke:Bn,borderColor:Bn,borderTopColor:Bn,borderRightColor:Bn,borderBottomColor:Bn,borderLeftColor:Bn,filter:jA,WebkitFilter:jA},Y9=t=>kfe[t];function X9(t,e){let n=Y9(t);return n!==jA&&(n=yc),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Mfe=new Set(["auto","none","0"]);function Dfe(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!Mfe.has(s)&&Mp(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=X9(n,i)}class Lfe extends q2{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let u=0;u<e.length;u++){let d=e[u];if(typeof d=="string"&&(d=d.trim(),D2(d))){const f=H9(d,n.current);f!==void 0&&(e[u]=f),u===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!W9.has(r)||e.length!==2)return;const[i,s]=e,a=f4(i),l=f4(s);if(a!==l)if(l4(a)&&l4(l))for(let u=0;u<e.length;u++){const d=e[u];typeof d=="string"&&(e[u]=parseFloat(d))}else Iu[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||Pfe(e[i]))&&r.push(i);r.length&&Dfe(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Iu[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,a=r[s];r[s]=Iu[n](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),this.removedTransforms?.length&&this.removedTransforms.forEach(([l,u])=>{e.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function Vfe(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=n?.[t]??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const Q9=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function Ufe(t){return m9(t)&&"offsetHeight"in t}const m4=30,zfe=t=>!isNaN(parseFloat(t));class Bfe{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const i=Ti.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const s of this.dependents)s.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Ti.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=zfe(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new j2);const r=this.events[e].add(n);return e==="change"?()=>{r(),ln.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ti.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>m4)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,m4);return g9(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Lf(t,e){return new Bfe(t,e)}const{schedule:K2}=N9(queueMicrotask,!1),Fs={x:!1,y:!1};function Z9(){return Fs.x||Fs.y}function Ffe(t){return t==="x"||t==="y"?Fs[t]?null:(Fs[t]=!0,()=>{Fs[t]=!1}):Fs.x||Fs.y?null:(Fs.x=Fs.y=!0,()=>{Fs.x=Fs.y=!1})}function J9(t,e){const n=Vfe(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function p4(t){return!(t.pointerType==="touch"||Z9())}function $fe(t,e,n={}){const[r,i,s]=J9(t,n),a=l=>{if(!p4(l))return;const{target:u}=l,d=e(u,l);if(typeof d!="function"||!u)return;const f=m=>{p4(m)&&(d(m),u.removeEventListener("pointerleave",f))};u.addEventListener("pointerleave",f,i)};return r.forEach(l=>{l.addEventListener("pointerenter",a,i)}),s}const e$=(t,e)=>e?t===e?!0:e$(t,e.parentElement):!1,G2=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,qfe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Hfe(t){return qfe.has(t.tagName)||t.tabIndex!==-1}const Ev=new WeakSet;function g4(t){return e=>{e.key==="Enter"&&t(e)}}function OE(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Wfe=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=g4(()=>{if(Ev.has(n))return;OE(n,"down");const i=g4(()=>{OE(n,"up")}),s=()=>OE(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function y4(t){return G2(t)&&!Z9()}function Kfe(t,e,n={}){const[r,i,s]=J9(t,n),a=l=>{const u=l.currentTarget;if(!y4(l))return;Ev.add(u);const d=e(u,l),f=(v,_)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",y),Ev.has(u)&&Ev.delete(u),y4(v)&&typeof d=="function"&&d(v,{success:_})},m=v=>{f(v,u===window||u===document||n.useGlobalTarget||e$(u,v.target))},y=v=>{f(v,!1)};window.addEventListener("pointerup",m,i),window.addEventListener("pointercancel",y,i)};return r.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",a,i),Ufe(l)&&(l.addEventListener("focus",d=>Wfe(d,i)),!Hfe(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),s}function t$(t){return m9(t)&&"ownerSVGElement"in t}function Gfe(t){return t$(t)&&t.tagName==="svg"}const Wr=t=>!!(t&&t.getVelocity),Yfe=[...G9,Bn,yc],Xfe=t=>Yfe.find(K9(t)),n$=T.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function Qfe(t=!0){const e=T.useContext(N2);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=T.useId();T.useEffect(()=>{if(t)return i(s)},[t]);const a=T.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,a]:[!0]}const r$=T.createContext({strict:!1}),v4={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Vf={};for(const t in v4)Vf[t]={isEnabled:e=>v4[t].some(n=>!!e[n])};function Zfe(t){for(const e in t)Vf[e]={...Vf[e],...t[e]}}const Jfe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function db(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Jfe.has(t)}let i$=t=>!db(t);function ehe(t){typeof t=="function"&&(i$=e=>e.startsWith("on")?!db(e):t(e))}try{ehe(require("@emotion/is-prop-valid").default)}catch{}function the(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(i$(i)||n===!0&&db(i)||!e&&!db(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const ew=T.createContext({});function tw(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Dp(t){return typeof t=="string"||Array.isArray(t)}const Y2=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],X2=["initial",...Y2];function nw(t){return tw(t.animate)||X2.some(e=>Dp(t[e]))}function s$(t){return!!(nw(t)||t.variants)}function nhe(t,e){if(nw(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Dp(n)?n:void 0,animate:Dp(r)?r:void 0}}return t.inherit!==!1?e:{}}function rhe(t){const{initial:e,animate:n}=nhe(t,T.useContext(ew));return T.useMemo(()=>({initial:e,animate:n}),[b4(e),b4(n)])}function b4(t){return Array.isArray(t)?t.join(" "):t}const Lp={};function ihe(t){for(const e in t)Lp[e]=t[e],M2(e)&&(Lp[e].isCSSVariable=!0)}function a$(t,{layout:e,layoutId:n}){return hh.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Lp[t]||t==="opacity")}const she={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},ahe=fh.length;function ohe(t,e,n){let r="",i=!0;for(let s=0;s<ahe;s++){const a=fh[s],l=t[a];if(l===void 0)continue;let u=!0;if(typeof l=="number"?u=l===(a.startsWith("scale")?1:0):u=parseFloat(l)===0,!u||n){const d=Q9(l,W2[a]);if(!u){i=!1;const f=she[a]||a;r+=`${f}(${d}) `}n&&(e[a]=d)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function Q2(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let a=!1,l=!1;for(const u in e){const d=e[u];if(hh.has(u)){a=!0;continue}else if(M2(u)){i[u]=d;continue}else{const f=Q9(d,W2[u]);u.startsWith("origin")?(l=!0,s[u]=f):r[u]=f}}if(e.transform||(a||n?r.transform=ohe(e,t.transform,n):r.transform&&(r.transform="none")),l){const{originX:u="50%",originY:d="50%",originZ:f=0}=s;r.transformOrigin=`${u} ${d} ${f}`}}const Z2=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function o$(t,e,n){for(const r in e)!Wr(e[r])&&!a$(r,n)&&(t[r]=e[r])}function lhe({transformTemplate:t},e){return T.useMemo(()=>{const n=Z2();return Q2(n,e,t),Object.assign({},n.vars,n.style)},[e])}function che(t,e){const n=t.style||{},r={};return o$(r,n,t),Object.assign(r,lhe(t,e)),r}function uhe(t,e){const n={},r=che(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const dhe={offset:"stroke-dashoffset",array:"stroke-dasharray"},fhe={offset:"strokeDashoffset",array:"strokeDasharray"};function hhe(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?dhe:fhe;t[s.offset]=$e.transform(-r);const a=$e.transform(e),l=$e.transform(n);t[s.array]=`${a} ${l}`}function l$(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:a=0,...l},u,d,f){if(Q2(t,l,d),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:y}=t;m.transform&&(y.transform=m.transform,delete m.transform),(y.transform||m.transformOrigin)&&(y.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),y.transform&&(y.transformBox=f?.transformBox??"fill-box",delete m.transformBox),e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),i!==void 0&&hhe(m,i,s,a,!1)}const c$=()=>({...Z2(),attrs:{}}),u$=t=>typeof t=="string"&&t.toLowerCase()==="svg";function mhe(t,e,n,r){const i=T.useMemo(()=>{const s=c$();return l$(s,e,u$(r),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};o$(s,t.style,t),i.style={...s,...i.style}}return i}const phe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function J2(t){return typeof t!="string"||t.includes("-")?!1:!!(phe.indexOf(t)>-1||/[A-Z]/u.test(t))}function ghe(t,e,n,{latestValues:r},i,s=!1){const l=(J2(t)?mhe:uhe)(e,r,i,t),u=the(e,typeof t=="string",s),d=t!==T.Fragment?{...u,...l,ref:n}:{},{children:f}=e,m=T.useMemo(()=>Wr(f)?f.get():f,[f]);return T.createElement(t,{...d,children:m})}function x4(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function eP(t,e,n,r){if(typeof e=="function"){const[i,s]=x4(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=x4(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function Sv(t){return Wr(t)?t.get():t}function yhe({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:vhe(n,r,i,t),renderState:e()}}function vhe(t,e,n,r){const i={},s=r(t,{});for(const y in s)i[y]=Sv(s[y]);let{initial:a,animate:l}=t;const u=nw(t),d=s$(t);e&&d&&!u&&t.inherit!==!1&&(a===void 0&&(a=e.initial),l===void 0&&(l=e.animate));let f=n?n.initial===!1:!1;f=f||a===!1;const m=f?l:a;if(m&&typeof m!="boolean"&&!tw(m)){const y=Array.isArray(m)?m:[m];for(let v=0;v<y.length;v++){const _=eP(t,y[v]);if(_){const{transitionEnd:E,transition:w,...A}=_;for(const C in A){let P=A[C];if(Array.isArray(P)){const L=f?P.length-1:0;P=P[L]}P!==null&&(i[C]=P)}for(const C in E)i[C]=E[C]}}}return i}const d$=t=>(e,n)=>{const r=T.useContext(ew),i=T.useContext(N2),s=()=>yhe(t,e,r,i);return n?s():Zue(s)};function tP(t,e,n){const{style:r}=t,i={};for(const s in r)(Wr(r[s])||e.style&&Wr(e.style[s])||a$(s,t)||n?.getValue(s)?.liveStyle!==void 0)&&(i[s]=r[s]);return i}const bhe=d$({scrapeMotionValuesFromProps:tP,createRenderState:Z2});function f$(t,e,n){const r=tP(t,e,n);for(const i in t)if(Wr(t[i])||Wr(e[i])){const s=fh.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}const xhe=d$({scrapeMotionValuesFromProps:f$,createRenderState:c$}),whe=Symbol.for("motionComponentSymbol");function df(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function _he(t,e,n){return T.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):df(n)&&(n.current=r))},[e])}const nP=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Ehe="framerAppearId",h$="data-"+nP(Ehe),m$=T.createContext({});function She(t,e,n,r,i){const{visualElement:s}=T.useContext(ew),a=T.useContext(r$),l=T.useContext(N2),u=T.useContext(n$).reducedMotion,d=T.useRef(null);r=r||a.renderer,!d.current&&r&&(d.current=r(t,{visualState:e,parent:s,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:u}));const f=d.current,m=T.useContext(m$);f&&!f.projection&&i&&(f.type==="html"||f.type==="svg")&&The(d.current,n,i,m);const y=T.useRef(!1);T.useInsertionEffect(()=>{f&&y.current&&f.update(n,l)});const v=n[h$],_=T.useRef(!!v&&!window.MotionHandoffIsComplete?.(v)&&window.MotionHasOptimisedAnimation?.(v));return Jue(()=>{f&&(y.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),f.scheduleRenderMicrotask(),_.current&&f.animationState&&f.animationState.animateChanges())}),T.useEffect(()=>{f&&(!_.current&&f.animationState&&f.animationState.animateChanges(),_.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(v)}),_.current=!1),f.enteringChildren=void 0)}),f}function The(t,e,n,r){const{layoutId:i,layout:s,drag:a,dragConstraints:l,layoutScroll:u,layoutRoot:d,layoutCrossfade:f}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:p$(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!a||l&&df(l),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:f,layoutScroll:u,layoutRoot:d})}function p$(t){if(t)return t.options.allowProjection!==!1?t.projection:p$(t.parent)}function jE(t,{forwardMotionProps:e=!1}={},n,r){n&&Zfe(n);const i=J2(t)?xhe:bhe;function s(l,u){let d;const f={...T.useContext(n$),...l,layoutId:Ahe(l)},{isStatic:m}=f,y=rhe(l),v=i(l,m);if(!m&&A2){Nhe();const _=Che(f);d=_.MeasureLayout,y.visualElement=She(t,v,f,r,_.ProjectionNode)}return p.jsxs(ew.Provider,{value:y,children:[d&&y.visualElement?p.jsx(d,{visualElement:y.visualElement,...f}):null,ghe(t,l,_he(v,y.visualElement,u),v,m,e)]})}s.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const a=T.forwardRef(s);return a[whe]=t,a}function Ahe({layoutId:t}){const e=T.useContext(f9).id;return e&&t!==void 0?e+"-"+t:t}function Nhe(t,e){T.useContext(r$).strict}function Che(t){const{drag:e,layout:n}=Vf;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function Phe(t,e){if(typeof Proxy>"u")return jE;const n=new Map,r=(s,a)=>jE(s,a,t,e),i=(s,a)=>r(s,a);return new Proxy(i,{get:(s,a)=>a==="create"?r:(n.has(a)||n.set(a,jE(a,void 0,t,e)),n.get(a))})}function g$({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function Ihe({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Ohe(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function RE(t){return t===void 0||t===1}function RA({scale:t,scaleX:e,scaleY:n}){return!RE(t)||!RE(e)||!RE(n)}function hu(t){return RA(t)||y$(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function y$(t){return w4(t.x)||w4(t.y)}function w4(t){return t&&t!=="0%"}function fb(t,e,n){const r=t-n,i=e*r;return n+i}function _4(t,e,n,r,i){return i!==void 0&&(t=fb(t,i,r)),fb(t,n,r)+e}function kA(t,e=0,n=1,r,i){t.min=_4(t.min,e,n,r,i),t.max=_4(t.max,e,n,r,i)}function v$(t,{x:e,y:n}){kA(t.x,e.translate,e.scale,e.originPoint),kA(t.y,n.translate,n.scale,n.originPoint)}const E4=.999999999999,S4=1.0000000000001;function jhe(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,a;for(let l=0;l<i;l++){s=n[l],a=s.projectionDelta;const{visualElement:u}=s.options;u&&u.props.style&&u.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&hf(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,v$(t,a)),r&&hu(s.latestValues)&&hf(t,s.latestValues))}e.x<S4&&e.x>E4&&(e.x=1),e.y<S4&&e.y>E4&&(e.y=1)}function ff(t,e){t.min=t.min+e,t.max=t.max+e}function T4(t,e,n,r,i=.5){const s=hn(t.min,t.max,i);kA(t,e,n,s,r)}function hf(t,e){T4(t.x,e.x,e.scaleX,e.scale,e.originX),T4(t.y,e.y,e.scaleY,e.scale,e.originY)}function b$(t,e){return g$(Ohe(t.getBoundingClientRect(),e))}function Rhe(t,e,n){const r=b$(t,n),{scroll:i}=e;return i&&(ff(r.x,i.offset.x),ff(r.y,i.offset.y)),r}const A4=()=>({translate:0,scale:1,origin:0,originPoint:0}),mf=()=>({x:A4(),y:A4()}),N4=()=>({min:0,max:0}),Xn=()=>({x:N4(),y:N4()}),MA={current:null},x$={current:!1};function khe(){if(x$.current=!0,!!A2)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>MA.current=t.matches;t.addEventListener("change",e),e()}else MA.current=!1}const Mhe=new WeakMap;function Dhe(t,e,n){for(const r in e){const i=e[r],s=n[r];if(Wr(i))t.addValue(r,i);else if(Wr(s))t.addValue(r,Lf(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const a=t.getValue(r);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=t.getStaticValue(r);t.addValue(r,Lf(a!==void 0?a:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const C4=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Lhe{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:a},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=q2,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=Ti.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,ln.render(this.render,!1,!0))};const{latestValues:u,renderState:d}=a;this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=d,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!s,this.isControllingVariants=nw(n),this.isVariantNode=s$(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...m}=this.scrapeMotionValuesFromProps(n,{},this);for(const y in m){const v=m[y];u[y]!==void 0&&Wr(v)&&v.set(u[y])}}mount(e){this.current=e,Mhe.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),x$.current||khe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:MA.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),gc(this.notifyUpdate),gc(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=hh.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&ln.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s&&s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Vf){const n=Vf[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Xn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<C4.length;r++){const i=C4[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,a=e[s];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=Dhe(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Lf(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(h9(r)||p9(r))?r=parseFloat(r):!Xfe(r)&&yc.test(n)&&(r=X9(e,n)),this.setBaseTarget(e,Wr(r)?r.get():r)),Wr(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const s=eP(this.props,n,this.presenceContext?.custom);s&&(r=s[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Wr(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new j2),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){K2.render(this.render)}}class w$ extends Lhe{constructor(){super(...arguments),this.KeyframeResolver=Lfe}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Wr(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function _$(t,{style:e,vars:n},r,i){const s=t.style;let a;for(a in e)s[a]=e[a];i?.applyProjectionStyles(s,r);for(a in n)s.setProperty(a,n[a])}function Vhe(t){return window.getComputedStyle(t)}class Uhe extends w${constructor(){super(...arguments),this.type="html",this.renderInstance=_$}readValueFromInstance(e,n){if(hh.has(n))return this.projection?.isProjecting?AA(n):nfe(e,n);{const r=Vhe(e),i=(M2(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return b$(e,n)}build(e,n,r){Q2(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return tP(e,n,r)}}const E$=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function zhe(t,e,n,r){_$(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(E$.has(i)?i:nP(i),e.attrs[i])}class Bhe extends w${constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Xn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(hh.has(n)){const r=Y9(n);return r&&r.default||0}return n=E$.has(n)?n:nP(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return f$(e,n,r)}build(e,n,r){l$(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){zhe(e,n,r,i)}mount(e){this.isSVGTag=u$(e.tagName),super.mount(e)}}const Fhe=(t,e)=>J2(t)?new Bhe(e):new Uhe(e,{allowProjection:t!==T.Fragment});function Tf(t,e,n){const r=t.getProps();return eP(r,e,n!==void 0?n:r.custom,t)}const DA=t=>Array.isArray(t);function $he(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Lf(n))}function qhe(t){return DA(t)?t[t.length-1]||0:t}function Hhe(t,e){const n=Tf(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const a in s){const l=qhe(s[a]);$he(t,a,l)}}function Whe(t){return!!(Wr(t)&&t.add)}function LA(t,e){const n=t.getValue("willChange");if(Whe(n))return n.add(e);if(!n&&$o.WillChange){const r=new $o.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function S$(t){return t.props[h$]}const Khe=t=>t!==null;function Ghe(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(Khe),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[s]}const Yhe={type:"spring",stiffness:500,damping:25,restSpeed:10},Xhe=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Qhe={type:"keyframes",duration:.8},Zhe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Jhe=(t,{keyframes:e})=>e.length>2?Qhe:hh.has(t)?t.startsWith("scale")?Xhe(e[1]):Yhe:Zhe;function eme({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:l,from:u,elapsed:d,...f}){return!!Object.keys(f).length}const rP=(t,e,n,r={},i,s)=>a=>{const l=H2(r,t)||{},u=l.delay||r.delay||0;let{elapsed:d=0}=r;d=d-Ua(u);const f={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-d,onUpdate:y=>{e.set(y),l.onUpdate&&l.onUpdate(y)},onComplete:()=>{a(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:s?void 0:i};eme(l)||Object.assign(f,Jhe(t,f)),f.duration&&(f.duration=Ua(f.duration)),f.repeatDelay&&(f.repeatDelay=Ua(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let m=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(OA(f),f.delay===0&&(m=!0)),($o.instantAnimations||$o.skipAnimations)&&(m=!0,OA(f),f.delay=0),f.allowFlatten=!l.type&&!l.ease,m&&!s&&e.get()!==void 0){const y=Ghe(f.keyframes,l);if(y!==void 0){ln.update(()=>{f.onUpdate(y),f.onComplete()});return}}return l.isSync?new $2(f):new Tfe(f)};function tme({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function T$(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(s=r);const u=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const f in l){const m=t.getValue(f,t.latestValues[f]??null),y=l[f];if(y===void 0||d&&tme(d,f))continue;const v={delay:n,...H2(s||{},f)},_=m.get();if(_!==void 0&&!m.isAnimating&&!Array.isArray(y)&&y===_&&!v.velocity)continue;let E=!1;if(window.MotionHandoffAnimation){const A=S$(t);if(A){const C=window.MotionHandoffAnimation(A,f,ln);C!==null&&(v.startTime=C,E=!0)}}LA(t,f),m.start(rP(f,m,y,t.shouldReduceMotion&&W9.has(f)?{type:!1}:v,t,E));const w=m.animation;w&&u.push(w)}return a&&Promise.all(u).then(()=>{ln.update(()=>{a&&Hhe(t,a)})}),u}function A$(t,e,n,r=0,i=1){const s=Array.from(t).sort((d,f)=>d.sortNodePosition(f)).indexOf(e),a=t.size,l=(a-1)*r;return typeof n=="function"?n(s,a):i===1?s*r:l-s*r}function VA(t,e,n={}){const r=Tf(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(T$(t,r,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:m}=i;return nme(t,e,u,d,f,m,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[u,d]=l==="beforeChildren"?[s,a]:[a,s];return u().then(()=>d())}else return Promise.all([s(),a(n.delay)])}function nme(t,e,n=0,r=0,i=0,s=1,a){const l=[];for(const u of t.variantChildren)u.notify("AnimationStart",e),l.push(VA(u,e,{...a,delay:n+(typeof r=="function"?0:r)+A$(t.variantChildren,u,r,i,s)}).then(()=>u.notify("AnimationComplete",e)));return Promise.all(l)}function rme(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>VA(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=VA(t,e,n);else{const i=typeof e=="function"?Tf(t,e,n.custom):e;r=Promise.all(T$(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function N$(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const ime=X2.length;function C$(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?C$(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<ime;n++){const r=X2[n],i=t.props[r];(Dp(i)||i===!1)&&(e[r]=i)}return e}const sme=[...Y2].reverse(),ame=Y2.length;function ome(t){return e=>Promise.all(e.map(({animation:n,options:r})=>rme(t,n,r)))}function lme(t){let e=ome(t),n=P4(),r=!0;const i=u=>(d,f)=>{const m=Tf(t,f,u==="exit"?t.presenceContext?.custom:void 0);if(m){const{transition:y,transitionEnd:v,..._}=m;d={...d,..._,...v}}return d};function s(u){e=u(t)}function a(u){const{props:d}=t,f=C$(t.parent)||{},m=[],y=new Set;let v={},_=1/0;for(let w=0;w<ame;w++){const A=sme[w],C=n[A],P=d[A]!==void 0?d[A]:f[A],L=Dp(P),M=A===u?C.isActive:null;M===!1&&(_=w);let z=P===f[A]&&P!==d[A]&&L;if(z&&r&&t.manuallyAnimateOnMount&&(z=!1),C.protectedKeys={...v},!C.isActive&&M===null||!P&&!C.prevProp||tw(P)||typeof P=="boolean")continue;const j=cme(C.prevProp,P);let R=j||A===u&&C.isActive&&!z&&L||w>_&&L,D=!1;const B=Array.isArray(P)?P:[P];let V=B.reduce(i(A),{});M===!1&&(V={});const{prevResolvedValues:$={}}=C,q={...$,...V},xe=ee=>{R=!0,y.has(ee)&&(D=!0,y.delete(ee)),C.needsAnimating[ee]=!0;const he=t.getValue(ee);he&&(he.liveStyle=!1)};for(const ee in q){const he=V[ee],Y=$[ee];if(v.hasOwnProperty(ee))continue;let H=!1;DA(he)&&DA(Y)?H=!N$(he,Y):H=he!==Y,H?he!=null?xe(ee):y.add(ee):he!==void 0&&y.has(ee)?xe(ee):C.protectedKeys[ee]=!0}C.prevProp=P,C.prevResolvedValues=V,C.isActive&&(v={...v,...V}),r&&t.blockInitialAnimation&&(R=!1);const be=z&&j;R&&(!be||D)&&m.push(...B.map(ee=>{const he={type:A};if(typeof ee=="string"&&r&&!be&&t.manuallyAnimateOnMount&&t.parent){const{parent:Y}=t,H=Tf(Y,ee);if(Y.enteringChildren&&H){const{delayChildren:k}=H.transition||{};he.delay=A$(Y.enteringChildren,t,k)}}return{animation:ee,options:he}}))}if(y.size){const w={};if(typeof d.initial!="boolean"){const A=Tf(t,Array.isArray(d.initial)?d.initial[0]:d.initial);A&&A.transition&&(w.transition=A.transition)}y.forEach(A=>{const C=t.getBaseTarget(A),P=t.getValue(A);P&&(P.liveStyle=!0),w[A]=C??null}),m.push({animation:w})}let E=!!m.length;return r&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(E=!1),r=!1,E?e(m):Promise.resolve()}function l(u,d){if(n[u].isActive===d)return Promise.resolve();t.variantChildren?.forEach(m=>m.animationState?.setActive(u,d)),n[u].isActive=d;const f=a(u);for(const m in n)n[m].protectedKeys={};return f}return{animateChanges:a,setActive:l,setAnimateFunction:s,getState:()=>n,reset:()=>{n=P4()}}}function cme(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!N$(e,t):!1}function lu(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function P4(){return{animate:lu(!0),whileInView:lu(),whileHover:lu(),whileTap:lu(),whileDrag:lu(),whileFocus:lu(),exit:lu()}}class Cc{constructor(e){this.isMounted=!1,this.node=e}update(){}}class ume extends Cc{constructor(e){super(e),e.animationState||(e.animationState=lme(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();tw(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let dme=0;class fme extends Cc{constructor(){super(...arguments),this.id=dme++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const hme={animation:{Feature:ume},exit:{Feature:fme}};function Vp(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Eg(t){return{point:{x:t.pageX,y:t.pageY}}}const mme=t=>e=>G2(e)&&t(e,Eg(e));function dp(t,e,n,r){return Vp(t,e,mme(n),r)}const P$=1e-4,pme=1-P$,gme=1+P$,I$=.01,yme=0-I$,vme=0+I$;function ii(t){return t.max-t.min}function bme(t,e,n){return Math.abs(t-e)<=n}function I4(t,e,n,r=.5){t.origin=r,t.originPoint=hn(e.min,e.max,t.origin),t.scale=ii(n)/ii(e),t.translate=hn(n.min,n.max,t.origin)-t.originPoint,(t.scale>=pme&&t.scale<=gme||isNaN(t.scale))&&(t.scale=1),(t.translate>=yme&&t.translate<=vme||isNaN(t.translate))&&(t.translate=0)}function fp(t,e,n,r){I4(t.x,e.x,n.x,r?r.originX:void 0),I4(t.y,e.y,n.y,r?r.originY:void 0)}function O4(t,e,n){t.min=n.min+e.min,t.max=t.min+ii(e)}function xme(t,e,n){O4(t.x,e.x,n.x),O4(t.y,e.y,n.y)}function j4(t,e,n){t.min=e.min-n.min,t.max=t.min+ii(e)}function hb(t,e,n){j4(t.x,e.x,n.x),j4(t.y,e.y,n.y)}function gs(t){return[t("x"),t("y")]}const O$=({current:t})=>t?t.ownerDocument.defaultView:null,R4=(t,e)=>Math.abs(t-e);function wme(t,e){const n=R4(t.x,e.x),r=R4(t.y,e.y);return Math.sqrt(n**2+r**2)}class j${constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=ME(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,_=wme(y.offset,{x:0,y:0})>=this.distanceThreshold;if(!v&&!_)return;const{point:E}=y,{timestamp:w}=Ir;this.history.push({...E,timestamp:w});const{onStart:A,onMove:C}=this.handlers;v||(A&&A(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,y)},this.handlePointerMove=(y,v)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=kE(v,this.transformPagePoint),ln.update(this.updatePoint,!0)},this.handlePointerUp=(y,v)=>{this.end();const{onEnd:_,onSessionEnd:E,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=ME(y.type==="pointercancel"?this.lastMoveEventInfo:kE(v,this.transformPagePoint),this.history);this.startEvent&&_&&_(y,A),E&&E(y,A)},!G2(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=a,this.contextWindow=i||window;const l=Eg(e),u=kE(l,this.transformPagePoint),{point:d}=u,{timestamp:f}=Ir;this.history=[{...d,timestamp:f}];const{onSessionStart:m}=n;m&&m(e,ME(u,this.history)),this.removeListeners=xg(dp(this.contextWindow,"pointermove",this.handlePointerMove),dp(this.contextWindow,"pointerup",this.handlePointerUp),dp(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),gc(this.updatePoint)}}function kE(t,e){return e?{point:e(t.point)}:t}function k4(t,e){return{x:t.x-e.x,y:t.y-e.y}}function ME({point:t},e){return{point:t,delta:k4(t,R$(e)),offset:k4(t,_me(e)),velocity:Eme(e,.1)}}function _me(t){return t[0]}function R$(t){return t[t.length-1]}function Eme(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=R$(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Ua(e)));)n--;if(!r)return{x:0,y:0};const s=bs(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const a={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function Sme(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?hn(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?hn(n,t,r.max):Math.min(t,n)),t}function M4(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Tme(t,{top:e,left:n,bottom:r,right:i}){return{x:M4(t.x,n,i),y:M4(t.y,e,r)}}function D4(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function Ame(t,e){return{x:D4(t.x,e.x),y:D4(t.y,e.y)}}function Nme(t,e){let n=.5;const r=ii(t),i=ii(e);return i>r?n=Rp(e.min,e.max-r,t.min):r>i&&(n=Rp(t.min,t.max-i,e.min)),Fo(0,1,n)}function Cme(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const UA=.35;function Pme(t=UA){return t===!1?t=0:t===!0&&(t=UA),{x:L4(t,"left","right"),y:L4(t,"top","bottom")}}function L4(t,e,n){return{min:V4(t,e),max:V4(t,n)}}function V4(t,e){return typeof t=="number"?t:t[e]||0}const Ime=new WeakMap;class Ome{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Xn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=m=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Eg(m).point)},a=(m,y)=>{const{drag:v,dragPropagation:_,onDragStart:E}=this.getProps();if(v&&!_&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Ffe(v),!this.openDragLock))return;this.latestPointerEvent=m,this.latestPanInfo=y,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),gs(A=>{let C=this.getAxisMotionValue(A).get()||0;if(za.test(C)){const{projection:P}=this.visualElement;if(P&&P.layout){const L=P.layout.layoutBox[A];L&&(C=ii(L)*(parseFloat(C)/100))}}this.originPoint[A]=C}),E&&ln.postRender(()=>E(m,y)),LA(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},l=(m,y)=>{this.latestPointerEvent=m,this.latestPanInfo=y;const{dragPropagation:v,dragDirectionLock:_,onDirectionLock:E,onDrag:w}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:A}=y;if(_&&this.currentDirection===null){this.currentDirection=jme(A),this.currentDirection!==null&&E&&E(this.currentDirection);return}this.updateAxis("x",y.point,A),this.updateAxis("y",y.point,A),this.visualElement.render(),w&&w(m,y)},u=(m,y)=>{this.latestPointerEvent=m,this.latestPanInfo=y,this.stop(m,y),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>gs(m=>this.getAnimationState(m)==="paused"&&this.getAxisMotionValue(m).animation?.play()),{dragSnapToOrigin:f}=this.getProps();this.panSession=new j$(e,{onSessionStart:s,onStart:a,onMove:l,onSessionEnd:u,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,distanceThreshold:r,contextWindow:O$(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!r)return;const{velocity:a}=i;this.startAnimation(a);const{onDragEnd:l}=this.getProps();l&&ln.postRender(()=>l(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Ry(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=Sme(a,this.constraints[e],this.elastic[e])),s.set(a)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;e&&df(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=Tme(r.layoutBox,e):this.constraints=!1,this.elastic=Pme(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&gs(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=Cme(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!df(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=Rhe(r,i.root,this.visualElement.getTransformPagePoint());let a=Ame(i.layout.layoutBox,s);if(n){const l=n(Ihe(a));this.hasMutatedConstraints=!!l,l&&(a=g$(l))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),u=this.constraints||{},d=gs(f=>{if(!Ry(f,n,this.currentDirection))return;let m=u&&u[f]||{};a&&(m={min:0,max:0});const y=i?200:1e6,v=i?40:1e7,_={type:"inertia",velocity:r?e[f]:0,bounceStiffness:y,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...s,...m};return this.startAxisValueAnimation(f,_)});return Promise.all(d).then(l)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return LA(this.visualElement,e),r.start(rP(e,r,0,n,this.visualElement,!1))}stopAnimation(){gs(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){gs(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){gs(n=>{const{drag:r}=this.getProps();if(!Ry(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:a,max:l}=i.layout.layoutBox[n];s.set(e[n]-hn(a,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!df(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};gs(a=>{const l=this.getAxisMotionValue(a);if(l&&this.constraints!==!1){const u=l.get();i[a]=Nme({min:u,max:u},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),gs(a=>{if(!Ry(a,e,null))return;const l=this.getAxisMotionValue(a),{min:u,max:d}=this.constraints[a];l.set(hn(u,d,i[a]))})}addListeners(){if(!this.visualElement.current)return;Ime.set(this.visualElement,this);const e=this.visualElement.current,n=dp(e,"pointerdown",u=>{const{drag:d,dragListener:f=!0}=this.getProps();d&&f&&this.start(u)}),r=()=>{const{dragConstraints:u}=this.getProps();df(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),ln.read(r);const a=Vp(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",(({delta:u,hasLayoutChanged:d})=>{this.isDragging&&d&&(gs(f=>{const m=this.getAxisMotionValue(f);m&&(this.originPoint[f]+=u[f].translate,m.set(m.get()+u[f].translate))}),this.visualElement.render())}));return()=>{a(),n(),s(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:a=UA,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:a,dragMomentum:l}}}function Ry(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function jme(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Rme extends Cc{constructor(e){super(e),this.removeGroupControls=_s,this.removeListeners=_s,this.controls=new Ome(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||_s}unmount(){this.removeGroupControls(),this.removeListeners()}}const U4=t=>(e,n)=>{t&&ln.postRender(()=>t(e,n))};class kme extends Cc{constructor(){super(...arguments),this.removePointerDownListener=_s}onPointerDown(e){this.session=new j$(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:O$(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:U4(e),onStart:U4(n),onMove:r,onEnd:(s,a)=>{delete this.session,i&&ln.postRender(()=>i(s,a))}}}mount(){this.removePointerDownListener=dp(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Tv={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function z4(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Am={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if($e.test(t))t=parseFloat(t);else return t;const n=z4(t,e.target.x),r=z4(t,e.target.y);return`${n}% ${r}%`}},Mme={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=yc.parse(t);if(i.length>5)return r;const s=yc.createTransformer(t),a=typeof i[0]!="number"?1:0,l=n.x.scale*e.x,u=n.y.scale*e.y;i[0+a]/=l,i[1+a]/=u;const d=hn(l,u,.5);return typeof i[2+a]=="number"&&(i[2+a]/=d),typeof i[3+a]=="number"&&(i[3+a]/=d),s(i)}};let DE=!1;class Dme extends T.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;ihe(Lme),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),DE&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Tv.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:a}=r;return a&&(a.isPresent=s,DE=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==s?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||ln.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),K2.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;DE=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function k$(t){const[e,n]=Qfe(),r=T.useContext(f9);return p.jsx(Dme,{...t,layoutGroup:r,switchLayoutGroup:T.useContext(m$),isPresent:e,safeToRemove:n})}const Lme={borderRadius:{...Am,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Am,borderTopRightRadius:Am,borderBottomLeftRadius:Am,borderBottomRightRadius:Am,boxShadow:Mme};function Vme(t,e,n){const r=Wr(t)?t:Lf(t);return r.start(rP("",r,e,n)),r.animation}const Ume=(t,e)=>t.depth-e.depth;class zme{constructor(){this.children=[],this.isDirty=!1}add(e){C2(this.children,e),this.isDirty=!0}remove(e){P2(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Ume),this.isDirty=!1,this.children.forEach(e)}}function Bme(t,e){const n=Ti.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(gc(r),t(s-e))};return ln.setup(r,!0),()=>gc(r)}const M$=["TopLeft","TopRight","BottomLeft","BottomRight"],Fme=M$.length,B4=t=>typeof t=="string"?parseFloat(t):t,F4=t=>typeof t=="number"||$e.test(t);function $me(t,e,n,r,i,s){i?(t.opacity=hn(0,n.opacity??1,qme(r)),t.opacityExit=hn(e.opacity??1,0,Hme(r))):s&&(t.opacity=hn(e.opacity??1,n.opacity??1,r));for(let a=0;a<Fme;a++){const l=`border${M$[a]}Radius`;let u=$4(e,l),d=$4(n,l);if(u===void 0&&d===void 0)continue;u||(u=0),d||(d=0),u===0||d===0||F4(u)===F4(d)?(t[l]=Math.max(hn(B4(u),B4(d),r),0),(za.test(d)||za.test(u))&&(t[l]+="%")):t[l]=d}(e.rotate||n.rotate)&&(t.rotate=hn(e.rotate||0,n.rotate||0,r))}function $4(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const qme=D$(0,.5,E9),Hme=D$(.5,.95,_s);function D$(t,e,n){return r=>r<t?0:r>e?1:n(Rp(t,e,r))}function q4(t,e){t.min=e.min,t.max=e.max}function Bs(t,e){q4(t.x,e.x),q4(t.y,e.y)}function H4(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function W4(t,e,n,r,i){return t-=e,t=fb(t,1/n,r),i!==void 0&&(t=fb(t,1/i,r)),t}function Wme(t,e=0,n=1,r=.5,i,s=t,a=t){if(za.test(e)&&(e=parseFloat(e),e=hn(a.min,a.max,e/100)-a.min),typeof e!="number")return;let l=hn(s.min,s.max,r);t===s&&(l-=e),t.min=W4(t.min,e,n,l,i),t.max=W4(t.max,e,n,l,i)}function K4(t,e,[n,r,i],s,a){Wme(t,e[n],e[r],e[i],e.scale,s,a)}const Kme=["x","scaleX","originX"],Gme=["y","scaleY","originY"];function G4(t,e,n,r){K4(t.x,e,Kme,n?n.x:void 0,r?r.x:void 0),K4(t.y,e,Gme,n?n.y:void 0,r?r.y:void 0)}function Y4(t){return t.translate===0&&t.scale===1}function L$(t){return Y4(t.x)&&Y4(t.y)}function X4(t,e){return t.min===e.min&&t.max===e.max}function Yme(t,e){return X4(t.x,e.x)&&X4(t.y,e.y)}function Q4(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function V$(t,e){return Q4(t.x,e.x)&&Q4(t.y,e.y)}function Z4(t){return ii(t.x)/ii(t.y)}function J4(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Xme{constructor(){this.members=[]}add(e){C2(this.members,e),e.scheduleRender()}remove(e){if(P2(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Qme(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,a=n?.z||0;if((i||s||a)&&(r=`translate3d(${i}px, ${s}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:d,rotate:f,rotateX:m,rotateY:y,skewX:v,skewY:_}=n;d&&(r=`perspective(${d}px) ${r}`),f&&(r+=`rotate(${f}deg) `),m&&(r+=`rotateX(${m}deg) `),y&&(r+=`rotateY(${y}deg) `),v&&(r+=`skewX(${v}deg) `),_&&(r+=`skewY(${_}deg) `)}const l=t.x.scale*e.x,u=t.y.scale*e.y;return(l!==1||u!==1)&&(r+=`scale(${l}, ${u})`),r||"none"}const LE=["","X","Y","Z"],Zme=1e3;let Jme=0;function VE(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function U$(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=S$(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ln,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&U$(r)}function z$({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(a={},l=e?.()){this.id=Jme++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(npe),this.nodes.forEach(ape),this.nodes.forEach(ope),this.nodes.forEach(rpe)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new zme)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new j2),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const u=this.eventHandlers.get(a);u&&u.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=t$(a)&&!Gfe(a),this.instance=a;const{layoutId:l,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||l)&&(this.isLayoutDirty=!0),t){let f,m=0;const y=()=>this.root.updateBlockedByResize=!1;ln.read(()=>{m=window.innerWidth}),t(a,()=>{const v=window.innerWidth;v!==m&&(m=v,this.root.updateBlockedByResize=!0,f&&f(),f=Bme(y,250),Tv.hasAnimatedSinceResize&&(Tv.hasAnimatedSinceResize=!1,this.nodes.forEach(n5)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m,hasRelativeLayoutChanged:y,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||d.getDefaultTransition()||fpe,{onLayoutAnimationStart:E,onLayoutAnimationComplete:w}=d.getProps(),A=!this.targetLayout||!V$(this.targetLayout,v),C=!m&&y;if(this.options.layoutRoot||this.resumeFrom||C||m&&(A||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const P={...H2(_,"layout"),onPlay:E,onComplete:w};(d.shouldReduceMotion||this.options.layoutRoot)&&(P.delay=0,P.type=!1),this.startAnimation(P),this.setAnimationOrigin(f,C)}else m||n5(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),gc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(lpe),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&U$(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const m=this.path[f];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:l,layout:u}=this.options;if(l===void 0&&!u)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(e5);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(t5);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(spe),this.nodes.forEach(epe),this.nodes.forEach(tpe)):this.nodes.forEach(t5),this.clearAllSnapshots();const l=Ti.now();Ir.delta=Fo(0,1e3/60,l-Ir.timestamp),Ir.timestamp=l,Ir.isProcessing=!0,AE.update.process(Ir),AE.preRender.process(Ir),AE.render.process(Ir),Ir.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,K2.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(ipe),this.sharedNodes.forEach(cpe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ln.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ln.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ii(this.snapshot.measuredBox.x)&&!ii(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Xn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l&&this.instance){const u=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!L$(this.projectionDelta),u=this.getTransformTemplate(),d=u?u(this.latestValues,""):void 0,f=d!==this.prevTransformTemplateValue;a&&this.instance&&(l||hu(this.latestValues)||f)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let u=this.removeElementScroll(l);return a&&(u=this.removeTransform(u)),hpe(u),{animationId:this.root.animationId,measuredBox:l,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return Xn();const l=a.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(mpe))){const{scroll:d}=this.root;d&&(ff(l.x,d.offset.x),ff(l.y,d.offset.y))}return l}removeElementScroll(a){const l=Xn();if(Bs(l,a),this.scroll?.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:f,options:m}=d;d!==this.root&&f&&m.layoutScroll&&(f.wasRoot&&Bs(l,a),ff(l.x,f.offset.x),ff(l.y,f.offset.y))}return l}applyTransform(a,l=!1){const u=Xn();Bs(u,a);for(let d=0;d<this.path.length;d++){const f=this.path[d];!l&&f.options.layoutScroll&&f.scroll&&f!==f.root&&hf(u,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),hu(f.latestValues)&&hf(u,f.latestValues)}return hu(this.latestValues)&&hf(u,this.latestValues),u}removeTransform(a){const l=Xn();Bs(l,a);for(let u=0;u<this.path.length;u++){const d=this.path[u];if(!d.instance||!hu(d.latestValues))continue;RA(d.latestValues)&&d.updateSnapshot();const f=Xn(),m=d.measurePageBox();Bs(f,m),G4(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,f)}return hu(this.latestValues)&&G4(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ir.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(a||u&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:m}=this.options;if(!this.layout||!(f||m))return;this.resolvedRelativeTargetAt=Ir.timestamp;const y=this.getClosestProjectingParent();y&&this.linkedParentVersion!==y.layoutVersion&&!y.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(y&&y.layout?this.createRelativeTarget(y,this.layout.layoutBox,y.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Xn(),this.targetWithTransforms=Xn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),xme(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Bs(this.target,this.layout.layoutBox),v$(this.target,this.targetDelta)):Bs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?this.createRelativeTarget(y,this.target,y.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||RA(this.parent.latestValues)||y$(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(a,l,u){this.relativeParent=a,this.linkedParentVersion=a.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Xn(),this.relativeTargetOrigin=Xn(),hb(this.relativeTargetOrigin,l,u),Bs(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Ir.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;Bs(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,y=this.treeScale.y;jhe(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Xn());const{target:v}=a;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(H4(this.prevProjectionDelta.x,this.projectionDelta.x),H4(this.prevProjectionDelta.y,this.projectionDelta.y)),fp(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==y||!J4(this.projectionDelta.x,this.prevProjectionDelta.x)||!J4(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.visualElement?.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=mf(),this.projectionDelta=mf(),this.projectionDeltaWithTransform=mf()}setAnimationOrigin(a,l=!1){const u=this.snapshot,d=u?u.latestValues:{},f={...this.latestValues},m=mf();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const y=Xn(),v=u?u.source:void 0,_=this.layout?this.layout.source:void 0,E=v!==_,w=this.getStack(),A=!w||w.members.length<=1,C=!!(E&&!A&&this.options.crossfade===!0&&!this.path.some(dpe));this.animationProgress=0;let P;this.mixTargetDelta=L=>{const M=L/1e3;r5(m.x,a.x,M),r5(m.y,a.y,M),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(hb(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),upe(this.relativeTarget,this.relativeTargetOrigin,y,M),P&&Yme(this.relativeTarget,P)&&(this.isProjectionDirty=!1),P||(P=Xn()),Bs(P,this.relativeTarget)),E&&(this.animationValues=f,$me(f,d,this.latestValues,M,C,A)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=M},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(gc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ln.update(()=>{Tv.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Lf(0)),this.currentAnimation=Vme(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:l=>{this.mixTargetDelta(l),a.onUpdate&&a.onUpdate(l)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Zme),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:u,layout:d,latestValues:f}=a;if(!(!l||!u||!d)){if(this!==a&&this.layout&&d&&B$(this.options.animationType,this.layout.layoutBox,d.layoutBox)){u=this.target||Xn();const m=ii(this.layout.layoutBox.x);u.x.min=a.target.x.min,u.x.max=u.x.min+m;const y=ii(this.layout.layoutBox.y);u.y.min=a.target.y.min,u.y.max=u.y.min+y}Bs(l,u),hf(l,f),fp(this.projectionDeltaWithTransform,this.layoutCorrected,l,f)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new Xme),this.sharedNodes.get(a).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){const{layoutId:a}=this.options;return a?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:a}=this.options;return a?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:u}={}){const d=this.getStack();d&&d.promote(this,u),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:u}=a;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(l=!0),!l)return;const d={};u.z&&VE("z",a,d,this.animationValues);for(let f=0;f<LE.length;f++)VE(`rotate${LE[f]}`,a,d,this.animationValues),VE(`skew${LE[f]}`,a,d,this.animationValues);a.render();for(const f in d)a.setStaticValue(f,d[f]),this.animationValues&&(this.animationValues[f]=d[f]);a.scheduleRender()}applyProjectionStyles(a,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const u=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=Sv(l?.pointerEvents)||"",a.transform=u?u(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=Sv(l?.pointerEvents)||""),this.hasProjected&&!hu(this.latestValues)&&(a.transform=u?u({},""):"none",this.hasProjected=!1);return}a.visibility="";const f=d.animationValues||d.latestValues;this.applyTransformsToTarget();let m=Qme(this.projectionDeltaWithTransform,this.treeScale,f);u&&(m=u(f,m)),a.transform=m;const{x:y,y:v}=this.projectionDelta;a.transformOrigin=`${y.origin*100}% ${v.origin*100}% 0`,d.animationValues?a.opacity=d===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:a.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const _ in Lp){if(f[_]===void 0)continue;const{correct:E,applyTo:w,isCSSVariable:A}=Lp[_],C=m==="none"?f[_]:E(f[_],d);if(w){const P=w.length;for(let L=0;L<P;L++)a[w[L]]=C}else A?this.options.visualElement.renderState.vars[_]=C:a[_]=C}this.options.layoutId&&(a.pointerEvents=d===this?Sv(l?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>a.currentAnimation?.stop()),this.root.nodes.forEach(e5),this.root.sharedNodes.clear()}}}function epe(t){t.updateLayout()}function tpe(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:i}=t.options,s=e.source!==t.layout.source;i==="size"?gs(f=>{const m=s?e.measuredBox[f]:e.layoutBox[f],y=ii(m);m.min=n[f].min,m.max=m.min+y}):B$(i,e.layoutBox,n)&&gs(f=>{const m=s?e.measuredBox[f]:e.layoutBox[f],y=ii(n[f]);m.max=m.min+y,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+y)});const a=mf();fp(a,n,e.layoutBox);const l=mf();s?fp(l,t.applyTransform(r,!0),e.measuredBox):fp(l,n,e.layoutBox);const u=!L$(a);let d=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:m,layout:y}=f;if(m&&y){const v=Xn();hb(v,e.layoutBox,m.layoutBox);const _=Xn();hb(_,n,y.layoutBox),V$(v,_)||(d=!0),f.options.layoutRoot&&(t.relativeTarget=_,t.relativeTargetOrigin=v,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function npe(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function rpe(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function ipe(t){t.clearSnapshot()}function e5(t){t.clearMeasurements()}function t5(t){t.isLayoutDirty=!1}function spe(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function n5(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function ape(t){t.resolveTargetDelta()}function ope(t){t.calcProjection()}function lpe(t){t.resetSkewAndRotation()}function cpe(t){t.removeLeadSnapshot()}function r5(t,e,n){t.translate=hn(e.translate,0,n),t.scale=hn(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function i5(t,e,n,r){t.min=hn(e.min,n.min,r),t.max=hn(e.max,n.max,r)}function upe(t,e,n,r){i5(t.x,e.x,n.x,r),i5(t.y,e.y,n.y,r)}function dpe(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const fpe={duration:.45,ease:[.4,0,.1,1]},s5=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),a5=s5("applewebkit/")&&!s5("chrome/")?Math.round:_s;function o5(t){t.min=a5(t.min),t.max=a5(t.max)}function hpe(t){o5(t.x),o5(t.y)}function B$(t,e,n){return t==="position"||t==="preserve-aspect"&&!bme(Z4(e),Z4(n),.2)}function mpe(t){return t!==t.root&&t.scroll?.wasRoot}const ppe=z$({attachResizeListener:(t,e)=>Vp(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),UE={current:void 0},F$=z$({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!UE.current){const t=new ppe({});t.mount(window),t.setOptions({layoutScroll:!0}),UE.current=t}return UE.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),gpe={pan:{Feature:kme},drag:{Feature:Rme,ProjectionNode:F$,MeasureLayout:k$}};function l5(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&ln.postRender(()=>s(e,Eg(e)))}class ype extends Cc{mount(){const{current:e}=this.node;e&&(this.unmount=$fe(e,(n,r)=>(l5(this.node,r,"Start"),i=>l5(this.node,i,"End"))))}unmount(){}}class vpe extends Cc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=xg(Vp(this.node.current,"focus",()=>this.onFocus()),Vp(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function c5(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&ln.postRender(()=>s(e,Eg(e)))}class bpe extends Cc{mount(){const{current:e}=this.node;e&&(this.unmount=Kfe(e,(n,r)=>(c5(this.node,r,"Start"),(i,{success:s})=>c5(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const zA=new WeakMap,zE=new WeakMap,xpe=t=>{const e=zA.get(t.target);e&&e(t)},wpe=t=>{t.forEach(xpe)};function _pe({root:t,...e}){const n=t||document;zE.has(n)||zE.set(n,{});const r=zE.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(wpe,{root:t,...e})),r[i]}function Epe(t,e,n){const r=_pe(e);return zA.set(t,n),r.observe(t),()=>{zA.delete(t),r.unobserve(t)}}const Spe={some:0,all:1};class Tpe extends Cc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:Spe[i]},l=u=>{const{isIntersecting:d}=u;if(this.isInView===d||(this.isInView=d,s&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:f,onViewportLeave:m}=this.node.getProps(),y=d?f:m;y&&y(u)};return Epe(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Ape(e,n))&&this.startObserver()}unmount(){}}function Ape({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Npe={inView:{Feature:Tpe},tap:{Feature:bpe},focus:{Feature:vpe},hover:{Feature:ype}},Cpe={layout:{ProjectionNode:F$,MeasureLayout:k$}},Ppe={...hme,...Npe,...gpe,...Cpe},Ipe=Phe(Ppe,Fhe);function Ope({percentage:t,color:e,label:n,size:r=120,strokeWidth:i=10}){const s=(r-i)/2,a=s*2*Math.PI,l=a-t/100*a;return p.jsxs("div",{className:"flex flex-col items-center justify-center gap-2",children:[p.jsxs("div",{className:"relative",style:{width:r,height:r},children:[p.jsxs("svg",{className:"transform -rotate-90 w-full h-full",children:[p.jsx("circle",{cx:r/2,cy:r/2,r:s,stroke:"currentColor",strokeWidth:i,fill:"transparent",className:"text-gray-200"}),p.jsx(Ipe.circle,{initial:{strokeDashoffset:a},animate:{strokeDashoffset:l},transition:{duration:1.5,ease:"easeOut"},cx:r/2,cy:r/2,r:s,stroke:e,strokeWidth:i,fill:"transparent",strokeDasharray:a,strokeLinecap:"round"})]}),p.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:p.jsxs("span",{className:"text-3xl font-bold font-display text-white drop-shadow-[0_0_8px_rgba(255,255,255,0.5)]",children:[Math.round(t),"%"]})})]}),p.jsx("span",{className:"text-sm font-bold text-slate-300 tracking-wide uppercase",children:n})]})}const Ku={getWeakDomains:t=>{const e=[];for(const[n,r]of Object.entries(t))r.total>0&&r.correct/r.total*100<60&&e.push(n);return e},generateSmartQuiz:async(t,e,n,r=10)=>{console.log("Generating Smart Quiz for",t,"with limit",r);let s=Ku.getWeakDomains(n);if(s.length===0){const u=Object.keys(n);u.length>0?s=u.sort(()=>.5-Math.random()).slice(0,2):s=["People","Process"]}console.log("Targeting domains:",s);const a=Math.ceil(r/s.length),l=[];for(const u of s){if(l.length>=r)break;try{const d=a*3,f=Rr(en(qe,"questions"),Et("examId","==",e),Et("domain","==",u),Ro(d)),y=(await oi(f)).docs.map(w=>w.id),v=r-l.length,_=Math.min(a,v),E=y.sort(()=>.5-Math.random()).slice(0,_);l.push(...E)}catch(d){console.error(`Error fetching for domain ${u}:`,d)}}return l.sort(()=>.5-Math.random())},generateSimulationExam:async(t,e=50)=>{console.log("Generatign Simulation Exam for",t);try{const n=Rr(en(qe,"questions"),Et("examId","==",t),Ro(200));return(await oi(n)).docs.map(a=>a.id).sort(()=>.5-Math.random()).slice(0,e)}catch(n){return console.error("Error generating simulation:",n),[]}},generateTrapQuiz:async(t,e,n,r=7,i=0)=>{console.log("Generating Trap Quiz for",t,"Score:",i);let s=[],a=[];if(e&&e.length>0){const u=e[0];try{const d=Rr(en(qe,"questions"),Et("examId","==",n),Et("domain","==",u),Ro(40));a=(await oi(d)).docs.map(m=>({id:m.id,...m.data()}))}catch(d){console.error("Error fetching trap questions:",d)}}if(i>70){console.log("User has STABLE mastery. Attempting to escalate...");const u=120,d=a.filter(f=>typeof f.difficulty=="number"?f.difficulty>5:f.stem&&f.stem.length>u*1.5);d.length>=3?(console.log(`Found ${d.length} complex questions.`),a=d):console.log("Insufficient complex questions found. Using standard mix.")}if(s=a.map(u=>u.id).sort(()=>.5-Math.random()).slice(0,r),s.length<r){console.log("Pool exhausted. Filling with Simulation questions.");const u=r-s.length,d=await Ku.generateSimulationExam(n,u*2);for(const f of d)if(!s.includes(f)&&(s.push(f),s.length>=r))break}return s}},No={calculateLevel:t=>Math.floor(Math.sqrt(t/100))+1,calculateNextLevelXp:t=>Math.pow(t,2)*100,awardXP:async(t,e,n)=>{const r=mt.currentUser;if(!r)return;const i=on(qe,"users",r.uid);try{const s=await ti(i);let a=0,l=0;if(s.exists()){const E=s.data();a=E.xp||0,n&&E.examXP&&E.examXP[n]&&(l=E.examXP[n])}const u=a+t,d=l+t,f=No.calculateLevel(a),m=No.calculateLevel(u),y=No.calculateLevel(l),v=No.calculateLevel(d),_={xp:oA(t),level:m};return n&&(_[`examXP.${n}`]=oA(t)),await Op(i,_,{merge:!0}),console.log(`Awarded ${t} XP for "${e}". Global: ${u} (Lvl ${m}). Exam: ${d} (Lvl ${v})`),{leveledUp:n?v>y:m>f,newLevel:n?v:m,earnedXp:t}}catch(s){return console.error("Error awarding XP:",s),null}},checkStreak:async()=>{const t=mt.currentUser;if(!t)return;const e=on(qe,"users",t.uid),n=new Date().toISOString().split("T")[0];try{const r=await ti(e);if(!r.exists())return;const i=r.data(),s=i.lastActivityDate,a=i.streak||0;if(s===n)return;const l=new Date;l.setDate(l.getDate()-1);const u=l.toISOString().split("T")[0];let d=1;s===u?d=a+1:d=1,await fc(e,{streak:d,lastActivityDate:n}),console.log(`Streak updated to ${d}`)}catch(r){console.error("Error updating streak:",r)}}};function $$({level:t,xp:e,size:n="md"}){const r={sm:"w-8 h-8 text-xs",md:"w-12 h-12 text-sm",lg:"w-16 h-16 text-base"},i=Math.pow(t-1,2)*100,s=Math.pow(t,2)*100,a=s-i,l=Math.min(100,Math.max(0,(e-i)/a*100));return p.jsxs("div",{className:"relative flex items-center justify-center group cursor-help",children:[p.jsxs("div",{className:`${r[n]} relative rounded-full flex items-center justify-center bg-slate-800 border-2 border-slate-700 overflow-visible`,children:[p.jsxs("svg",{className:"absolute inset-0 w-full h-full -rotate-90 pointer-events-none overflow-visible",viewBox:"0 0 36 36",children:[p.jsx("path",{className:"text-slate-700",d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"currentColor",strokeWidth:"3"}),p.jsx("path",{className:"text-amber-400 drop-shadow-[0_0_2px_rgba(251,191,36,0.5)] transition-all duration-1000 ease-out",strokeDasharray:`${l}, 100`,d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"currentColor",strokeWidth:"3"})]}),p.jsx("div",{className:"absolute inset-0 flex items-center justify-center font-bold text-white font-display z-10",children:t})]}),p.jsxs("div",{className:"absolute top-full mt-2 hidden group-hover:block bg-slate-900 border border-slate-700 rounded-lg p-2 text-xs text-slate-300 w-32 z-50 text-center shadow-xl",children:[p.jsxs("p",{className:"font-bold text-white mb-1",children:["Level ",t]}),p.jsxs("p",{children:[e," XP Total"]}),p.jsxs("p",{className:"text-amber-400",children:[Math.round(s-e)," XP to Lvl ",t+1]})]})]})}const q$=T.createContext(void 0);function jpe({children:t}){const[e,n]=T.useState(()=>localStorage.getItem("selectedExamId")||"default-exam"),[r,i]=T.useState(""),[s,a]=T.useState([]),[l,u]=T.useState(!0);T.useEffect(()=>{(async()=>{u(!0);try{if(e){const m=on(qe,"exams",e),y=await ti(m);if(y.exists()){const v=y.data();i(v.name||"Unknown Exam"),a(v.domains||[])}else{console.warn(`Exam ${e} not found, searching for published exam...`);const v=Rr(en(qe,"exams"),Et("isPublished","==",!0),Ro(1)),_=await oi(v);if(_.empty)i("No Exams Found"),a([]);else{const E=_.docs[0],w=E.data();console.log(`Auto-switching to ${E.id} (${w.name})`),n(E.id),localStorage.setItem("selectedExamId",E.id),i(w.name||"Unknown Exam"),a(w.domains||[])}}}}catch(m){console.error("Failed to load exam data",m)}finally{u(!1)}})()},[e]),T.useEffect(()=>{const f=yC(mt,async m=>{});return()=>f()},[]);const d=async f=>{localStorage.setItem("selectedExamId",f),n(f)};return p.jsx(q$.Provider,{value:{selectedExamId:e,examName:r,examDomains:s,loading:l,switchExam:d},children:t})}function Xa(){const t=T.useContext(q$);if(t===void 0)throw new Error("useExam must be used within an ExamProvider");return t}function Rpe(){const{selectedExamId:t,switchExam:e,examName:n}=Xa(),[r,i]=T.useState([]),[s,a]=T.useState(!1),[l,u]=T.useState(!0);T.useEffect(()=>{(async()=>{try{const m=Rr(en(qe,"exams"),Et("isPublished","==",!0)),v=(await oi(m)).docs.map(_=>({id:_.id,name:_.data().name||"Unnamed Exam"}));i(v)}catch(m){console.error("Error fetching exams:",m)}finally{u(!1)}})()},[]);const d=f=>{e(f),a(!1)};return l?p.jsx("div",{className:"h-10 w-32 bg-slate-800/50 rounded-lg animate-pulse"}):p.jsxs("div",{className:"relative",children:[p.jsxs("button",{onClick:()=>a(!s),className:"flex items-center gap-2 px-4 py-2 bg-slate-800/80 hover:bg-slate-700/80 border border-slate-700 rounded-xl text-white font-medium transition-all",children:[p.jsx("span",{children:n||"Select Exam"}),p.jsx("svg",{className:`w-4 h-4 text-slate-400 transition-transform ${s?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),s&&p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>a(!1)}),p.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-slate-800 border border-slate-700 rounded-xl shadow-xl z-20 overflow-hidden py-1",children:r.map(f=>p.jsxs("button",{onClick:()=>d(f.id),className:`w-full text-left px-4 py-3 text-sm transition-colors flex items-center justify-between
                                    ${t===f.id?"bg-brand-500/10 text-brand-300":"text-slate-300 hover:bg-slate-700 hover:text-white"}`,children:[f.name,t===f.id&&p.jsx("svg",{className:"w-4 h-4 text-brand-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})]},f.id))})]})]})}function kpe({isOpen:t,onClose:e,level:n,currentXp:r,nextLevelXp:i,prevLevelXp:s,examName:a}){if(!t)return null;const l=i-s,u=Math.min(100,Math.max(0,(r-s)/l*100)),d=Math.round(i-r),f=[{level:1,name:"Novice",icon:u9,color:"text-slate-400",bg:"bg-slate-400/10",border:"border-slate-400/20"},{level:5,name:"Apprentice",icon:c9,color:"text-emerald-400",bg:"bg-emerald-400/10",border:"border-emerald-400/20"},{level:10,name:"Proficient",icon:_u,color:"text-blue-400",bg:"bg-blue-400/10",border:"border-blue-400/20"},{level:20,name:"Specialist",icon:_ue,color:"text-purple-400",bg:"bg-purple-400/10",border:"border-purple-400/20"},{level:30,name:"Expert",icon:ob,color:"text-amber-400",bg:"bg-amber-400/10",border:"border-amber-400/20"},{level:50,name:"Master",icon:cue,color:"text-rose-400",bg:"bg-rose-400/10",border:"border-rose-400/20"}];return p.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",children:p.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-2xl shadow-2xl max-w-lg w-full overflow-hidden animate-in zoom-in-95 duration-200 relative",children:[p.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-2 text-slate-400 hover:text-white hover:bg-white/10 rounded-full transition-colors z-10",children:p.jsx(pc,{className:"w-5 h-5"})}),p.jsx("div",{className:"absolute top-0 left-0 w-full h-32 bg-gradient-to-b from-brand-900/50 to-transparent pointer-events-none"}),p.jsxs("div",{className:"p-8 pt-10 text-center relative",children:[p.jsx("div",{className:"flex justify-center mb-6 scale-125",children:p.jsx($$,{level:n,xp:r,size:"lg"})}),p.jsxs("h2",{className:"text-2xl font-bold text-white font-display mb-1",children:["Level ",n," ",a]}),p.jsxs("p",{className:"text-slate-400 text-sm mb-8",children:["Total XP: ",p.jsx("span",{className:"text-white font-mono",children:r.toLocaleString()})]}),p.jsxs("div",{className:"mb-8",children:[p.jsxs("div",{className:"flex justify-between text-xs font-bold text-slate-500 mb-2 uppercase tracking-wide",children:[p.jsxs("span",{children:["Lvl ",n]}),p.jsxs("span",{children:[Math.round(u),"%"]}),p.jsxs("span",{children:["Lvl ",n+1]})]}),p.jsx("div",{className:"h-4 bg-slate-800 rounded-full overflow-hidden border border-slate-700",children:p.jsx("div",{className:"h-full bg-gradient-to-r from-brand-600 to-brand-400 shadow-[0_0_15px_rgba(99,102,241,0.5)] transition-all duration-1000 ease-out relative",style:{width:`${u}%`},children:p.jsx("div",{className:"absolute inset-0 bg-white/20 animate-pulse-slow"})})}),p.jsxs("p",{className:"text-xs text-center mt-3 text-slate-400",children:[p.jsxs("span",{className:"text-brand-400 font-bold",children:[d.toLocaleString()," XP"]})," to reach Level ",n+1]})]}),p.jsxs("div",{className:"text-left bg-slate-800/50 rounded-xl p-5 border border-slate-700/50",children:[p.jsxs("h3",{className:"text-sm font-bold text-slate-300 uppercase tracking-wider mb-4 flex items-center gap-2",children:[p.jsx(ob,{className:"w-4 h-4 text-brand-400"}),"Earned Badges"]}),p.jsx("div",{className:"grid grid-cols-3 gap-3",children:f.map(m=>{const y=n>=m.level,v=m.icon;return p.jsxs("div",{className:`flex flex-col items-center justify-center p-3 rounded-lg border transition-all ${y?`${m.bg} ${m.border} opacity-100`:"bg-slate-800 border-slate-700/50 opacity-40 grayscale"}`,children:[p.jsx(v,{className:`w-6 h-6 mb-2 ${y?m.color:"text-slate-500"}`}),p.jsx("span",{className:`text-xs font-medium ${y?"text-white":"text-slate-500"}`,children:m.name})]},m.level)})})]})]})]})})}const Cr=[];for(let t=0;t<256;++t)Cr.push((t+256).toString(16).slice(1));function Mpe(t,e=0){return(Cr[t[e+0]]+Cr[t[e+1]]+Cr[t[e+2]]+Cr[t[e+3]]+"-"+Cr[t[e+4]]+Cr[t[e+5]]+"-"+Cr[t[e+6]]+Cr[t[e+7]]+"-"+Cr[t[e+8]]+Cr[t[e+9]]+"-"+Cr[t[e+10]]+Cr[t[e+11]]+Cr[t[e+12]]+Cr[t[e+13]]+Cr[t[e+14]]+Cr[t[e+15]]).toLowerCase()}let BE;const Dpe=new Uint8Array(16);function Lpe(){if(!BE){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");BE=crypto.getRandomValues.bind(crypto)}return BE(Dpe)}const Vpe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),u5={randomUUID:Vpe};function Upe(t,e,n){t=t||{};const r=t.random??t.rng?.()??Lpe();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,Mpe(r)}function zpe(t,e,n){return u5.randomUUID&&!t?u5.randomUUID():Upe(t)}function H$({isOpen:t,onClose:e}){const{user:n}=oa(),r=xr(),[i,s]=T.useState("bug"),[a,l]=T.useState(""),[u,d]=T.useState(!1),[f,m]=T.useState(!1),[y,v]=T.useState(null),[_,E]=T.useState(null);if(!t)return null;const w=async A=>{if(A.preventDefault(),!!a.trim()){d(!0);try{let C=null;if(y&&ib){const P=`${Date.now()}_${zpe()}_${y.name}`,L=Ace(ib,`uploads/${n?.uid||"anonymous"}/issues/${P}`);await Sce(L,y),C=await Tce(L)}await id(en(qe,"issues"),{userId:n?.uid||"anonymous",userEmail:n?.email||"anonymous",type:i,description:a,path:r.pathname,timestamp:of(),status:"new",version:sd,attachmentUrl:C}),m(!0),setTimeout(()=>{e(),m(!1),l(""),s("bug"),v(null),E(null)},2e3)}catch(C){console.error("Error submitting issue:",C),alert("Failed to submit issue. Please try again.")}finally{d(!1)}}};return p.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[p.jsx("div",{className:"absolute inset-0 bg-slate-900/80 backdrop-blur-sm",onClick:e}),p.jsxs("div",{className:"relative bg-slate-800 rounded-2xl border border-slate-700 shadow-2xl w-full max-w-md overflow-hidden animate-in fade-in zoom-in-95 duration-200",children:[p.jsxs("div",{className:"p-6 border-b border-slate-700 flex justify-between items-center",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"p-2 bg-brand-500/10 rounded-lg text-brand-400",children:p.jsx(a9,{className:"w-5 h-5"})}),p.jsx("h2",{className:"text-xl font-bold text-white",children:"Report an Issue"})]}),p.jsx("button",{onClick:e,className:"text-slate-400 hover:text-white transition-colors",children:p.jsx(pc,{className:"w-5 h-5"})})]}),p.jsx("div",{className:"p-6",children:f?p.jsxs("div",{className:"py-8 text-center space-y-4",children:[p.jsx("div",{className:"w-16 h-16 bg-emerald-500/20 text-emerald-400 rounded-full flex items-center justify-center mx-auto",children:p.jsx(i9,{className:"w-8 h-8"})}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-xl font-bold text-white",children:"Thank You!"}),p.jsx("p",{className:"text-slate-400",children:"Your report has been submitted successfully."})]})]}):p.jsxs("form",{onSubmit:w,className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Issue Type"}),p.jsxs("select",{value:i,onChange:A=>s(A.target.value),className:"w-full bg-slate-900 border border-slate-700 rounded-xl px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-brand-500/50",children:[p.jsx("option",{value:"bug",children:"Bug / Error"}),p.jsx("option",{value:"content",children:"Content Issue (Question/Answer)"}),p.jsx("option",{value:"other",children:"Feature Request / Other"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Description"}),p.jsx("textarea",{value:a,onChange:A=>l(A.target.value),placeholder:"Please describe what happened...",rows:4,className:"w-full bg-slate-900 border border-slate-700 rounded-xl px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-brand-500/50 resize-none",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Screenshot (Optional)"}),p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsxs("label",{className:"flex items-center gap-2 px-4 py-2 bg-slate-700/50 hover:bg-slate-700 border border-slate-600 rounded-xl cursor-pointer transition-colors text-sm font-medium text-slate-300",children:[p.jsx(Wue,{className:"w-4 h-4"}),y?"Change Image":"Upload Image",p.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:A=>{const C=A.target.files?.[0];C&&(v(C),E(URL.createObjectURL(C)))}})]}),y&&p.jsxs("div",{className:"flex items-center gap-2 bg-slate-900/50 px-3 py-1 rounded-lg border border-slate-700",children:[p.jsx("span",{className:"text-xs text-slate-300 truncate max-w-[150px]",children:y.name}),p.jsx("button",{type:"button",onClick:()=>{v(null),E(null)},className:"text-slate-500 hover:text-red-400",children:p.jsx(pc,{className:"w-3 h-3"})})]})]}),_&&p.jsx("div",{className:"mt-2 relative w-full h-32 bg-slate-900 rounded-lg overflow-hidden border border-slate-700",children:p.jsx("img",{src:_,alt:"Preview",className:"w-full h-full object-contain"})})]}),p.jsxs("div",{className:"bg-slate-900/50 rounded-lg p-3 text-xs text-slate-500 space-y-1",children:[p.jsx("p",{children:"Make sure to include details so we can reproduce it."}),p.jsxs("p",{children:["Device info and current page (",r.pathname,") will be included automatically."]})]}),p.jsxs("button",{type:"submit",disabled:u,className:"w-full bg-brand-500 text-white font-bold py-3 rounded-xl hover:bg-brand-400 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[u&&p.jsx(vA,{className:"w-5 h-5 animate-spin"}),u?"Submitting...":"Submit Report"]})]})})]})]})}function Gd(t,e){const n={isFree:!0,isTrialActive:!1,isTrialExpired:!1,isPro:!1,daysRemaining:0,hoursRemaining:0,plan:"free",accessLevel:"free",trialConsumed:!1,trialEndsAt:null},r=new Date,i=e&&e.metadata.creationTime===e.metadata.lastSignInTime;let s=null;if(t){const a=t.plan||"free";if(t.isPro===!0)return{...n,isFree:!1,isPro:!0,plan:"pro",accessLevel:"pro",trialConsumed:!0};if(a==="pro")if(t.trial===!0){const l=t.trialEndsAt instanceof At?t.trialEndsAt.toDate():null;if(l){const u=l.getTime()-r.getTime();if(u<=0)s={...n,isFree:!0,isTrialActive:!1,isTrialExpired:!0,isPro:!1,plan:"free",accessLevel:"free",trialConsumed:!0,trialEndsAt:l};else{const f=Math.floor(u/864e5),m=Math.floor(u%(1e3*60*60*24)/(1e3*60*60));return{isFree:!1,isTrialActive:!0,isTrialExpired:!1,isPro:!0,daysRemaining:f,hoursRemaining:m,plan:"trial",accessLevel:"pro",trialConsumed:!0,trialEndsAt:l}}}}else return{...n,isFree:!1,isPro:!0,plan:"pro",accessLevel:"pro",trialConsumed:!0};else if(a==="trial"){const l=t.trialEndsAt instanceof At?t.trialEndsAt.toDate():null;if(l&&l<=r)s={...n,isFree:!0,isTrialActive:!1,isTrialExpired:!0,isPro:!1,plan:"trial",accessLevel:"free",trialConsumed:!0,trialEndsAt:l};else if(l){const u=l.getTime()-r.getTime(),d=Math.floor(u/(1e3*60*60*24)),f=Math.floor(u%(1e3*60*60*24)/(1e3*60*60));return{isFree:!1,isTrialActive:!0,isTrialExpired:!1,isPro:!0,daysRemaining:d,hoursRemaining:f,plan:"trial",accessLevel:"pro",trialConsumed:!0,trialEndsAt:l}}}}if(s?.isTrialExpired)return s;if(i)return{isFree:!1,isTrialActive:!0,isTrialExpired:!1,isPro:!0,daysRemaining:14,hoursRemaining:0,plan:"trial",accessLevel:"pro",trialConsumed:!0,trialEndsAt:new Date(r.getTime()+12096e5)};if(t){const a=t.plan||"free",l=t.trialConsumed||!1;return{...n,plan:a,trialConsumed:l,isTrialExpired:l}}return n}const W$=T.createContext(null);function Pc(){const t=T.useContext(W$);if(!t)throw new Error("useSubscription must be used within a SubscriptionProvider");return t}function Bpe({children:t}){const{user:e}=oa(),[n,r]=T.useState(Gd(void 0,e)),[i,s]=T.useState(!0),[a,l]=T.useState(0),u=5;T.useEffect(()=>{if(!e){r(Gd(void 0,null)),s(!1);return}const v=Gd(void 0,e);v.isTrialActive&&(r(v),s(!1));const _=af(on(qe,"users",e.uid),async E=>{if(E.exists()){const w=E.data(),A=Gd(w,e);if(A.isTrialExpired&&w.trial===!0){console.log("SubscriptionProvider: Trial expired, downgrading user...");try{await fc(on(qe,"users",e.uid),{plan:"starter",trial:!1,accessLevel:"free",trialConsumed:!0})}catch(C){console.error("Failed to downgrade expired user:",C)}}r(A)}else r(Gd(void 0));s(!1)},E=>{console.warn("SubscriptionProvider: Failed to subscribe to user profile (likely permission error or missing doc). Defaulting to free/stateless.",E),r(Gd(void 0)),s(!1)});return()=>_()},[e]),T.useEffect(()=>{e&&(async()=>{if(!e){l(0);return}const _=new Date;_.setHours(0,0,0,0);const E=At.fromDate(_);try{const w=Rr(en(qe,"quizAttempts"),Et("userId","==",e.uid),Et("timestamp",">=",E)),A=await oi(w);let C=0;A.forEach(P=>{const L=P.data();C+=L.totalQuestions||0}),l(C)}catch(w){console.error("Error fetching daily usage:",w)}})()},[e]);const d=v=>{l(_=>_+v)},f=v=>!!n.isPro,m=n.isPro,y=m||a<u;return p.jsx(W$.Provider,{value:{isPro:m,entitlement:n,loading:i,questionsAnsweredToday:a,dailyLimit:u,canTakeQuiz:y,incrementDailyCount:d,checkPermission:f},children:t})}function K$(){const{entitlement:t}=Pc(),[e,n]=T.useState(!1);return{trial:t.plan==="pro"?{status:"pro",daysRemaining:0,hoursRemaining:0}:t.isTrialActive?{status:"active",daysRemaining:t.daysRemaining,hoursRemaining:t.hoursRemaining}:t.isTrialExpired?{status:"expired",daysRemaining:0,hoursRemaining:0}:{status:"none",daysRemaining:0,hoursRemaining:0},loading:e,startTrial:async()=>{if(!mt.currentUser)return!1;try{n(!0);const a=new Date,l=new Date;l.setDate(a.getDate()+14);const u=on(qe,"users",mt.currentUser.uid);return await fc(u,{plan:"pro",trial:!0,trialEndsAt:At.fromDate(l),trialLengthDays:14,trialConsumed:!0,accessLevel:"pro"}),!0}catch(a){return console.error("Failed to start trial:",a),!1}finally{n(!1)}}}}function Fpe({pattern:t}){const e=r=>r>=80?"text-emerald-400 border-emerald-500/30 bg-emerald-500/10":r>=50?"text-amber-400 border-amber-500/30 bg-amber-500/10":"text-red-400 border-red-500/30 bg-red-500/10",n=r=>r>=80?"Mastered":r>=50?"In Progress":"Needs Focus";return p.jsxs("div",{className:"bg-slate-800 rounded-xl p-5 border border-slate-700 shadow-lg relative group overflow-hidden",children:[p.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-gradient-to-br from-transparent to-white/5 rounded-bl-3xl opacity-0 group-hover:opacity-100 transition-opacity"}),p.jsxs("div",{className:"flex justify-between items-start mb-3",children:[p.jsx("h3",{className:"font-bold text-lg text-white leading-tight pr-8",children:t.pattern_name}),p.jsx("span",{className:`text-xs font-bold px-2 py-1 rounded-full border ${e(t.mastery_score)}`,children:n(t.mastery_score)})]}),p.jsx("p",{className:"text-slate-400 text-sm mb-4 leading-relaxed line-clamp-2",children:t.core_rule}),p.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500 border-t border-slate-700/50 pt-3",children:[p.jsxs("div",{className:"flex items-center gap-1 group/heuristic cursor-help relative",children:[p.jsx(_u,{className:"w-3.5 h-3.5 text-amber-400"}),p.jsx("span",{className:"font-medium text-slate-400 group-hover/heuristic:text-amber-300 transition-colors",children:"Quick Fix"}),t.five_second_heuristic&&p.jsxs("div",{className:"absolute bottom-full left-0 mb-2 w-64 bg-slate-900 text-slate-200 p-3 rounded-lg border border-slate-700 shadow-xl text-xs opacity-0 group-hover/heuristic:opacity-100 pointer-events-none transition-opacity z-10",children:[p.jsx("span",{className:"block font-bold text-amber-400 mb-1",children:"5-Second Heuristic:"}),t.five_second_heuristic]})]}),p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsxs("span",{title:"Times Missed",className:"flex items-center gap-1 text-red-400/80",children:[p.jsx(nue,{className:"w-3.5 h-3.5"}),t.times_missed]}),p.jsxs("span",{title:"Mastery Score",className:"font-mono font-bold text-slate-300",children:[t.mastery_score,"%"]})]})]})]})}function $pe(){const{user:t}=oa(),e=jn(),{checkPermission:n}=Pc(),[r,i]=T.useState([]),[s,a]=T.useState(!0),[l,u]=T.useState(!1),[d,f]=T.useState(!1);T.useEffect(()=>{if(!t)return;(async()=>{try{const v=Fu(),w=(await ea(v,"getWeakestPatterns")()).data;i(w.slice(0,3))}catch(v){console.error("Failed to fetch traps:",v)}finally{a(!1)}})()},[t]);const m=()=>{n("analytics")?f(!0):u(!0)};return s?p.jsxs("div",{className:"bg-slate-800 rounded-2xl p-6 border border-slate-700 animate-pulse h-64",children:[p.jsx("div",{className:"h-6 bg-slate-700 rounded w-1/2 mb-4"}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("div",{className:"h-4 bg-slate-700/50 rounded w-full"}),p.jsx("div",{className:"h-4 bg-slate-700/50 rounded w-3/4"})]})]}):p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"bg-slate-800 rounded-2xl p-6 border border-slate-700 shadow-xl relative overflow-hidden flex flex-col h-full",children:[p.jsxs("div",{className:"mb-4",children:[p.jsx("h3",{className:"text-xl font-bold text-white mb-1 flex items-center gap-2",children:" Your Thinking Traps"}),p.jsx("p",{className:"text-slate-400 text-sm",children:"These are the exam patterns that keep catching you off guard."})]}),p.jsxs("div",{className:"flex-1",children:[p.jsx("p",{className:"text-slate-300 text-sm mb-4 font-medium",children:"Youve missed questions tied to these patterns more than once:"}),r.length>0?p.jsx("div",{className:"space-y-3 mb-6",children:r.map(y=>p.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-900/50 rounded-lg border border-slate-700/50",children:[p.jsx("span",{className:"text-white font-medium text-sm truncate pr-2",children:y.pattern_name}),y.mastery_score<50?p.jsx("span",{className:"w-3 h-3 rounded-full bg-red-500 shadow-[0_0_8px_rgba(239,68,68,0.6)]",title:"High Risk"}):p.jsx("span",{className:"w-3 h-3 rounded-full bg-amber-500 shadow-[0_0_8px_rgba(245,158,11,0.6)]",title:"Medium Risk"})]},y.pattern_id))}):p.jsx("div",{className:"p-4 bg-slate-900/30 rounded-lg border border-slate-700/30 text-center mb-6",children:p.jsx("p",{className:"text-slate-400 text-sm italic",children:'"Your thinking traps will appear here as you practice."'})})]}),p.jsxs("button",{onClick:m,disabled:r.length===0,className:"w-full py-3 bg-brand-600 hover:bg-brand-500 text-white font-bold rounded-xl shadow-lg shadow-brand-500/20 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:["Review These Traps ",p.jsx(qce,{className:"w-4 h-4"})]}),(()=>{const y="exam_coach_reinforcement";try{const v=localStorage.getItem(y);if(v){const _=JSON.parse(v);if(Date.now()-_.timestamp<1440*60*1e3)return p.jsx("div",{className:"mt-4 text-center animate-in fade-in duration-700",children:p.jsxs("p",{className:"text-slate-500 text-xs italic",children:['"',_.message,'"']})})}}catch{}return null})()]}),l&&p.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:p.jsxs("div",{className:"bg-slate-800 rounded-2xl max-w-md w-full border border-slate-700 shadow-2xl overflow-hidden relative animate-in fade-in zoom-in duration-200",children:[p.jsx("button",{onClick:()=>u(!1),className:"absolute top-4 right-4 text-slate-400 hover:text-white",children:p.jsx(pc,{className:"w-6 h-6"})}),p.jsxs("div",{className:"p-8 text-center",children:[p.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-xl shadow-indigo-500/20 rotate-3",children:p.jsx(Jx,{className:"w-8 h-8 text-white"})}),p.jsx("h2",{className:"text-2xl font-bold text-white mb-3",children:"Unlock Thinking Trap Mastery"}),p.jsx("p",{className:"text-slate-300 mb-8 leading-relaxed",children:"See why these traps keep appearing, how PMI designs them, and how to avoid them in 5 seconds or less."}),p.jsx(fn,{to:"/app/pricing",className:"block w-full py-3.5 bg-brand-600 hover:bg-brand-500 text-white font-bold rounded-xl shadow-lg shadow-brand-500/25 transition-all transform hover:-translate-y-0.5",children:"Upgrade to Unlock"})]})]})}),d&&p.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/80 backdrop-blur-md",children:p.jsxs("div",{className:"bg-slate-900 rounded-2xl max-w-2xl w-full border border-slate-700 shadow-2xl overflow-hidden relative animate-in fade-in zoom-in duration-200 flex flex-col max-h-[90vh]",children:[p.jsxs("div",{className:"p-6 border-b border-slate-800 flex justify-between items-center bg-slate-800/50",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:" Trap Review Mode"}),p.jsx("p",{className:"text-slate-400 text-xs mt-1",children:"Master your weakest patterns."})]}),p.jsx("button",{onClick:()=>f(!1),className:"text-slate-400 hover:text-white bg-slate-800 p-2 rounded-lg hover:bg-slate-700 transition-colors",children:p.jsx(pc,{className:"w-5 h-5"})})]}),p.jsx("div",{className:"p-6 overflow-y-auto space-y-6",children:r.map(y=>p.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 border border-slate-700",children:[p.jsxs("div",{className:"flex justify-between items-start mb-4",children:[p.jsx("h3",{className:"text-lg font-bold text-white",children:y.pattern_name}),p.jsxs("span",{className:`text-xs font-bold px-2 py-1 rounded border ${y.mastery_score<50?"border-red-500/30 text-red-400 bg-red-500/10":"border-amber-500/30 text-amber-400 bg-amber-500/10"}`,children:["Score: ",y.mastery_score]})]}),p.jsxs("div",{className:"mb-4",children:[p.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Core Rule"}),p.jsx("p",{className:"text-slate-300 text-sm leading-relaxed",children:y.core_rule})]}),p.jsxs("div",{className:"bg-indigo-900/20 border border-indigo-500/20 rounded-lg p-4",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[p.jsx(_u,{className:"w-4 h-4 text-amber-400"}),p.jsx("span",{className:"text-sm font-bold text-indigo-300",children:"5-Second Heuristic"})]}),p.jsx("p",{className:"text-indigo-100 text-sm font-medium",children:y.five_second_heuristic||"No heuristic available."})]}),p.jsx("button",{onClick:()=>{f(!1),e("/app/quiz",{state:{mode:"trap",patternId:y.pattern_id,patternName:y.pattern_name,domainTags:y.domain_tags,masteryScore:y.mastery_score}})},className:"w-full mt-4 py-2.5 bg-brand-600 hover:bg-brand-500 text-white font-bold rounded-lg shadow-lg shadow-brand-500/20 transition-all flex items-center justify-center gap-2 text-sm",children:"[ Practice This Trap ]"})]},y.pattern_id))})]})})]})}function qpe(){const{isCollapsed:t}=E2(),{selectedExamId:e,examName:n,examDomains:r,loading:i}=Xa(),[s]=T.useState({}),[a,l]=T.useState({}),[u,d]=T.useState({}),[f,m]=T.useState(!0),y=jn(),[v,_]=T.useState(!1),[E,w]=T.useState([]),[A,C]=T.useState(0),[P,L]=T.useState(10),[M,z]=T.useState(!1),[j,R]=T.useState(10),[D,B]=T.useState(0),[V,$]=T.useState(1),[q,xe]=T.useState(0),[be,X]=T.useState(!1),[ee,he]=T.useState(!1),{trial:Y}=K$();T.useEffect(()=>{i||(e&&r.length>0?H(e,r):d({}))},[e,r,i]),T.useEffect(()=>{let se,ye,de;const Se=mt.onAuthStateChanged(async Z=>{if(Z){const Ee=Z.uid;if(e){const _e=Rr(en(qe,"users",Ee,"questionProgress"),Et("examId","==",e));de=af(_e,Me=>{const ze={};Me.docs.forEach(it=>{const Gt=it.data();Gt.status==="mastered"&&Gt.domain&&(ze[Gt.domain]=(ze[Gt.domain]||0)+1)}),l(ze)})}if(e){const _e=Rr(en(qe,"quizAttempts"),Et("userId","==",Ee),Et("examId","==",e),ch("timestamp","desc"),Ro(10));se=af(_e,Me=>{const ze=Me.docs.map(it=>({id:it.id,...it.data()}));w(ze)})}const Ae=new Date;Ae.setHours(0,0,0,0);const fe=Rr(en(qe,"quizAttempts"),Et("userId","==",Ee),Et("timestamp",">=",Ae));af(fe,_e=>{let Me=0;_e.docs.forEach(ze=>{const it=ze.data();it.examId===e&&(Me+=it.totalQuestions||0)}),C(Me)});const Ke=on(qe,"users",Ee);ye=af(Ke,_e=>{if(_e.exists()){const Me=_e.data();Me.dailyGoal&&(L(Me.dailyGoal),R(Me.dailyGoal));let ze=0;e&&Me.examXP&&typeof Me.examXP[e]=="number"?ze=Me.examXP[e]:e&&(!Me.examXP||!Me.examXP[e])?ze=0:ze=Me.xp||0,B(ze),$(No.calculateLevel(ze)),Me.streak!==void 0&&xe(Me.streak)}}),No.checkStreak()}m(!1)});return()=>{Se(),se&&se(),ye&&ye(),de&&de()}},[e]);const H=async(se,ye)=>{const de={};for(const Se of ye)try{const Z=Rr(en(qe,"questions"),Et("examId","==",se),Et("domain","==",Se)),Ee=await j8(Z);de[Se]=Ee.data().count}catch(Z){console.error(`Error fetching total for ${Se}:`,Z),de[Se]=100}d(de)},k=async()=>{if(mt.currentUser)try{const se=on(qe,"users",mt.currentUser.uid);await Op(se,{dailyGoal:j},{merge:!0}),z(!1)}catch(se){console.error("Error saving goal:",se)}},K=se=>{const ye=a[se]||0,de=u[se]||0;return de===0?0:Math.min(100,Math.round(ye/de*100))},re=async()=>{if(mt.currentUser)try{const se=P||5,ye=await Ku.generateSmartQuiz(mt.currentUser.uid,e||"default-exam",s,se);y("/app/quiz",{state:{questionIds:ye,mode:"smart"}})}catch(se){console.error("Failed to generate smart quiz:",se),y("/app/quiz")}},ce=()=>{if(!r||r.length===0){y("/app/quiz");return}let se=r[0],ye=101;r.forEach(de=>{const Se=K(de);Se<ye&&(ye=Se,se=de)}),console.log("Smart Practice targeting weakest domain:",se),y("/app/quiz",{state:{filterDomain:se,mode:"weakest"}})};return f?p.jsx("div",{className:"min-h-screen flex items-center justify-center text-white",children:"Loading dashboard..."}):p.jsxs("div",{className:"min-h-screen flex bg-transparent relative",children:[p.jsx(d9,{}),p.jsxs("div",{className:"absolute top-0 right-0 w-full text-right pr-4 py-1 text-xs font-mono text-white/50 pointer-events-none z-50",children:["Version: ",sd]}),p.jsxs("div",{className:`flex-1 ${t?"ml-20":"ml-64"} flex flex-col transition-all duration-300`,children:[p.jsx("nav",{className:"bg-slate-800/50 backdrop-blur-md border-b border-slate-700 sticky top-0 z-50",children:p.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:p.jsxs("div",{className:"flex h-16 justify-between items-center",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("button",{onClick:()=>X(!0),className:"flex items-center justify-center hover:scale-105 transition-transform",children:p.jsx($$,{level:V,xp:D,size:"sm"})}),p.jsx("h1",{className:"text-xl font-bold text-white font-display tracking-tight",children:"Exam Coach Pro AI"})]}),p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx(Rpe,{}),p.jsxs(fn,{to:"/app/help",className:"text-sm font-medium text-brand-400 hover:text-brand-300 transition-colors flex items-center gap-1",children:[p.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Guide"]}),p.jsx(fn,{to:"/about",className:"text-sm font-medium text-slate-400 hover:text-white transition-colors",children:"About"}),p.jsx("button",{onClick:()=>he(!0),className:"text-sm font-medium text-slate-400 hover:text-white transition-colors",children:"Report a Problem"}),p.jsx(fn,{to:"/app/pricing",className:"text-sm font-bold text-brand-400 hover:text-brand-300 transition-colors border border-brand-500/30 px-3 py-1 rounded-full bg-brand-500/10",children:"Upgrade"}),p.jsx("button",{onClick:()=>_(!0),className:"hidden md:flex items-center gap-2 px-3 py-1 bg-slate-700/50 text-brand-300 rounded-full text-sm font-medium border border-slate-600 hover:bg-slate-700 hover:border-brand-500/50 transition-all cursor-pointer",children:p.jsxs("span",{children:[" ",q," Day Streak"]})}),p.jsx("button",{onClick:()=>FT(mt),className:"text-sm font-medium text-slate-400 hover:text-white transition-colors",children:"Sign Out"})]})]})})}),p.jsxs("main",{className:"mx-auto max-w-7xl py-8 px-4 sm:px-6 lg:px-8 space-y-8",children:[Y.status==="active"&&p.jsxs("div",{className:`rounded-xl p-4 flex items-center justify-between border shadow-lg ${Y.daysRemaining<=2?"bg-gradient-to-r from-amber-600 to-orange-700 border-amber-400/30":"bg-gradient-to-r from-indigo-600 to-indigo-800 border-indigo-400/30"}`,children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:`p-2 rounded-lg backdrop-blur-sm ${Y.daysRemaining<=2?"bg-amber-500/20":"bg-indigo-500/20"}`,children:p.jsx("span",{className:"text-xl",children:Y.daysRemaining<=2?"":""})}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-white font-bold text-base",children:Y.daysRemaining<=2?"Your Pro trial ends soon":"Youre on a 14-day Pro Trial"}),p.jsx("p",{className:`${Y.daysRemaining<=2?"text-amber-100":"text-indigo-200"} text-sm`,children:Y.daysRemaining===0?p.jsxs(p.Fragment,{children:["You have ",p.jsxs("strong",{className:"text-white",children:[Y.hoursRemaining," hours"]})," left of full access."]}):p.jsx(p.Fragment,{children:Y.daysRemaining<=2?p.jsxs(p.Fragment,{children:["Time remaining: ",p.jsxs("strong",{className:"text-white",children:[Y.daysRemaining," days, ",Y.hoursRemaining," hours"]})]}):p.jsxs(p.Fragment,{children:["Full access enabled.  ",p.jsxs("strong",{className:"text-white",children:[Y.daysRemaining," days"]})," remaining"]})})})]})]}),p.jsx(fn,{to:"/app/pricing",className:"px-5 py-2.5 bg-white text-indigo-900 font-bold rounded-lg text-sm hover:bg-indigo-50 transition-colors shadow-md whitespace-nowrap",children:"Upgrade Now"})]}),Y.status==="expired"&&p.jsx("div",{className:"bg-slate-800 rounded-2xl p-8 text-center border border-slate-700 shadow-2xl relative overflow-hidden mb-8",children:p.jsxs("div",{className:"relative z-10",children:[p.jsx("h3",{className:"text-2xl font-bold text-white mb-2 font-display",children:" Your 14-day Pro trial has ended"}),p.jsx("p",{className:"text-slate-400 mb-6 max-w-lg mx-auto",children:"We hope you enjoyed your practice sessions! To continue studying and access your detailed analytics, please upgrade your plan."}),p.jsx("div",{className:"flex flex-col items-center gap-4",children:p.jsx(fn,{to:"/app/pricing",className:"inline-flex items-center justify-center rounded-xl bg-brand-600 px-8 py-3 text-base font-bold text-white shadow-lg shadow-brand-500/30 hover:bg-brand-500 transition-all hover:-translate-y-0.5",children:"Upgrade to continue studying"})})]})}),p.jsxs("div",{className:Y.status==="expired"?"opacity-10 pointer-events-none filter blur-sm select-none":"",children:[E.length===0&&!f?p.jsxs("div",{className:"bg-gradient-to-r from-brand-600 to-indigo-700 rounded-2xl p-8 flex flex-col md:flex-row items-center justify-between shadow-2xl shadow-brand-900/40 border border-brand-500/30 relative overflow-hidden group",children:[p.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/10 rounded-full blur-3xl -mr-16 -mt-16 pointer-events-none"}),p.jsxs("div",{className:"relative z-10 max-w-2xl",children:[p.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-white/10 border border-white/20 text-white text-xs font-bold uppercase tracking-wider mb-4 shadow-sm",children:[p.jsx("span",{className:"w-2 h-2 rounded-full bg-green-400 animate-pulse"}),"First Step"]}),p.jsx("h2",{className:"text-3xl font-bold text-white font-display mb-3 tracking-tight",children:"Let me learn how you think."}),p.jsx("p",{className:"text-indigo-100 text-lg leading-relaxed",children:"A quick 10-minute session to help me understand your logic and tailor your study plan."})]}),p.jsx("div",{className:"relative z-10 mt-6 md:mt-0",children:p.jsxs("button",{onClick:()=>y("/app/quiz",{state:{mode:"diagnostic"}}),className:"inline-flex items-center justify-center rounded-xl bg-white text-brand-700 px-8 py-4 text-lg font-bold shadow-xl hover:bg-indigo-50 hover:scale-105 transition-all w-full md:w-auto gap-2 group/btn",children:["Start Diagnostic",p.jsx("svg",{className:"w-5 h-5 group-hover/btn:translate-x-1 transition-transform",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})})]}):p.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-3xl font-bold text-white font-display",children:"Welcome back!"}),p.jsxs("p",{className:"text-slate-400 mt-1",children:["Consistency is key. Keep up your daily practice to master the ",p.jsx("strong",{children:n}),"."]})]}),p.jsxs("div",{className:"flex gap-4",children:[p.jsx("button",{onClick:re,className:"inline-flex items-center justify-center rounded-xl bg-brand-600 px-6 py-3 text-base font-medium text-white shadow-lg shadow-brand-500/30 hover:bg-brand-500 hover:shadow-brand-500/40 transition-all transform hover:-translate-y-0.5",children:"Start Daily Practice"}),p.jsxs("button",{onClick:ce,className:"inline-flex items-center justify-center rounded-xl bg-purple-600 px-6 py-3 text-base font-medium text-white shadow-lg shadow-purple-500/30 hover:bg-purple-500 hover:shadow-purple-500/40 transition-all transform hover:-translate-y-0.5 border border-purple-400/20",title:"Targets your weakest domains",children:[p.jsx("span",{className:"mr-2",children:""})," Smart Practice"]}),p.jsxs("button",{onClick:()=>y("/app/simulator"),className:"inline-flex items-center justify-center rounded-xl bg-slate-800 border border-slate-600 px-6 py-3 text-base font-medium text-white shadow-lg hover:bg-slate-700 transition-all transform hover:-translate-y-0.5 group",title:"Full length timed exam simulation",children:[p.jsx("span",{className:"mr-2 group-hover:scale-110 transition-transform",children:""})," Mock Exam"]})]})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mt-8",children:r.map((se,ye)=>{const de=["#C084FC","#F472B6","#34D399"],Se=de[ye%de.length],Z=a[se]||0,Ee=u[se]||0;return p.jsxs("button",{onClick:()=>y("/app/quiz",{state:{filterDomain:se}}),className:"bg-slate-800/50 backdrop-blur-sm p-6 rounded-2xl border border-slate-700 flex flex-col items-center hover:border-brand-500/50 hover:bg-slate-800/80 transition-all cursor-pointer group text-left w-full relative overflow-hidden",children:[p.jsx("div",{className:"absolute top-0 left-0 w-1 h-full opacity-0 group-hover:opacity-100 transition-opacity",style:{backgroundColor:Se}}),p.jsx(Ope,{percentage:K(se),color:Se,label:""}),p.jsxs("div",{className:"mt-4 text-center",children:[p.jsx("h3",{className:"text-lg font-bold text-white group-hover:text-brand-300 transition-colors",children:se}),p.jsxs("p",{className:"text-sm font-medium text-slate-400 mt-1",children:[p.jsx("span",{className:"text-white font-bold",children:Z}),p.jsx("span",{className:"mx-1 text-slate-600",children:"/"}),p.jsx("span",{className:"text-slate-500",children:Ee}),p.jsx("span",{className:"ml-1 text-xs uppercase tracking-wide opacity-70",children:"Mastered"})]}),p.jsx("div",{className:"mt-4 opacity-0 group-hover:opacity-100 transition-all transform translate-y-2 group-hover:translate-y-0 duration-300",children:p.jsx("span",{className:"text-xs font-bold text-brand-400 uppercase tracking-widest border border-brand-500/30 px-4 py-1.5 rounded-full bg-brand-500/10 shadow-[0_0_10px_rgba(99,102,241,0.3)]",children:"Practice Domain"})})]})]},se)})}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mt-8",children:[p.jsxs("div",{className:"lg:col-span-2 bg-slate-800/50 backdrop-blur-sm rounded-2xl border border-slate-700 p-6",children:[p.jsx("h3",{className:"text-lg font-bold text-white mb-4 font-display",children:"Recent Activity"}),p.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto pr-2 scrollbar-thin scrollbar-thumb-slate-700 scrollbar-track-slate-800/50",children:p.jsx("div",{className:"space-y-3",children:E.length===0?p.jsx("p",{className:"text-slate-400 text-sm",children:"No recent activity. Take a quiz to see your progress!"}):E.map(se=>p.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-slate-700/30 border border-slate-700/50 hover:bg-slate-700/50 transition-colors",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"w-10 h-10 rounded-lg bg-brand-500/10 flex items-center justify-center text-brand-400 font-bold border border-brand-500/20",children:"Q"}),p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("p",{className:"font-medium text-slate-200",children:"Practice Quiz"}),p.jsx("span",{className:"text-xs text-slate-500",children:se.timestamp?.toDate?se.timestamp.toDate().toLocaleString(void 0,{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}):"Just now"})]}),p.jsxs("p",{className:"text-sm text-slate-500",children:[se.totalQuestions," Questions  ",se.domain]})]})]}),p.jsxs("span",{className:"px-3 py-1 rounded-full bg-emerald-500/10 text-emerald-400 border border-emerald-500/20 text-sm font-medium",children:[Math.round(se.score/se.totalQuestions*100),"%"]})]},se.id))})})]}),p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"bg-gradient-to-br from-brand-600 to-brand-900 rounded-2xl shadow-xl shadow-brand-900/50 p-6 text-white relative overflow-hidden border border-brand-500/30",children:[p.jsx("div",{className:"absolute top-0 right-0 -mt-4 -mr-4 w-32 h-32 bg-brand-400 opacity-10 rounded-full blur-2xl"}),p.jsxs("div",{className:"flex justify-between items-start mb-2 relative z-10",children:[p.jsx("h3",{className:"text-lg font-bold font-display",children:"Daily Goal"}),p.jsx("button",{onClick:()=>z(!M),className:"text-brand-200 hover:text-white transition-colors",children:p.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})})]}),M?p.jsx("div",{className:"mb-4 relative z-10",children:p.jsxs("div",{className:"flex gap-2",children:[p.jsx("input",{type:"number",value:j,onChange:se=>R(parseInt(se.target.value)||0),className:"w-full bg-black/20 border border-brand-400/30 rounded-lg px-3 py-2 text-white placeholder-brand-300/50 focus:outline-none focus:border-brand-400"}),p.jsx("button",{onClick:k,className:"bg-brand-500 text-white px-4 py-2 rounded-lg font-medium hover:bg-brand-400 transition-colors",children:"Save"})]})}):p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"flex items-end gap-2 mb-4 relative z-10",children:[p.jsxs("span",{className:"text-4xl font-bold",children:[A,"/",P]}),p.jsx("span",{className:"text-brand-200 mb-1 font-medium",children:"questions"})]}),p.jsx("div",{className:"w-full bg-black/20 rounded-full h-2 mb-4 backdrop-blur-sm relative z-10",children:p.jsx("div",{className:"bg-accent-400 h-2 rounded-full shadow-[0_0_10px_rgba(251,191,36,0.5)] transition-all duration-1000",style:{width:`${Math.min(A/P*100,100)}%`}})})]}),p.jsx("p",{className:"text-sm text-brand-100/80 relative z-10",children:A>=P?"Goal reached! You're crushing it! ":"Keep it up! Consistency is key to passing your exam."})]}),p.jsx($pe,{})]})]})]})]}),p.jsx("div",{className:"mt-8 mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 pb-12",children:p.jsxs("div",{className:"border border-red-900/30 bg-red-900/10 rounded-2xl p-6",children:[p.jsx("h3",{className:"text-xl font-bold text-red-500 font-display mb-2",children:"Danger Zone"}),p.jsx("p",{className:"text-slate-400 text-sm mb-4",children:"These actions are irreversible."}),p.jsxs("button",{onClick:async()=>{if(window.confirm("Are you SURE? This will delete all your mastery rings and quiz history for this exam."))try{m(!0);const{httpsCallable:se,getFunctions:ye}=await cf(async()=>{const{httpsCallable:Z,getFunctions:Ee}=await Promise.resolve().then(()=>Ise);return{httpsCallable:Z,getFunctions:Ee}},[]),de=ye();await se(de,"resetExamProgress")({examId:e}),window.location.reload()}catch(se){console.error(se),alert("Failed to reset progress."),m(!1)}},className:"px-4 py-2 bg-red-500/10 hover:bg-red-500/20 text-red-500 border border-red-500/50 rounded-lg text-sm font-bold transition-colors",children:["Reset All Progress for ",n]})]})}),v&&p.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:p.jsxs("div",{className:"bg-slate-800 rounded-2xl p-8 max-w-sm w-full border border-slate-700 shadow-2xl relative",children:[p.jsx("button",{onClick:()=>_(!1),className:"absolute top-4 right-4 text-slate-400 hover:text-white",children:p.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"w-20 h-20 bg-brand-500/10 rounded-full flex items-center justify-center text-4xl mx-auto mb-6 border border-brand-500/20",children:""}),p.jsxs("h3",{className:"text-2xl font-bold text-white font-display mb-2",children:[q," Day Streak!"]}),p.jsx("p",{className:"text-slate-400 mb-6",children:"You're on fire! Consistency is the #1 predictor of exam success. Keep showing up every day."}),p.jsx("button",{onClick:()=>_(!1),className:"w-full bg-brand-600 text-white py-3 rounded-xl font-medium hover:bg-brand-500 transition-colors",children:"Awesome!"})]})]})}),be&&p.jsx(kpe,{isOpen:be,onClose:()=>X(!1),level:V,currentXp:D,nextLevelXp:No.calculateNextLevelXp(V),prevLevelXp:Math.pow(V-1,2)*100,examName:n}),p.jsx(H$,{isOpen:ee,onClose:()=>he(!1)})]})]})}function Hpe(){const[t]=tZ(),e=t.get("mode"),[n,r]=T.useState(e!=="signup"),[i,s]=T.useState(""),[a,l]=T.useState(""),[u,d]=T.useState(""),f=jn(),m=async()=>{try{const v=await cte(mt,JF),{doc:_,getDoc:E,setDoc:w,Timestamp:A,serverTimestamp:C}=await cf(async()=>{const{doc:z,getDoc:j,setDoc:R,Timestamp:D,serverTimestamp:B}=await Promise.resolve().then(()=>hD);return{doc:z,getDoc:j,setDoc:R,Timestamp:D,serverTimestamp:B}},void 0),{db:P}=await cf(async()=>{const{db:z}=await Promise.resolve().then(()=>KD);return{db:z}},void 0),L=_(P,"users",v.user.uid);if(!(await E(L)).exists()){const z=new Date,j=new Date;j.setDate(z.getDate()+14),await w(L,{plan:"pro",trial:!0,trialStartedAt:C(),trialEndsAt:A.fromDate(j),access:"trial",createdAt:C(),updatedAt:C()},{merge:!0})}window.location.href="/app"}catch(v){d(v.message)}},y=async v=>{v.preventDefault(),d("");try{if(n)await Bee(mt,i,a),window.location.href="/app";else{const _=await zee(mt,i,a),{doc:E,setDoc:w,Timestamp:A,serverTimestamp:C}=await cf(async()=>{const{doc:j,setDoc:R,Timestamp:D,serverTimestamp:B}=await Promise.resolve().then(()=>hD);return{doc:j,setDoc:R,Timestamp:D,serverTimestamp:B}},void 0),{db:P}=await cf(async()=>{const{db:j}=await Promise.resolve().then(()=>KD);return{db:j}},void 0),L=new Date,M=new Date;M.setDate(L.getDate()+14);const z=E(P,"users",_.user.uid);await w(z,{plan:"pro",trial:!0,trialStartedAt:C(),trialEndsAt:A.fromDate(M),access:"trial",createdAt:C(),updatedAt:C()},{merge:!0}),window.location.href="/app"}}catch(_){console.error("Login Error:",_);let E="An error occurred during sign in.";_.code==="auth/invalid-credential"||_.code==="auth/user-not-found"||_.code==="auth/wrong-password"?E="Invalid email or password. Please check your credentials.":_.code==="auth/email-already-in-use"?E="This email is already registered. Please sign in instead.":_.code==="auth/weak-password"?E="Password should be at least 6 characters.":_.code==="auth/operation-not-allowed"?E="Email/Password login is not enabled in Firebase Console.":_.message&&_.message.includes("400")?E="Invalid request. Please check your input.":E=_.message||E,d(E)}};return p.jsxs("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center p-4 relative",style:{backgroundImage:"none",background:"#020617"},children:[p.jsxs("div",{className:"absolute top-4 right-4 text-white text-xs font-mono",children:["Version: ",sd]}),p.jsxs("div",{className:"max-w-md w-full bg-slate-900 rounded-2xl border border-slate-800 p-8 shadow-2xl",children:[p.jsx("div",{className:"text-left -mt-2 mb-4",children:p.jsxs("button",{onClick:()=>f("/"),className:"flex items-center gap-2 text-sm text-slate-400 hover:text-brand-400 transition-colors mb-4 group",type:"button",children:[p.jsx("span",{className:"group-hover:-translate-x-1 transition-transform",children:" "})," Back to Home"]})}),p.jsxs("div",{className:"text-center",children:[p.jsx("img",{src:"/favicon.png",alt:"Exam Coach Pro AI Logo",className:"mx-auto w-12 h-12 rounded-xl object-contain mb-4"}),p.jsx("h2",{className:"text-3xl font-bold tracking-tight text-white font-display",children:n?"Welcome back":"Create an account"}),p.jsx("p",{className:"mt-2 text-sm text-slate-400",children:n?"Sign in to continue your mastery journey":"Start your path to certification today"})]}),u&&p.jsx("div",{className:"rounded-lg bg-red-900/20 p-4 text-sm text-red-200 border border-red-900/50",children:u}),p.jsxs("button",{onClick:m,className:"w-full flex justify-center items-center gap-3 rounded-lg border border-slate-600 bg-slate-700 px-4 py-3 text-sm font-medium text-white hover:bg-slate-600 focus:outline-none focus:ring-2 focus:ring-brand-500 focus:ring-offset-2 transition-all",children:[p.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google",className:"h-5 w-5"}),"Sign in with Google"]}),p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"absolute inset-0 flex items-center",children:p.jsx("div",{className:"w-full border-t border-slate-600"})}),p.jsx("div",{className:"relative flex justify-center text-sm",children:p.jsx("span",{className:"bg-slate-800 px-2 text-slate-500",children:"Or continue with email"})})]}),p.jsxs("form",{className:"mt-8 space-y-6",onSubmit:y,children:[p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Email address"}),p.jsx("input",{type:"email",required:!0,className:"block w-full rounded-lg border border-slate-600 bg-slate-900/50 px-3 py-2 text-white placeholder-slate-500 focus:border-brand-500 focus:outline-none focus:ring-brand-500 sm:text-sm",placeholder:"you@example.com",value:i,onChange:v=>s(v.target.value),autoComplete:"email"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Password"}),p.jsx("input",{type:"password",required:!0,className:"block w-full rounded-lg border border-slate-600 bg-slate-900/50 px-3 py-2 text-white placeholder-slate-500 focus:border-brand-500 focus:outline-none focus:ring-brand-500 sm:text-sm",placeholder:"",value:a,onChange:v=>l(v.target.value),autoComplete:"current-password"})]})]}),p.jsx("div",{children:p.jsx("button",{type:"submit",className:"group relative flex w-full justify-center rounded-lg border border-transparent bg-brand-600 px-4 py-3 text-sm font-medium text-white hover:bg-brand-700 focus:outline-none focus:ring-2 focus:ring-brand-500 focus:ring-offset-2 shadow-lg shadow-brand-500/20 transition-all",children:n?"Sign in":"Sign up"})})]}),p.jsx("div",{className:"text-center",children:p.jsx("button",{className:"text-sm font-medium text-brand-400 hover:text-brand-300",onClick:()=>r(!n),children:n?"Don't have an account? Sign up":"Already have an account? Sign in"})})]})]})}function Wpe(){const[t,e]=T.useState([]),[n,r]=T.useState(!0);return T.useEffect(()=>{(async()=>{try{const a=(await oi(en(qe,"exams"))).docs.map(l=>({id:l.id,...l.data()}));e(a.filter(l=>l.isPublished))}catch(s){console.error("Error fetching exams:",s)}finally{r(!1)}})()},[]),n?p.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-900 text-white",children:p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-brand-500"})}):p.jsx("div",{className:"min-h-screen bg-slate-900 text-slate-200 font-sans p-8",children:p.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx(fn,{to:"/app",className:"p-2 rounded-xl hover:bg-white/5 text-slate-400 hover:text-white transition-colors",children:p.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-bold text-white font-display tracking-tight",children:"Available Exams"}),p.jsx("p",{className:"text-slate-400 mt-1",children:"Select an exam to start practicing."})]})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(i=>p.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-xl border border-white/5 rounded-2xl p-6 hover:border-brand-500/30 transition-all hover:shadow-lg hover:shadow-brand-500/10 group",children:[p.jsxs("div",{className:"flex justify-between items-start mb-4",children:[p.jsx("div",{className:"w-12 h-12 bg-brand-500/10 rounded-xl flex items-center justify-center text-brand-400 group-hover:bg-brand-500 group-hover:text-white transition-colors",children:p.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),p.jsxs("span",{className:"text-xs font-bold text-slate-500 bg-slate-950/50 px-2 py-1 rounded-lg border border-white/5",children:[i.questionCount," Qs"]})]}),p.jsx("h3",{className:"text-xl font-bold text-white mb-2 font-display",children:i.name}),p.jsx("p",{className:"text-slate-400 text-sm mb-6 line-clamp-2",children:i.description}),p.jsx(fn,{to:`/app/quiz/${i.id}`,onClick:()=>{localStorage.setItem("selectedExamId",i.id)},className:"block w-full text-center bg-brand-600 text-white py-3 rounded-xl font-bold hover:bg-brand-500 transition-colors shadow-lg shadow-brand-900/20",children:"Select Exam"})]},i.id))})]})})}function Kpe({breakdown:t,loading:e,onExpandDepth:n,depthContent:r,depthLoading:i}){const[s,a]=T.useState(!0),[l,u]=T.useState(!1),d=T.useCallback(m=>{window.speechSynthesis.cancel();const y=new SpeechSynthesisUtterance(m),_=window.speechSynthesis.getVoices().find(E=>E.name.includes("Google US English")||E.name.includes("Samantha")||E.name.includes("Natural")||E.name.includes("Microsoft")&&E.name.includes("Zira"));_&&(y.voice=_),y.rate=1.1,y.pitch=1.1,y.onstart=()=>u(!0),y.onend=()=>u(!1),y.onerror=()=>u(!1),window.speechSynthesis.speak(y)},[]),f=()=>{l&&(window.speechSynthesis.cancel(),u(!1)),a(!s)};return T.useEffect(()=>(t?.verdict&&!s&&!e&&d(t.verdict),()=>{window.speechSynthesis.cancel()}),[t?.verdict,e,s,d]),e?p.jsxs("div",{className:"mt-6 p-6 bg-slate-800/50 rounded-xl border border-slate-700 animate-pulse",children:[p.jsx("div",{className:"h-4 bg-slate-700 rounded w-1/3 mb-4"}),p.jsx("div",{className:"h-20 bg-slate-700 rounded mb-4"}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("div",{className:"h-3 bg-slate-700 rounded w-3/4"}),p.jsx("div",{className:"h-3 bg-slate-700 rounded w-5/6"})]})]}):t?p.jsxs("div",{className:"mt-6 bg-slate-800/80 backdrop-blur-sm rounded-xl border border-indigo-500/30 overflow-hidden animate-in fade-in slide-in-from-top-2",children:[p.jsxs("div",{className:"bg-indigo-900/30 px-6 py-3 border-b border-indigo-500/20 flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"text-xl",children:""}),p.jsx("h3",{className:"text-indigo-200 font-bold font-display",children:"Coach Breakdown"})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("button",{onClick:()=>d(t.verdict),className:`p-2 rounded-full hover:bg-white/10 transition-colors ${l?"text-brand-400 animate-pulse":"text-slate-400"}`,title:"Replay Audio",children:p.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z"})})}),p.jsxs("button",{onClick:f,className:`p-2 rounded-full hover:bg-white/10 transition-colors ${s?"text-red-400":"text-slate-400"}`,title:s?"Unmute":"Mute Auto-Play",children:[s?p.jsxs("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z"}),p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2"})]}):p.jsxs("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4"})," ",p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})," "]}),s&&p.jsx("span",{className:"absolute top-0 right-0 w-2 h-2 bg-red-500 rounded-full"})]})]})]}),p.jsxs("div",{className:"p-6 space-y-6",children:[p.jsxs("div",{children:[p.jsx("h4",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Verdict"}),p.jsx("p",{className:"text-white text-lg leading-relaxed font-medium",children:t.verdict})]}),t.comparison&&t.comparison.length>0&&p.jsxs("div",{children:[p.jsx("h4",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-3",children:"Choice Analysis"}),p.jsx("div",{className:"space-y-3",children:t.comparison.map((m,y)=>p.jsxs("div",{className:"flex gap-3 text-sm",children:[p.jsx("div",{className:"w-6 h-6 rounded-full bg-slate-700 flex items-center justify-center flex-shrink-0 text-xs font-bold text-slate-300 border border-slate-600",children:String.fromCharCode(65+m.optionIndex)}),p.jsxs("div",{className:"flex-1",children:[p.jsxs("span",{className:"text-slate-200 font-medium",children:[m.text,": "]}),p.jsx("span",{className:"text-slate-400",children:m.explanation})]})]},y))})]}),p.jsx("div",{className:"bg-emerald-900/20 border border-emerald-500/30 rounded-lg p-4",children:p.jsxs("div",{className:"flex items-start gap-3",children:[p.jsx("span",{className:"text-lg",children:""}),p.jsxs("div",{children:[p.jsx("h4",{className:"text-emerald-400 font-bold text-sm mb-1",children:"Exam Lens"}),p.jsx("p",{className:"text-emerald-100/80 text-sm",children:t.examLens})]})]})}),n&&!r&&p.jsx("div",{className:"pt-4 border-t border-slate-700/50 flex justify-center",children:p.jsx("button",{onClick:()=>n("simple"),disabled:i,className:"flex items-center gap-2 text-indigo-300 hover:text-indigo-200 text-sm font-medium transition-colors disabled:opacity-50",children:i?p.jsx("span",{className:"animate-pulse",children:"Thinking..."}):p.jsxs(p.Fragment,{children:[p.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Explain this like Im new"]})})}),r&&p.jsxs("div",{className:"mt-4 p-4 bg-indigo-900/20 rounded-lg border border-indigo-500/20 text-indigo-100 text-sm animate-in fade-in relative group",children:[p.jsx("button",{onClick:()=>d(r),className:"absolute top-2 right-2 p-1.5 rounded-full bg-indigo-500/10 hover:bg-indigo-500/30 text-indigo-300 opacity-60 hover:opacity-100 transition-all",title:"Read Explanation",children:p.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z"})})}),p.jsx("p",{className:"leading-relaxed pr-6",children:r})]})]})]}):null}const Gpe={pro_value_primary:"Unlock Your Full Potential",pro_value_secondary:"Get unlimited access to AI-generated questions, advanced analytics, and domain mastery tracking."},iP=()=>{const[t,e]=T.useState(Gpe);return T.useEffect(()=>{(async()=>{try{const r=on(qe,"marketing_assets","examcoach_pro"),i=await ti(r);if(i.exists()){const s=i.data();e(a=>({pro_value_primary:s.pro_value_primary||a.pro_value_primary,pro_value_secondary:s.pro_value_secondary||a.pro_value_secondary}))}}catch{console.debug("Using default marketing copy (remote fetch skipped or failed)")}})()},[]),t};function Ype({isOpen:t,onClose:e,reason:n="pro_feature"}){const r=jn(),i=iP();if(!t)return null;const a={daily_limit:{title:"Daily Limit Reached",description:"You've completed your 5 free questions for today. Upgrade to Pro for unlimited practice."},pro_feature:{title:i.pro_value_primary,description:i.pro_value_secondary}}[n];return p.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/80 backdrop-blur-sm",children:p.jsxs("div",{className:"bg-slate-800 rounded-2xl w-full max-w-md border border-slate-700 shadow-2xl relative overflow-hidden",children:[p.jsx("div",{className:"absolute top-0 w-full h-1 bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500"}),p.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-slate-400 hover:text-white transition-colors",children:p.jsx(pc,{size:20})}),p.jsxs("div",{className:"p-8 text-center",children:[p.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg shadow-purple-500/20",children:p.jsx(u9,{className:"w-8 h-8 text-white fill-white"})}),p.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:a.title}),p.jsx("p",{className:"text-slate-400 mb-8 max-w-xs mx-auto",children:a.description}),p.jsxs("ul",{className:"text-left space-y-3 mb-8 bg-slate-900/50 p-6 rounded-xl border border-slate-700/50",children:[p.jsxs("li",{className:"flex items-center gap-3 text-sm text-slate-300",children:[p.jsx(Va,{className:"w-4 h-4 text-green-400"}),p.jsx("span",{children:"Unlimited Daily Quizzes"})]}),p.jsxs("li",{className:"flex items-center gap-3 text-sm text-slate-300",children:[p.jsx(Va,{className:"w-4 h-4 text-green-400"}),p.jsx("span",{children:"Advanced Analytics & Charts"})]}),p.jsxs("li",{className:"flex items-center gap-3 text-sm text-slate-300",children:[p.jsx(Va,{className:"w-4 h-4 text-green-400"}),p.jsx("span",{children:"Full Exam Simulators"})]})]}),p.jsxs("div",{className:"space-y-3",children:[p.jsx("button",{onClick:()=>r("/app/pricing"),className:"w-full py-3 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-400 hover:to-purple-500 text-white font-bold rounded-xl transition-all shadow-lg hover:shadow-purple-500/25",children:"Upgrade to Pro"}),p.jsx("button",{onClick:e,className:"w-full py-3 text-slate-400 hover:text-white font-medium transition-colors",children:"Maybe Later"})]})]})]})})}function d5(){const[t,e]=T.useState([]),[n,r]=T.useState(0),[i,s]=T.useState(null),[a,l]=T.useState(!0),[u,d]=T.useState(!1),[f,m]=T.useState(!1),[y,v]=T.useState(null),[_,E]=T.useState(!1),[w,A]=T.useState(0),[C,P]=T.useState(!1),[L,M]=T.useState({}),[z,j]=T.useState([]),[R,D]=T.useState(new Map),{isPro:B,canTakeQuiz:V,incrementDailyCount:$}=Pc(),[q,xe]=T.useState(!1),be=iP(),[X,ee]=T.useState(null);T.useEffect(()=>{!a&&!V&&xe(!0)},[a,V]);const{examId:he}=dQ(),Y=xr(),H=jn(),{selectedExamId:k}=Xa(),[K,re]=T.useState(""),[ce,se]=T.useState(null);T.useEffect(()=>{re(he||k||"default-exam"),(()=>{const Ie="exam_coach_reinforcement",et="exam_coach_last_reinforcement_shown";try{const ct=localStorage.getItem(Ie);if(!ct)return;const Pt=JSON.parse(ct),It=Date.now();if(It-Pt.timestamp>6048e5)return;const Dr=localStorage.getItem(et);if(Dr){const fi=parseInt(Dr,10);if(It-fi<864e5)return}se(`Quick reminder: Youre getting better at spotting ${Pt.patternName}.`),localStorage.setItem(et,It.toString())}catch(ct){console.error("Reinforcement check failed",ct)}})()},[he,k]),T.useEffect(()=>{(async()=>{if(K)try{const ke=mt.currentUser;if(!ke)return;if(console.log("Fetching questions and progress for:",K),l(!0),Y.state?.mode==="trap"){console.log("Initializing Trap Practice Mode...");const ft=await Ku.generateTrapQuiz(Y.state.patternId,Y.state.domainTags,K,B?7:5,Y.state.masteryScore||0),Gn=[];for(const $t of ft){const or=on(qe,"questions",$t),Vr=await ti(or);if(Vr.exists()){const lr=Vr.data();Gn.push({id:Vr.id,...lr,difficulty:lr.difficulty})}}e(Gn),l(!1);return}if(Y.state?.mode==="diagnostic"){console.log("Initializing Diagnostic Mode...");const Gn=await Ku.generateSimulationExam(K,5),$t=[];for(const or of Gn){const Vr=on(qe,"questions",or),lr=await ti(Vr);lr.exists()&&$t.push({id:lr.id,...lr.data()})}e($t),l(!1);return}const Ie=Y.state?.questionIds;if(Ie&&Ie.length>0){console.log("Loading specific Smart Quiz questions:",Ie);const ft=[];for(const Gn of Ie){const $t=on(qe,"questions",Gn),or=await ti($t);or.exists()&&ft.push({id:or.id,...or.data()})}e(ft),l(!1);return}const et=en(qe,"questions");let Ze=[Et("examId","==",K)];const Ct=Y.state?.filterDomain;Ct&&(console.log("Filtering quiz by domain:",Ct),Ze.push(Et("domain","==",Ct)));let ct=Rr(et,...Ze);const It=(await oi(ct)).docs.map(ft=>({id:ft.id,...ft.data()}));if(It.length===0){e([]),l(!1);return}const Dr=en(qe,"users",ke.uid,"questionProgress"),fi=await oi(Dr),ar=new Map;fi.forEach(ft=>{ar.set(ft.id,ft.data())});const tn=[],En=[],dt=[];It.forEach(ft=>{const Gn=ar.get(ft.id);Gn?Gn.status==="mastered"?dt.push(ft):tn.push(ft):En.push(ft)}),console.log(`Smart Stats: New: ${En.length}, Learning: ${tn.length}, Mastered: ${dt.length}`);const Lr=B?10:5;let Sn=[];const sl=ft=>ft.sort(()=>.5-Math.random());if(Sn=[...Sn,...sl(tn)],Sn.length<Lr){const ft=Lr-Sn.length;Sn=[...Sn,...sl(En).slice(0,ft)]}if(Sn.length<Lr&&dt.length>0){const ft=Lr-Sn.length,Gn=Ct?ft:Math.min(ft,Math.ceil(Lr*.3));Sn=[...Sn,...sl(dt).slice(0,Gn)]}Sn=Sn.slice(0,Lr),console.log("Selected Smart Questions:",Sn),e(Sn)}catch(ke){console.error("Error fetching smart questions:",ke)}finally{l(!1)}})()},[K]);const ye=Le=>{u||s(Le)},[de,Se]=T.useState(Date.now()),[Z,Ee]=T.useState([]);T.useEffect(()=>{Se(Date.now())},[n,a]);const Ae=()=>{if(i===null)return;const ke=(Date.now()-de)/1e3;Ee([...Z,ke]);const Ie=t[n],et=i===Ie.correctAnswer;et&&A(w+1);const Ze=Ie.domain||"Process";M(Ct=>({...Ct,[Ze]:{correct:(Ct[Ze]?.correct||0)+(et?1:0),total:(Ct[Ze]?.total||0)+1}})),d(!0),ee(Date.now()),m(!1),v(null),et?Y.state?.mode==="trap"&&Ke(Ie,i):(m(!0),Ke(Ie,i)),fe(Ie.id,et)},fe=async(Le,ke)=>{const Ie=mt.currentUser;if(!Ie)return;const et=on(qe,"users",Ie.uid,"questionProgress",Le);try{const Ze=await ti(et);let Ct=0,ct="new";if(Ze.exists()){const fi=Ze.data();Ct=fi.consecutiveCorrect||0,ct=fi.status||"new"}const Pt=ke?Ct+1:0;let It=ct;ke&&Pt>=2?It="mastered":It="learning",await Op(et,{questionId:Le,status:It,consecutiveCorrect:Pt,lastAttempted:new Date,examId:t[n].examId||"unknown",domain:t[n].domain||"General"},{merge:!0}),console.log(`Updated progress for ${Le}: ${It} (${Pt})`)}catch(Ze){console.error("Error updating question progress:",Ze)}},Ke=async(Le,ke)=>{E(!0);try{const et=await ea(Df,"generateTutorBreakdown")({questionStem:Le.stem,options:Le.options,correctAnswerIndex:Le.correctAnswer,userSelectedOptionIndex:ke,correctRationale:Le.explanation,examDomain:Le.domain});v(et.data);const Ze=et.data;Ze.pattern&&Ze.pattern.pattern_id&&D(Ct=>{const ct=new Map(Ct),Pt=Ze.pattern.pattern_id,It=ct.get(Pt);return It?ct.set(Pt,{...It,count:It.count+1}):ct.set(Pt,{count:1,pattern:Ze.pattern}),console.log("Tracked Pattern Miss:",Pt,ct.get(Pt)?.count),ct})}catch(Ie){console.error("Failed to generate tutor breakdown:",Ie),v({verdict:"Coach is seemingly offline. Here is the standard explanation:",comparison:[{optionIndex:Le.correctAnswer,text:Le.options[Le.correctAnswer],explanation:"Correct Answer"}],examLens:Le.explanation})}finally{E(!1)}},[_e,Me]=T.useState(null),[ze,it]=T.useState(!1),Gt=async Le=>{it(!0);try{const Ie=await ea(Df,"generateTutorDeepDive")({context:y,style:Le});Me(Ie.data.content)}catch(ke){console.error("Failed to generate depth:",ke),Me("Could not generate deep dive at this time.")}finally{it(!1)}},xt=async Le=>{const ke=mt.currentUser;if(!ke){console.error("No user logged in, cannot save results");return}const Ie=ke.uid,et=`${Ie}_${K}`,Ze=on(qe,"userMastery",et);try{const ct=await ti(Ze);let Pt={};ct.exists()&&(Pt={...ct.data().masteryData||{}}),Object.entries(L).forEach(([dt,Lr])=>{Pt[dt]||(Pt[dt]={correct:0,total:0}),Pt[dt].correct+=Lr.correct,Pt[dt].total+=Lr.total}),await Op(Ze,{userId:Ie,examId:K,masteryData:Pt},{merge:!0}),console.log("Mastery updated successfully");const It=Z.reduce((dt,Lr)=>dt+Lr,0),Dr=en(qe,"quizAttempts"),ar=Y.state?.filterDomain||"Mixed",tn=Le||z,En=tn.length;if(En===0)return;await id(Dr,{userId:Ie,examId:K,score:w,totalQuestions:En,timestamp:new Date,domain:ar,timeSpent:It,averageTimePerQuestion:En>0?It/En:0,details:tn,mode:Y.state?.mode||"standard",isPro:B}),console.log("Quiz attempt saved successfully")}catch(ct){console.error("Error saving results:",ct)}const Ct=t.length*10+w*5;await No.awardXP(Ct,`Completed Quiz (${w}/${t.length})`,K),$(z.length)},pt=async()=>{const Le=t[n],ke=i===Le.correctAnswer;if(j(Ie=>[...Ie,{questionId:Le.id,selectedOption:i,correctOption:Le.correctAnswer,isCorrect:ke,domain:Le.domain,explanationViewed:f,actionLatency:X?(Date.now()-X)/1e3:null}]),n<t.length-1)r(n+1),s(null),d(!1),m(!1),v(null),Me(null);else{const Ie=[...z,{questionId:Le.id,selectedOption:i,correctOption:Le.correctAnswer,isCorrect:ke,domain:Le.domain,explanationViewed:f,actionLatency:X?(Date.now()-X)/1e3:null}];await xt(Ie),P(!0)}};if(a)return p.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Loading quiz..."});if(t.length===0)return p.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"No questions found. Please add some in the Admin CMS."});if(C){if(Y.state?.mode==="diagnostic"){const Le=Array.from(R.values()),ke=Le.length>0?Le.sort((Ie,et)=>et.count-Ie.count)[0]:null;return p.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-950",children:p.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-md p-8 rounded-2xl shadow-2xl shadow-black/20 text-center max-w-md w-full border border-slate-700 animate-in fade-in zoom-in duration-500",children:[p.jsxs("div",{className:"mb-6",children:[p.jsx("div",{className:"w-20 h-20 bg-indigo-500/10 rounded-full flex items-center justify-center mx-auto mb-4 border border-indigo-500/20",children:p.jsx("span",{className:"text-4xl",children:""})}),p.jsx("h2",{className:"text-3xl font-bold text-white font-display mb-2",children:"Analysis Complete. Heres what I found."}),p.jsx("p",{className:"text-slate-400",children:"I've mapped your baseline strengths and blind spots."})]}),ke?p.jsxs("div",{className:"bg-gradient-to-br from-indigo-900/40 to-slate-800 border border-indigo-500/30 rounded-xl p-6 mb-8 text-left relative overflow-hidden",children:[p.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-indigo-500/10 rounded-full blur-2xl -mr-16 -mt-16 pointer-events-none"}),p.jsx("h3",{className:"text-indigo-300 font-bold uppercase tracking-wider text-xs mb-2",children:"Insight Detected"}),p.jsxs("p",{className:"text-white text-lg font-medium leading-relaxed mb-4",children:['"You just encountered a common PMI Thinking Trap: ',p.jsx("strong",{className:"text-indigo-400",children:ke.pattern.pattern_name}),'."']}),p.jsx("p",{className:"text-slate-400 text-sm italic border-l-2 border-indigo-500/30 pl-3",children:ke.pattern.core_rule})]}):p.jsxs("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 mb-8",children:[p.jsx("h3",{className:"text-slate-300 font-bold mb-2",children:"Analysis"}),p.jsx("p",{className:"text-slate-400 text-sm leading-relaxed",children:'"As you practice, the system learns exactly how PMI patterns affect your answers. Keep going to unlock deeper insights."'})]}),p.jsxs("div",{className:"space-y-3",children:[ke?p.jsx("button",{onClick:()=>{B?H("/app/quiz",{state:{mode:"trap",patternId:ke.pattern.pattern_id,patternName:ke.pattern.pattern_name,domainTags:ke.pattern.domain_tags,masteryScore:0}}):xe(!0)},className:"w-full bg-indigo-600 text-white px-6 py-3.5 rounded-xl font-bold hover:bg-indigo-500 shadow-lg shadow-indigo-500/30 transition-all",children:B?"[ Practice This Trap ]":`[ ${be.pro_value_primary} ]`}):p.jsx(fn,{to:"/app",className:"block w-full bg-brand-600 text-white px-6 py-3.5 rounded-xl font-bold hover:bg-brand-500 shadow-lg shadow-brand-500/30 transition-all",children:"Continue to Dashboard"}),ke&&p.jsx(fn,{to:"/app",className:"block text-slate-500 hover:text-white text-sm font-medium py-2",children:"Return to Dashboard"})]})]})})}if(Y.state?.mode==="trap"){const Le=w/t.length*100,ke=Y.state.patternName||"Thinking Trap";return p.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-950",children:p.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-md p-8 rounded-2xl shadow-2xl shadow-black/20 text-center max-w-md w-full border border-slate-700",children:[(()=>{const Ie="exam_coach_reinforcement";if(Le>40){const et=["Youre starting to recognize this trap earlier.","Youre catching this pattern faster than before.","This trap is becoming easier to spot."],Ze=(ke.length+Math.floor(Le))%et.length,Ct=et[Ze];try{localStorage.setItem(Ie,JSON.stringify({message:Ct,patternId:Y.state.patternId,patternName:ke,timestamp:Date.now()}))}catch(ct){console.error("Failed to save reinforcement",ct)}}return null})(),p.jsx("div",{className:"w-16 h-16 bg-brand-500/10 rounded-full flex items-center justify-center mx-auto mb-6 border border-brand-500/20",children:Le>70?"":Le>40?"":""}),p.jsx("h2",{className:"text-2xl font-bold text-white mb-2 font-display",children:ke}),p.jsx("p",{className:"text-slate-400 text-sm mb-6 uppercase tracking-wider font-bold",children:"Session Complete"}),p.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-6 mb-8 border border-slate-700/50",children:[p.jsxs("div",{className:"flex items-center justify-between mb-2",children:[p.jsx("span",{className:"text-slate-400 text-sm",children:"Session Accuracy"}),p.jsxs("span",{className:`font-bold text-lg ${Le>70?"text-emerald-400":"text-slate-200"}`,children:[Math.round(Le),"%"]})]}),p.jsx("div",{className:"w-full bg-slate-700/50 rounded-full h-2 mb-4",children:p.jsx("div",{className:`h-2 rounded-full transition-all ${Le>70?"bg-emerald-500":"bg-brand-500"}`,style:{width:`${Le}%`}})}),p.jsxs("p",{className:"text-slate-300 text-sm italic",children:['"',Le>80?"Excellent work. You successfully avoided the trap signals.":Le>50?"Youre starting to recognize this trap earlier. Keep going.":"This pattern is tricky. Review the core rule and try again tomorrow.",'"']})]}),p.jsx(fn,{to:"/app",className:"block w-full bg-brand-600 text-white px-6 py-3.5 rounded-xl font-bold hover:bg-brand-500 shadow-lg shadow-brand-500/30 transition-all transform hover:-translate-y-0.5",children:"Return to Dashboard"})]})})}return p.jsx("div",{className:"min-h-screen flex items-center justify-center",children:p.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-md p-8 rounded-2xl shadow-2xl shadow-black/20 text-center max-w-md w-full border border-slate-700",children:[p.jsx("h2",{className:"text-3xl font-bold text-white mb-4 font-display",children:"Quiz Completed!"}),p.jsxs("p",{className:"text-xl text-slate-300 mb-6",children:["You scored ",p.jsxs("span",{className:"font-bold text-brand-400",children:[w," / ",t.length]})]}),(()=>{if(Y.state?.mode==="trap")return null;const Le=Array.from(R.values());Le.sort((Ie,et)=>et.count-Ie.count);const ke=Le[0];if(ke&&ke.count>=2){const Ie="exam_coach_suggestion_history";try{const Ze=localStorage.getItem(Ie);if(Ze){const Ct=JSON.parse(Ze),ct=Ct.patternId,Pt=Ct.timestamp,It=Date.now();if(ct===ke.pattern.pattern_id&&It-Pt<14400*1e3)return console.log("Suppressing suggestion due to cooldown:",ke.pattern.pattern_name),null}localStorage.setItem(Ie,JSON.stringify({patternId:ke.pattern.pattern_id,timestamp:Date.now()}))}catch(Ze){console.error("Error reading suggestion history",Ze)}return p.jsxs("div",{className:"mb-8 bg-indigo-900/30 border border-indigo-500/30 rounded-xl p-6 relative overflow-hidden group",children:[p.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-indigo-500"}),p.jsxs("div",{className:"flex items-start gap-3 text-left",children:[p.jsx("div",{className:"bg-indigo-500/20 p-2 rounded-lg text-xl",children:""}),p.jsxs("div",{children:[p.jsx("h4",{className:"text-indigo-200 font-bold text-sm uppercase tracking-wide mb-1",children:"Suggested Thinking Trap"}),p.jsx("h3",{className:"text-white font-bold text-lg mb-2",children:ke.pattern.pattern_name}),p.jsx("p",{className:"text-indigo-200/80 text-sm mb-4",children:"This pattern may be worth practicing next."}),p.jsx("button",{onClick:()=>{B?H("/app/quiz",{state:{mode:"trap",patternId:ke.pattern.pattern_id,patternName:ke.pattern.pattern_name,domainTags:ke.pattern.domain_tags}}):xe(!0)},className:"w-full py-2 bg-indigo-600 hover:bg-indigo-500 text-white font-bold rounded-lg shadow-lg shadow-indigo-500/20 transition-all flex items-center justify-center gap-2 text-sm",children:B?"[ Practice This Trap ]":"[ Unlock Trap Mastery ]"})]})]})]})}return null})(),p.jsx(fn,{to:"/app",className:"inline-block bg-brand-600 text-white px-6 py-3 rounded-xl font-medium hover:bg-brand-500 shadow-lg shadow-brand-500/30 transition-all transform hover:-translate-y-0.5",children:"Return to Dashboard"})]})})}const Kn=t[n];return p.jsxs("div",{className:"min-h-screen flex flex-col",children:[p.jsx("header",{className:"bg-slate-800/50 backdrop-blur-md border-b border-slate-700 px-4 py-4 sticky top-0 z-50",children:p.jsxs("div",{className:"mx-auto max-w-4xl flex justify-between items-center",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsxs("button",{onClick:async()=>{window.confirm("Quit and save your progress so far?")&&(await xt(),P(!0))},className:"text-slate-400 hover:text-white transition-colors flex items-center gap-2",children:[p.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),p.jsx("span",{className:"hidden sm:inline text-sm font-medium",children:"Quit & Save"})]}),p.jsx("div",{className:"h-6 w-px bg-slate-700"}),p.jsx("span",{className:"text-sm font-medium text-slate-400 font-display",children:Kn.domain})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs("span",{className:"text-sm font-bold text-brand-400",children:["Q",n+1]}),p.jsxs("span",{className:"text-sm text-slate-500",children:["/ ",t.length]})]})]})}),p.jsx("div",{className:"h-1 bg-slate-800 w-full",children:p.jsx("div",{className:"h-full bg-brand-500 shadow-[0_0_10px_rgba(99,102,241,0.5)] transition-all duration-500",style:{width:`${(n+1)/t.length*100}%`}})}),p.jsxs("main",{className:"flex-1 flex flex-col items-center justify-center p-4",children:[p.jsx("div",{className:"w-full max-w-3xl mb-6",children:Y.state?.mode==="smart"?p.jsxs("div",{className:"bg-brand-900/30 border border-brand-500/30 rounded-xl p-4 flex items-start gap-3",children:[p.jsx("span",{className:"text-2xl",children:""}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-brand-300 font-bold mb-1",children:"Daily Practice Mode"}),p.jsx("p",{className:"text-sm text-slate-300",children:"Our AI selects questions to optimize your learning: introducing new topics while reviewing past material to ensure implementation."})]})]}):Y.state?.mode==="weakest"?p.jsxs("div",{className:"bg-purple-900/30 border border-purple-500/30 rounded-xl p-4 flex items-start gap-3",children:[p.jsx("span",{className:"text-2xl",children:""}),p.jsxs("div",{children:[p.jsxs("h3",{className:"text-purple-300 font-bold mb-1",children:["Smart Practice: ",Y.state.filterDomain]}),p.jsxs("p",{className:"text-sm text-slate-300",children:["We identified ",p.jsx("strong",{children:Y.state.filterDomain})," as your weakest area. This session is focused on turning that weakness into a strength."]})]})]}):Y.state?.filterDomain?p.jsxs("div",{className:"bg-purple-900/30 border border-purple-500/30 rounded-xl p-4 flex items-start gap-3",children:[p.jsx("span",{className:"text-2xl",children:""}),p.jsxs("div",{children:[p.jsxs("h3",{className:"text-purple-300 font-bold mb-1",children:[Y.state.filterDomain," Practice Mode"]}),p.jsxs("p",{className:"text-sm text-slate-300",children:["This session targets the ",p.jsx("strong",{children:Y.state.filterDomain})," domain to help you turn weaknesses into strengths."]})]})]}):Y.state?.mode==="trap"?p.jsxs("div",{className:"bg-indigo-900/30 border border-indigo-500/30 rounded-xl p-4 flex items-start gap-3",children:[p.jsx("span",{className:"text-2xl",children:""}),p.jsxs("div",{children:[p.jsxs("h3",{className:"text-indigo-300 font-bold mb-1",children:["Trap Repair: ",Y.state.patternName]}),p.jsx("p",{className:"text-sm text-slate-300",children:"Focused practice to master this specific exam pattern."})]})]}):Y.state?.mode==="diagnostic"?p.jsxs("div",{className:"bg-gradient-to-r from-brand-900/30 to-brand-800/30 border border-brand-500/30 rounded-xl p-4 flex items-start gap-3",children:[p.jsx("span",{className:"text-2xl",children:""}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-brand-300 font-bold mb-1",children:"Im analyzing your logic, not just your score."}),p.jsx("p",{className:"text-sm text-slate-300",children:"Don't worry about getting these wrong. I'm just finding your baseline."})]})]}):p.jsxs("div",{className:"bg-slate-800/50 border border-slate-700/50 rounded-xl p-4 flex items-start gap-3",children:[p.jsx("span",{className:"text-2xl",children:""}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-slate-300 font-bold mb-1",children:"General Practice Mode"}),p.jsx("p",{className:"text-sm text-slate-400",children:"Standard practice mode using questions from the current exam config."})]})]})}),p.jsx("div",{className:"w-full max-w-3xl",children:p.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-sm rounded-2xl shadow-2xl shadow-black/20 border border-slate-700 overflow-hidden",children:[Kn.imageUrl&&p.jsxs("div",{className:"w-full h-48 sm:h-64 bg-slate-900 relative overflow-hidden group",children:[p.jsx("img",{src:Kn.imageUrl,alt:"Scenario Visualization",className:"w-full h-full object-cover opacity-90 group-hover:opacity-100 transition-opacity duration-700 group-hover:scale-105 transform"}),p.jsx("div",{className:"absolute top-2 right-2 bg-black/60 backdrop-blur-md px-2 py-1 rounded-lg border border-white/10",children:p.jsxs("span",{className:"text-[10px] font-bold text-white uppercase tracking-wider flex items-center gap-1",children:[p.jsx("svg",{className:"w-3 h-3 text-brand-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})}),"AI Scene"]})})]}),ce&&n===0&&p.jsx("div",{className:"px-8 pt-6 pb-0 animate-in slide-in-from-top-2 duration-700",children:p.jsx("p",{className:"text-slate-500 text-xs italic text-center",children:ce})}),p.jsxs("div",{className:"p-8 md:p-10",children:[p.jsx("h2",{className:"text-xl md:text-2xl font-medium text-white leading-relaxed mb-8 font-display",children:Kn.stem}),p.jsx("div",{className:"space-y-3",children:Kn.options.map((Le,ke)=>{let Ie="border-slate-700 hover:border-brand-500/50 hover:bg-slate-700/50",et="text-slate-300",Ze="border-slate-500 group-hover:border-brand-400";return i===ke&&(Ie="border-brand-500 bg-brand-500/10 shadow-lg shadow-brand-500/10",et="text-brand-300 font-medium",Ze="border-brand-500 bg-brand-500"),u&&(ke===Kn.correctAnswer?(Ie="border-emerald-500 bg-emerald-500/10",et="text-emerald-300 font-medium",Ze="border-emerald-500 bg-emerald-500"):i===ke&&(Ie="border-red-500 bg-red-500/10",et="text-red-300 font-medium",Ze="border-red-500 bg-red-500")),p.jsxs("button",{onClick:()=>ye(ke),disabled:u,className:`w-full text-left p-4 rounded-xl border-2 transition-all duration-200 flex items-center gap-4 group ${Ie}`,children:[p.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center flex-shrink-0 transition-colors ${Ze}`,children:i===ke&&p.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})}),p.jsx("span",{className:`text-base ${et}`,children:Le})]},ke)})}),u&&f&&p.jsxs("div",{className:"mt-6",children:[p.jsx("div",{className:"bg-blue-900/20 rounded-lg border border-blue-500/30 text-blue-200 p-4 mb-4",children:p.jsx("p",{className:"font-bold mb-1 text-blue-100",children:"Lets walk through the thinking behind this question."})}),!y&&!_?p.jsxs("div",{className:"text-center p-4",children:[p.jsx("button",{onClick:()=>Ke(Kn,i),className:"text-brand-400 hover:text-brand-300 underline",children:"Load Coach Breakdown"}),p.jsxs("div",{className:"mt-4 p-4 bg-slate-800/50 rounded text-slate-300 text-left",children:[p.jsx("p",{className:"font-bold text-slate-400 text-xs uppercase mb-2",children:"Standard Explanation"}),Kn.explanation]})]}):p.jsx(Kpe,{breakdown:y,loading:_,onExpandDepth:Gt,depthContent:_e,depthLoading:ze})]})]}),p.jsx("div",{className:"bg-slate-900/30 px-8 py-4 border-t border-slate-700/50 flex justify-end",children:u?p.jsxs("div",{className:"flex gap-4",children:[!f&&p.jsx("button",{onClick:()=>m(!0),className:"bg-blue-600/20 text-blue-300 border border-blue-500/30 px-6 py-3 rounded-xl font-medium hover:bg-blue-600/30 transition-all",children:"Show Explanation"}),p.jsx("button",{onClick:pt,className:"bg-brand-600 text-white px-8 py-3 rounded-xl font-medium shadow-lg shadow-brand-500/30 hover:bg-brand-500 hover:shadow-brand-500/40 transition-all transform hover:-translate-y-0.5",children:n<t.length-1?"Next Question":"Finish Quiz"})]}):p.jsx("button",{onClick:Ae,disabled:i===null,className:"bg-brand-600 text-white px-8 py-3 rounded-xl font-medium shadow-lg shadow-brand-500/30 hover:bg-brand-500 hover:shadow-brand-500/40 transition-all transform hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:"Submit Answer"})})]})})]}),p.jsx("footer",{className:"py-6 text-center text-xs text-slate-600",children:"v1.0.1"}),p.jsx(Ype,{isOpen:q,onClose:()=>window.location.href="/app",reason:"daily_limit"})]})}function Xpe(){return p.jsxs("div",{className:"min-h-screen flex flex-col",children:[p.jsx("nav",{className:"bg-slate-800/50 backdrop-blur-md border-b border-slate-700 sticky top-0 z-50",children:p.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:p.jsxs("div",{className:"flex h-16 justify-between items-center",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsxs(fn,{to:"/",className:"flex items-center gap-3 hover:opacity-80 transition-opacity",children:[p.jsx("img",{src:"/favicon.png",alt:"Exam Coach Pro AI Logo",className:"w-8 h-8 rounded-lg object-contain shadow-lg shadow-brand-500/20"}),p.jsx("h1",{className:"text-xl font-bold text-white font-display tracking-tight",children:"Exam Coach Pro AI"})]}),p.jsx("span",{className:"px-2 py-0.5 rounded-full bg-slate-800 border border-slate-700 text-[10px] font-mono text-slate-400",children:sd})]}),p.jsx(fn,{to:"/app",className:"text-sm font-medium text-slate-400 hover:text-white transition-colors",children:"Back to Dashboard"})]})})}),p.jsx("main",{className:"flex-1 mx-auto max-w-4xl px-4 py-12 sm:px-6 lg:px-8",children:p.jsxs("div",{className:"space-y-12",children:[p.jsxs("div",{className:"text-center space-y-4",children:[p.jsx("h2",{className:"text-4xl font-bold text-white font-display",children:"Master Your Exam with AI"}),p.jsx("p",{className:"text-xl text-slate-400 max-w-2xl mx-auto",children:"Exam Coach Pro AI is your personalized tutor, designed to help you pass your exams efficiently and effectively."})]}),p.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[p.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-sm p-6 rounded-2xl border border-slate-700",children:[p.jsx("div",{className:"w-12 h-12 bg-purple-500/10 rounded-xl flex items-center justify-center text-2xl mb-4 border border-purple-500/20",children:""}),p.jsx("h3",{className:"text-lg font-bold text-white mb-2 font-display",children:"Verbal Mode"}),p.jsx("p",{className:"text-slate-400 text-sm leading-relaxed",children:"Study hands-free with our AI Voice Tutor. Simulates a real oral exam or interview, challenging you to explain concepts out loud for deeper retention."})]}),p.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-sm p-6 rounded-2xl border border-slate-700",children:[p.jsx("div",{className:"w-12 h-12 bg-pink-500/10 rounded-xl flex items-center justify-center text-2xl mb-4 border border-pink-500/20",children:""}),p.jsx("h3",{className:"text-lg font-bold text-white mb-2 font-display",children:"Smart Readiness"}),p.jsx("p",{className:"text-slate-400 text-sm leading-relaxed",children:"Our advanced algorithm calculates your exam readiness by weighing your overall accuracy, recent trends, and question volumepreventing false confidence."})]}),p.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-sm p-6 rounded-2xl border border-slate-700",children:[p.jsx("div",{className:"w-12 h-12 bg-brand-500/10 rounded-xl flex items-center justify-center text-2xl mb-4 border border-brand-500/20",children:""}),p.jsx("h3",{className:"text-lg font-bold text-white mb-2 font-display",children:"Adaptive Learning"}),p.jsx("p",{className:"text-slate-400 text-sm leading-relaxed",children:"The app learns from your answers. It identifies your weak spots and serves questions specifically targeting those areas to maximize your study time."})]}),p.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-sm p-6 rounded-2xl border border-slate-700",children:[p.jsx("div",{className:"w-12 h-12 bg-accent-500/10 rounded-xl flex items-center justify-center text-2xl mb-4 border border-accent-500/20",children:""}),p.jsx("h3",{className:"text-lg font-bold text-white mb-2 font-display",children:"Visual Progress"}),p.jsx("p",{className:"text-slate-400 text-sm leading-relaxed",children:"Track your mastery across all domains with our intuitive mastery rings. Watch them close as you gain confidence and competence."})]}),p.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-sm p-6 rounded-2xl border border-slate-700",children:[p.jsx("div",{className:"w-12 h-12 bg-emerald-500/10 rounded-xl flex items-center justify-center text-2xl mb-4 border border-emerald-500/20",children:""}),p.jsx("h3",{className:"text-lg font-bold text-white mb-2 font-display",children:"Consistency is Key"}),p.jsx("p",{className:"text-slate-400 text-sm leading-relaxed",children:"Build a daily habit. Even 10 questions a day can make a massive difference. Keep your streak alive to stay motivated."})]}),p.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-sm p-6 rounded-2xl border border-slate-700",children:[p.jsx("div",{className:"w-12 h-12 bg-indigo-500/10 rounded-xl flex items-center justify-center text-2xl mb-4 border border-indigo-500/20",children:""}),p.jsx("h3",{className:"text-lg font-bold text-white mb-2 font-display",children:"Exam Simulator"}),p.jsx("p",{className:"text-slate-400 text-sm leading-relaxed",children:"Ready for the real thing? Take full 50-question mock exams under timed conditions with no hints. Test your nerves before test day."})]})]}),p.jsxs("div",{className:"bg-slate-800/30 rounded-3xl p-8 border border-slate-700/50",children:[p.jsx("h3",{className:"text-2xl font-bold text-white mb-6 font-display",children:"How to Get the Most Value"}),p.jsxs("ul",{className:"space-y-4",children:[p.jsxs("li",{className:"flex gap-4",children:[p.jsx("span",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-brand-600 flex items-center justify-center text-white font-bold text-sm",children:"1"}),p.jsxs("div",{children:[p.jsx("h4",{className:"text-white font-medium mb-1",children:"Take the Daily Quiz"}),p.jsx("p",{className:"text-slate-400 text-sm",children:"Start every session with a quick quiz. It warms up your brain and updates your mastery profile."})]})]}),p.jsxs("li",{className:"flex gap-4",children:[p.jsx("span",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-brand-600 flex items-center justify-center text-white font-bold text-sm",children:"2"}),p.jsxs("div",{children:[p.jsx("h4",{className:"text-white font-medium mb-1",children:"Review Explanations"}),p.jsxs("p",{className:"text-slate-400 text-sm",children:["Don't just check if you were right or wrong. Read the detailed explanations to understand the ",p.jsx("i",{children:"why"})," behind the answer."]})]})]}),p.jsxs("li",{className:"flex gap-4",children:[p.jsx("span",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-brand-600 flex items-center justify-center text-white font-bold text-sm",children:"3"}),p.jsxs("div",{children:[p.jsx("h4",{className:"text-white font-medium mb-1",children:"Explain Out Loud"}),p.jsx("p",{className:"text-slate-400 text-sm",children:"Use Verbal Mode to practice explaining concepts. Speaking active recall strengthens neural pathways more than just reading."})]})]}),p.jsxs("li",{className:"flex gap-4",children:[p.jsx("span",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-brand-600 flex items-center justify-center text-white font-bold text-sm",children:"4"}),p.jsxs("div",{children:[p.jsx("h4",{className:"text-white font-medium mb-1",children:"Aim for 100% Readiness"}),p.jsx("p",{className:"text-slate-400 text-sm",children:'Your goal is to fill all the mastery rings and achieve a "High" readiness score before your exam date.'})]})]})]})]}),p.jsx("div",{className:"text-center",children:p.jsx(fn,{to:"/app",className:"inline-flex items-center gap-2 rounded-full bg-slate-800 border border-slate-700 px-6 py-2 text-sm font-medium text-white hover:bg-slate-700 transition-colors",children:"Start Practicing Now"})})]})}),p.jsxs("footer",{className:"py-8 text-center text-xs text-slate-600 border-t border-slate-800",children:[p.jsxs("div",{className:"max-w-4xl mx-auto px-4 mb-4 space-y-2",children:[p.jsx("p",{className:"font-semibold text-slate-500",children:"Legal Disclaimers"}),p.jsxs("p",{children:[p.jsx("strong",{children:"No Guarantee:"})," Use of this app does not guarantee exam success or licensure."]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Not Professional Advice:"})," This app is for educational purposes only and is not a substitute for professional, legal, medical, or financial advice."]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Affiliation:"})," This app is not affiliated with, endorsed, or sponsored by PMI, CompTIA, CFA Institute, or any other exam owner/regulator. PMP, CompTIA, and other trademarks are the property of their respective owners."]})]}),p.jsx("p",{children:" 2025 Exam Coach Pro AI. All rights reserved."})]})]})}function Qpe(){const[t,e]=T.useState(!1);return p.jsxs("div",{className:"min-h-screen bg-slate-900 text-slate-100 font-sans selection:bg-brand-500/30",children:[p.jsx("header",{className:"bg-slate-800/50 backdrop-blur-md border-b border-slate-700 sticky top-0 z-50",children:p.jsxs("div",{className:"mx-auto max-w-5xl px-6 h-20 flex items-center justify-between",children:[p.jsx("div",{className:"flex items-center gap-4",children:p.jsxs(fn,{to:"/app",className:"text-slate-400 hover:text-white transition-colors group flex items-center gap-2",children:[p.jsx("div",{className:"p-2 rounded-lg bg-slate-800 border border-slate-700 group-hover:border-slate-500 transition-colors",children:p.jsx(T2,{className:"w-5 h-5"})}),p.jsx("span",{className:"font-bold",children:"Back to Dashboard"})]})}),p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-10 h-10 rounded-full bg-brand-500/20 flex items-center justify-center text-brand-400",children:p.jsx(_u,{className:"w-6 h-6"})}),p.jsx("h1",{className:"text-xl font-bold font-display text-white",children:"Success Roadmap"})]})]})}),p.jsxs("div",{className:"mx-auto max-w-2xl px-6 py-12",children:[p.jsxs("div",{className:"text-center mb-16 space-y-4",children:[p.jsx("h2",{className:"text-4xl font-bold font-display text-white",children:"Your Path to Mastery"}),p.jsx("p",{className:"text-lg text-slate-400",children:"Follow this simple workflow to maximize your score."})]}),p.jsxs("div",{className:"relative space-y-8",children:[p.jsx("div",{className:"absolute left-8 top-8 bottom-8 w-1 bg-slate-800 rounded-full -z-10"}),p.jsxs("div",{className:"relative flex gap-6 group",children:[p.jsx("div",{className:"w-16 h-16 rounded-2xl bg-slate-800 border-2 border-slate-700 group-hover:border-blue-500 group-hover:shadow-[0_0_20px_rgba(59,130,246,0.3)] flex items-center justify-center shrink-0 transition-all z-10",children:p.jsx(Cue,{className:"w-8 h-8 text-blue-400"})}),p.jsxs("div",{className:"bg-slate-800/50 p-6 rounded-2xl border border-slate-700/50 flex-1 group-hover:bg-slate-800 transition-colors",children:[p.jsxs("div",{className:"flex justify-between items-start mb-2",children:[p.jsx("h3",{className:"text-xl font-bold text-white",children:"1. Select Your Exam"}),p.jsx("span",{className:"text-xs font-bold px-2 py-1 rounded bg-blue-500/10 text-blue-400 border border-blue-500/20",children:"SETUP"})]}),p.jsx("p",{className:"text-slate-400 leading-relaxed",children:"Ensure the correct exam is selected in the top-left dropdown. Your progress is tracked separately for each exam."})]})]}),p.jsx("div",{className:"pl-6 text-slate-700",children:p.jsx(Iy,{className:"w-6 h-6 animate-bounce"})}),p.jsxs("div",{className:"relative flex gap-6 group",children:[p.jsx("div",{className:"w-16 h-16 rounded-2xl bg-slate-800 border-2 border-slate-700 group-hover:border-emerald-500 group-hover:shadow-[0_0_20px_rgba(16,185,129,0.3)] flex items-center justify-center shrink-0 transition-all z-10",children:p.jsx(i9,{className:"w-8 h-8 text-emerald-400"})}),p.jsxs("div",{className:"bg-slate-800/50 p-6 rounded-2xl border border-slate-700/50 flex-1 group-hover:bg-slate-800 transition-colors",children:[p.jsxs("div",{className:"flex justify-between items-start mb-2",children:[p.jsx("h3",{className:"text-xl font-bold text-white",children:"2. Daily Check-in"}),p.jsx("span",{className:"text-xs font-bold px-2 py-1 rounded bg-emerald-500/10 text-emerald-400 border border-emerald-500/20",children:"DAILY"})]}),p.jsxs("p",{className:"text-slate-400 leading-relaxed",children:["Look at your ",p.jsx("strong",{className:"text-emerald-400",children:"Mastery Rings"})," on the dashboard. Your goal is to get all rings to 100%. This shows you exactly how much of the content you've mastered."]})]})]}),p.jsx("div",{className:"pl-6 text-slate-700",children:p.jsx(Iy,{className:"w-6 h-6 animate-bounce delay-75"})}),p.jsxs("div",{className:"relative flex gap-6 group",children:[p.jsx("div",{className:"w-16 h-16 rounded-2xl bg-slate-800 border-2 border-slate-700 group-hover:border-brand-500 group-hover:shadow-[0_0_20px_rgba(139,92,246,0.3)] flex items-center justify-center shrink-0 transition-all z-10",children:p.jsx(_u,{className:"w-8 h-8 text-brand-400"})}),p.jsxs("div",{className:"bg-slate-800/50 p-6 rounded-2xl border border-slate-700/50 flex-1 group-hover:bg-slate-800 transition-colors",children:[p.jsxs("div",{className:"flex justify-between items-start mb-4",children:[p.jsx("h3",{className:"text-xl font-bold text-white",children:"3. Smart Practice"}),p.jsx("div",{className:"flex gap-2",children:p.jsx("span",{className:"text-xs font-bold px-2 py-1 rounded bg-slate-700 text-slate-300 border border-slate-600",children:"CORE"})})]}),p.jsxs("p",{className:"text-slate-400 leading-relaxed mb-6",children:["Click ",p.jsx("strong",{className:"text-brand-400",children:"Smart Start"}),". The AI picks questions you need to review."]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{className:"bg-slate-900/50 rounded-xl p-4 border border-slate-700/50",children:[p.jsx("div",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Starter Plan"}),p.jsxs("div",{className:"flex items-center gap-2 text-white mb-2",children:[p.jsx("div",{className:"w-2 h-2 rounded-full bg-slate-500"}),p.jsx("span",{children:"5 Questions / Day"})]}),p.jsx("p",{className:"text-xs text-slate-500",children:"Perfect for maintaining your daily streak."})]}),p.jsxs("div",{className:"bg-gradient-to-br from-brand-900/40 to-slate-900/40 rounded-xl p-4 border border-brand-500/30",children:[p.jsxs("div",{className:"flex justify-between items-center mb-2",children:[p.jsx("div",{className:"text-xs font-bold text-brand-400 uppercase tracking-wider",children:"Pro Plan"}),p.jsx(_u,{className:"w-3 h-3 text-brand-400"})]}),p.jsxs("div",{className:"flex items-center gap-2 text-white mb-2",children:[p.jsx("div",{className:"w-2 h-2 rounded-full bg-brand-500"}),p.jsx("span",{children:"Unlimited Practice"})]}),p.jsx("p",{className:"text-xs text-slate-400",children:"Accelerate your mastery with no limits."})]})]})]})]}),p.jsx("div",{className:"pl-6 text-slate-700",children:p.jsx(Iy,{className:"w-6 h-6 animate-bounce delay-150"})}),p.jsxs("div",{className:"relative flex gap-6 group",children:[p.jsx("div",{className:"w-16 h-16 rounded-2xl bg-slate-800 border-2 border-slate-700 group-hover:border-amber-500 group-hover:shadow-[0_0_20px_rgba(245,158,11,0.3)] flex items-center justify-center shrink-0 transition-all z-10",children:p.jsx(bA,{className:"w-8 h-8 text-amber-400"})}),p.jsxs("div",{className:"bg-slate-800/50 p-6 rounded-2xl border border-slate-700/50 flex-1 group-hover:bg-slate-800 transition-colors",children:[p.jsxs("div",{className:"flex justify-between items-start mb-2",children:[p.jsx("h3",{className:"text-xl font-bold text-white",children:"4. Target Weaknesses"}),p.jsx("span",{className:"text-xs font-bold px-2 py-1 rounded bg-amber-500/10 text-amber-400 border border-amber-500/20",children:"REFINE"})]}),p.jsxs("p",{className:"text-slate-400 leading-relaxed mb-4",children:["Use the ",p.jsx("strong",{children:"Analytics"})," tab to see advanced breakdowns of your performance."]}),p.jsxs("div",{className:"flex items-start gap-3 bg-slate-900/50 p-3 rounded-lg border border-slate-700/50",children:[p.jsx("div",{className:"p-1.5 bg-slate-800 rounded text-amber-400 shrink-0 mt-0.5",children:p.jsx(bA,{className:"w-3 h-3"})}),p.jsxs("div",{className:"text-sm",children:[p.jsx("strong",{className:"text-white block mb-0.5",children:"Pro Feature: Deep Analytics"}),p.jsx("span",{className:"text-slate-400",children:"Unlock detailed readiness reports and domain-level trend analysis to spot weak points instantly."})]})]})]})]}),p.jsx("div",{className:"pl-6 text-slate-700",children:p.jsx(Iy,{className:"w-6 h-6 animate-bounce delay-200"})}),p.jsxs("div",{className:"relative flex gap-6 group",children:[p.jsx("div",{className:"w-16 h-16 rounded-2xl bg-slate-800 border-2 border-slate-700 group-hover:border-rose-500 group-hover:shadow-[0_0_20px_rgba(244,63,94,0.3)] flex items-center justify-center shrink-0 transition-all z-10",children:p.jsx(ob,{className:"w-8 h-8 text-rose-400"})}),p.jsxs("div",{className:"bg-slate-800/50 p-6 rounded-2xl border border-slate-700/50 flex-1 group-hover:bg-slate-800 transition-colors",children:[p.jsxs("div",{className:"flex justify-between items-start mb-2",children:[p.jsx("h3",{className:"text-xl font-bold text-white",children:"5. Exam Simulator"}),p.jsx("span",{className:"text-xs font-bold px-2 py-1 rounded bg-rose-500/10 text-rose-400 border border-rose-500/20",children:"PRO ONLY"})]}),p.jsxs("p",{className:"text-slate-400 leading-relaxed",children:["Periodically take a full mock exam. This simulates the real test environment:",p.jsxs("ul",{className:"list-disc pl-5 mt-2 space-y-1 text-slate-500",children:[p.jsxs("li",{children:[p.jsx("strong",{children:"50 Questions"})," in 60 minutes."]}),p.jsxs("li",{children:[p.jsx("strong",{children:"No Feedback"})," until the end."]}),p.jsxs("li",{children:[p.jsx("strong",{children:"History Tracking"})," to see your score improve."]})]})]})]})]})]}),p.jsxs("div",{className:"mt-12 bg-slate-800/30 rounded-2xl p-8 border border-slate-700/50",children:[p.jsx("h3",{className:"text-2xl font-bold text-white mb-6 font-display text-center",children:"How XP & Levels Work"}),p.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"p-2 bg-brand-500/20 rounded-lg text-brand-400",children:p.jsx(_u,{className:"w-5 h-5"})}),p.jsx("h4",{className:"font-bold text-white",children:"Earning XP"})]}),p.jsxs("ul",{className:"space-y-2 text-slate-400 text-sm",children:[p.jsxs("li",{className:"flex justify-between",children:[p.jsx("span",{children:"Attempt a Question"}),p.jsx("span",{className:"text-white font-bold",children:"+10 XP"})]}),p.jsxs("li",{className:"flex justify-between",children:[p.jsx("span",{children:"Correct Answer Bonus"}),p.jsx("span",{className:"text-white font-bold",children:"+5 XP"})]}),p.jsxs("li",{className:"flex justify-between",children:[p.jsx("span",{children:"Daily Streak Bonus"}),p.jsx("span",{className:"text-white font-bold",children:"+50 XP"})]})]})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"p-2 bg-purple-500/20 rounded-lg text-purple-400",children:p.jsx(ob,{className:"w-5 h-5"})}),p.jsx("h4",{className:"font-bold text-white",children:"Exam-Specific Levels"})]}),p.jsxs("p",{className:"text-slate-400 text-sm leading-relaxed",children:["Your ",p.jsx("strong",{children:"Level"})," is specific to each exam (e.g., PMP vs CompTIA). As you earn XP, you'll level up, unlocking cooler badges and showing your growing mastery of that specific subject."]})]})]})]}),p.jsx("p",{className:"text-slate-500 mb-8 italic",children:'"Consistency is the key to mastery."'}),p.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[p.jsxs(fn,{to:"/app",className:"inline-flex items-center justify-center gap-2 bg-gradient-to-r from-brand-600 to-brand-500 text-white px-8 py-4 rounded-xl font-bold hover:from-brand-500 hover:to-brand-400 transition-all shadow-lg hover:shadow-brand-500/25 group",children:["Start My Session",p.jsx("svg",{className:"w-5 h-5 group-hover:translate-x-1 transition-transform",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]}),p.jsxs("button",{onClick:()=>e(!0),className:"inline-flex items-center justify-center gap-2 bg-slate-800 text-slate-300 border border-slate-700 px-8 py-4 rounded-xl font-bold hover:bg-slate-700 hover:text-white transition-all group",children:[p.jsx(a9,{className:"w-5 h-5 text-slate-400 group-hover:text-white"}),"Report a Problem"]})]})]}),p.jsx(H$,{isOpen:t,onClose:()=>e(!1)})]})}function Zpe({isOpen:t,onClose:e,onManageBillingFromStripe:n}){const[r,i]=T.useState(!0),[s,a]=T.useState(!1),[l,u]=T.useState(null),[d,f]=T.useState(null),[m,y]=T.useState(!1);T.useEffect(()=>{t?v():(u(null),i(!0),f(null),y(!1))},[t]);const v=async()=>{try{const w=Fu(),A=ea(w,"getSubscriptionDetails"),{data:C}=await A();u(C)}catch(w){console.error("Failed to fetch subscription:",w),f("Unable to load subscription details. Please try again.")}finally{i(!1)}},_=async()=>{if(l?.subscriptionId){a(!0);try{const w=Fu();await ea(w,"cancelSubscription")({subscriptionId:l.subscriptionId}),await v(),y(!1)}catch(w){console.error("Cancellation failed:",w),f("Failed to cancel subscription. Please contact support.")}finally{a(!1)}}};if(!t)return null;const E=w=>new Date(w*1e3).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"});return p.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",children:p.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-2xl w-full max-w-md shadow-2xl relative overflow-hidden",children:[p.jsxs("div",{className:"p-6 border-b border-slate-800 flex justify-between items-center bg-slate-800/50",children:[p.jsx("h2",{className:"text-xl font-bold text-white font-display",children:"Manage Subscription"}),p.jsx("button",{onClick:e,className:"text-slate-400 hover:text-white transition-colors",children:p.jsx(pc,{className:"w-5 h-5"})})]}),p.jsx("div",{className:"p-6 space-y-6",children:r?p.jsxs("div",{className:"flex flex-col items-center justify-center py-8 space-y-4",children:[p.jsx(vA,{className:"w-8 h-8 text-brand-500 animate-spin"}),p.jsx("p",{className:"text-slate-400 text-sm",children:"Loading subscription details..."})]}):d?p.jsxs("div",{className:"text-center py-6",children:[p.jsx("div",{className:"bg-red-500/10 text-red-400 p-4 rounded-xl mb-4 text-sm",children:d}),p.jsx("button",{onClick:v,className:"text-brand-400 hover:text-brand-300 text-sm font-medium",children:"Try Again"})]}):!l||l.status==="none"?p.jsx("div",{className:"text-center py-6",children:p.jsx("p",{className:"text-slate-400",children:"No active subscription found."})}):p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700",children:[p.jsxs("div",{className:"flex justify-between items-start mb-4",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-slate-400 mb-1",children:"Current Plan"}),p.jsx("h3",{className:"text-lg font-bold text-white",children:l.planName})]}),p.jsx("div",{className:`px-2 py-1 rounded-md text-xs font-bold ${l.cancelAtPeriodEnd?"bg-yellow-500/10 text-yellow-500":"bg-green-500/10 text-green-500"}`,children:l.cancelAtPeriodEnd?"CANCELED":"ACTIVE"})]}),p.jsxs("div",{className:"flex items-center gap-2 text-slate-300 text-sm",children:[p.jsx(QD,{className:"w-4 h-4 text-slate-500"}),p.jsxs("span",{className:"capitalize",children:[l.brand,"  ",l.last4]})]})]}),p.jsxs("div",{className:"flex items-start gap-4 p-4 bg-slate-800/30 rounded-xl",children:[p.jsx(Zx,{className:"w-5 h-5 text-brand-500 mt-0.5"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-white mb-1",children:l.cancelAtPeriodEnd?"Access Expires On":"Next Renewal"}),p.jsx("p",{className:"text-sm text-slate-400",children:E(l.currentPeriodEnd)}),!l.cancelAtPeriodEnd&&p.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["You will be charged $",l.amount," ",l.interval==="month"?"monthly":"yearly","."]})]})]}),p.jsxs("div",{className:"space-y-3 pt-2",children:[p.jsxs("button",{onClick:n,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-slate-800 hover:bg-slate-700 text-white rounded-xl transition-colors font-medium border border-slate-700",children:[p.jsx(QD,{className:"w-4 h-4"}),"Update Payment Method"]}),!l.cancelAtPeriodEnd&&(m?p.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 rounded-xl p-4 space-y-3 animate-in fade-in slide-in-from-top-2",children:[p.jsxs("div",{className:"flex gap-3",children:[p.jsx(ab,{className:"w-5 h-5 text-red-500 flex-shrink-0"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-bold text-red-500",children:"Are you sure?"}),p.jsxs("p",{className:"text-xs text-red-400 mt-1",children:["You will lose access to Pro features on ",E(l.currentPeriodEnd),"."]})]})]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("button",{onClick:()=>y(!1),className:"flex-1 py-2 bg-slate-800 hover:bg-slate-700 text-white text-xs font-bold rounded-lg transition-colors",children:"Keep Plan"}),p.jsxs("button",{onClick:_,disabled:s,className:"flex-1 py-2 bg-red-600 hover:bg-red-500 text-white text-xs font-bold rounded-lg transition-colors flex justify-center items-center gap-2",children:[s?p.jsx(vA,{className:"w-3 h-3 animate-spin"}):null,"Confirm Cancel"]})]})]}):p.jsx("button",{onClick:()=>y(!0),className:"w-full text-sm text-red-400 hover:text-red-300 transition-colors py-2",children:"Cancel Subscription"}))]})]})})]})})}function Jpe(){const[t,e]=T.useState(!1),{entitlement:n}=Pc(),r=n.plan==="pro",[i,s]=T.useState("month"),[a,l]=T.useState(!1),u=Fu(),d=iP(),f="price_1ScV4PPISVVFkTmYtxipM6eN",m="price_1ScXMIPISVVFkTmY9U5uaLTk",y=async()=>{e(!0);try{const E=ea(u,"createCheckoutSession"),w=i==="month"?f:m,{data:A}=await E({priceId:w,successUrl:window.location.origin+"/success",cancelUrl:window.location.origin+"/pricing"});A?.url?window.location.href=A.url:(console.error("No checkout URL returned"),alert("Failed to start checkout. Please try again."))}catch(E){console.error("Checkout failed:",E),alert(`Checkout failed: ${E.message}`)}finally{e(!1)}},v=()=>{l(!0)},_=async()=>{e(!0);try{const E=ea(u,"createPortalSession"),{data:w}=await E({returnUrl:window.location.origin+"/pricing"});w?.url?window.location.href=w.url:(console.error("No portal URL returned"),alert("Failed to redirect to billing portal."))}catch(E){console.error("Portal redirect failed:",E),alert(`Failed to load billing portal: ${E.message}`)}finally{e(!1)}};return p.jsxs("div",{className:"min-h-screen bg-slate-900 text-white flex flex-col items-center py-20 px-4",children:[p.jsx(Zpe,{isOpen:a,onClose:()=>l(!1),onManageBillingFromStripe:_}),p.jsxs("div",{className:"max-w-4xl w-full text-center space-y-6",children:[p.jsx("h1",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent",children:d.pro_value_primary}),p.jsxs("button",{onClick:()=>window.location.href="/",className:"absolute top-8 left-8 text-slate-400 hover:text-white transition-colors flex items-center gap-2",children:[p.jsx(S2,{className:"w-5 h-5"}),"Back to Home"]}),p.jsx("p",{className:"text-xl text-slate-400 max-w-2xl mx-auto",children:d.pro_value_secondary}),p.jsxs("div",{className:"mt-8 flex justify-center items-center gap-4",children:[p.jsx("span",{className:`text-sm font-medium ${i==="month"?"text-white":"text-slate-400"}`,children:"Monthly"}),p.jsx("button",{onClick:()=>s(i==="month"?"year":"month"),className:"relative w-14 h-8 bg-slate-700 rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-slate-900",children:p.jsx("div",{className:`absolute left-1 top-1 w-6 h-6 bg-blue-500 rounded-full transition-transform ${i==="year"?"translate-x-6":"translate-x-0"}`})}),p.jsxs("span",{className:`text-sm font-medium flex items-center gap-2 ${i==="year"?"text-white":"text-slate-400"}`,children:["Yearly",p.jsx("span",{className:"bg-green-500/20 text-green-400 text-xs px-2 py-0.5 rounded-full font-bold",children:"SAVE 17%"})]})]})]}),p.jsxs("div",{className:"mt-16 grid grid-cols-1 md:grid-cols-2 gap-8 max-w-5xl w-full",children:[p.jsxs("div",{className:"bg-slate-800/50 rounded-3xl p-8 border border-slate-700 flex flex-col",children:[p.jsx("h3",{className:"text-2xl font-bold text-white",children:"Starter"}),p.jsxs("div",{className:"mt-4 flex items-baseline",children:[p.jsx("span",{className:"text-4xl font-bold tracking-tight text-white",children:"$0"}),p.jsx("span",{className:"ml-1 text-xl text-slate-400",children:"/ forever"})]}),p.jsx("ul",{className:"mt-8 space-y-4 flex-1",children:["Daily Quiz (5 Questions)","Basic Progress Tracking","Standard Explanations"].map(E=>p.jsxs("li",{className:"flex items-center gap-3",children:[p.jsx(Va,{className:"w-5 h-5 text-slate-500"}),p.jsx("span",{className:"text-slate-300",children:E})]},E))}),p.jsx("button",{className:`mt-8 w-full py-4 rounded-xl font-bold transition-colors cursor-not-allowed ${r?"bg-transparent text-slate-500 border border-slate-700 hover:border-slate-600 hover:text-slate-400 cursor-pointer":"bg-slate-700 text-slate-300"}`,disabled:!r,onClick:()=>{r&&v()},children:r?"Manage Subscription":"Current Plan"})]}),p.jsxs("div",{className:`bg-gradient-to-br from-blue-900/40 to-purple-900/40 rounded-3xl p-8 border ${r?"border-green-500/50 ring-2 ring-green-500/20":"border-blue-500/30"} flex flex-col relative overflow-hidden group`,children:[p.jsx("div",{className:"absolute inset-0 bg-blue-500/10 opacity-0 group-hover:opacity-100 transition-opacity"}),p.jsxs("div",{className:"relative",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("h3",{className:"text-2xl font-bold text-white",children:"Pro Membership"}),r?p.jsxs("span",{className:"bg-green-500 text-white text-xs font-bold px-3 py-1 rounded-full flex items-center gap-1",children:[p.jsx(Va,{className:"w-3 h-3"})," ACTIVE"]}):p.jsx("span",{className:"bg-blue-500 text-white text-xs font-bold px-3 py-1 rounded-full",children:"POPULAR"})]}),p.jsxs("div",{className:"mt-4 flex items-baseline",children:[p.jsxs("span",{className:"text-4xl font-bold tracking-tight text-white",children:["$",i==="month"?"19":"190"]}),p.jsxs("span",{className:"ml-1 text-xl text-slate-400",children:["/ ",i==="month"?"month":"year"]})]}),p.jsx("p",{className:"mt-2 text-blue-200 text-sm",children:r?"Your plan renews automatically.":"Cancel anytime."}),p.jsx("ul",{className:"mt-8 space-y-4 mb-8",children:["Unlimited AI Quizzes","Detailed Domain Analytics","Priority Support","PMP Exam Simulators","Visual Mnemonics (DALL-E 2)"].map(E=>p.jsxs("li",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"bg-blue-500/20 p-1 rounded-full",children:p.jsx(Va,{className:"w-4 h-4 text-blue-400"})}),p.jsx("span",{className:"text-white font-medium",children:E})]},E))}),p.jsx("button",{onClick:r?v:y,disabled:t,className:`w-full py-4 rounded-xl font-bold transition-all shadow-lg flex justify-center items-center gap-2 ${r?"bg-green-600/20 text-green-400 hover:bg-green-600/30 border border-green-500/30 cursor-pointer":"bg-gradient-to-r from-blue-500 to-purple-600 text-white hover:from-blue-400 hover:to-purple-500 hover:shadow-blue-500/25"}`,children:t?p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Processing..."]}):r?"Manage Subscription":"Upgrade to Pro"})]})]})]}),p.jsxs("p",{className:"mt-12 text-slate-500 text-sm",children:["Secure payments powered by ",p.jsx("span",{className:"text-slate-400 font-bold",children:"Stripe"}),". Payments are encrypted and secure."]})]})}var sP={};(function t(e,n,r,i){var s=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),a=typeof Path2D=="function"&&typeof DOMMatrix=="function",l=(function(){if(!e.OffscreenCanvas)return!1;try{var H=new OffscreenCanvas(1,1),k=H.getContext("2d");k.fillRect(0,0,1,1);var K=H.transferToImageBitmap();k.createPattern(K,"no-repeat")}catch{return!1}return!0})();function u(){}function d(H){var k=n.exports.Promise,K=k!==void 0?k:e.Promise;return typeof K=="function"?new K(H):(H(u,u),null)}var f=(function(H,k){return{transform:function(K){if(H)return K;if(k.has(K))return k.get(K);var re=new OffscreenCanvas(K.width,K.height),ce=re.getContext("2d");return ce.drawImage(K,0,0),k.set(K,re),re},clear:function(){k.clear()}}})(l,new Map),m=(function(){var H=Math.floor(16.666666666666668),k,K,re={},ce=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(k=function(se){var ye=Math.random();return re[ye]=requestAnimationFrame(function de(Se){ce===Se||ce+H-1<Se?(ce=Se,delete re[ye],se()):re[ye]=requestAnimationFrame(de)}),ye},K=function(se){re[se]&&cancelAnimationFrame(re[se])}):(k=function(se){return setTimeout(se,H)},K=function(se){return clearTimeout(se)}),{frame:k,cancel:K}})(),y=(function(){var H,k,K={};function re(ce){function se(ye,de){ce.postMessage({options:ye||{},callback:de})}ce.init=function(de){var Se=de.transferControlToOffscreen();ce.postMessage({canvas:Se},[Se])},ce.fire=function(de,Se,Z){if(k)return se(de,null),k;var Ee=Math.random().toString(36).slice(2);return k=d(function(Ae){function fe(Ke){Ke.data.callback===Ee&&(delete K[Ee],ce.removeEventListener("message",fe),k=null,f.clear(),Z(),Ae())}ce.addEventListener("message",fe),se(de,Ee),K[Ee]=fe.bind(null,{data:{callback:Ee}})}),k},ce.reset=function(){ce.postMessage({reset:!0});for(var de in K)K[de](),delete K[de]}}return function(){if(H)return H;if(!r&&s){var ce=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{H=new Worker(URL.createObjectURL(new Blob([ce])))}catch(se){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(" Could not load worker",se),null}re(H)}return H}})(),v={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function _(H,k){return k?k(H):H}function E(H){return H!=null}function w(H,k,K){return _(H&&E(H[k])?H[k]:v[k],K)}function A(H){return H<0?0:Math.floor(H)}function C(H,k){return Math.floor(Math.random()*(k-H))+H}function P(H){return parseInt(H,16)}function L(H){return H.map(M)}function M(H){var k=String(H).replace(/[^0-9a-f]/gi,"");return k.length<6&&(k=k[0]+k[0]+k[1]+k[1]+k[2]+k[2]),{r:P(k.substring(0,2)),g:P(k.substring(2,4)),b:P(k.substring(4,6))}}function z(H){var k=w(H,"origin",Object);return k.x=w(k,"x",Number),k.y=w(k,"y",Number),k}function j(H){H.width=document.documentElement.clientWidth,H.height=document.documentElement.clientHeight}function R(H){var k=H.getBoundingClientRect();H.width=k.width,H.height=k.height}function D(H){var k=document.createElement("canvas");return k.style.position="fixed",k.style.top="0px",k.style.left="0px",k.style.pointerEvents="none",k.style.zIndex=H,k}function B(H,k,K,re,ce,se,ye,de,Se){H.save(),H.translate(k,K),H.rotate(se),H.scale(re,ce),H.arc(0,0,1,ye,de,Se),H.restore()}function V(H){var k=H.angle*(Math.PI/180),K=H.spread*(Math.PI/180);return{x:H.x,y:H.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:H.startVelocity*.5+Math.random()*H.startVelocity,angle2D:-k+(.5*K-Math.random()*K),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:H.color,shape:H.shape,tick:0,totalTicks:H.ticks,decay:H.decay,drift:H.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:H.gravity*3,ovalScalar:.6,scalar:H.scalar,flat:H.flat}}function $(H,k){k.x+=Math.cos(k.angle2D)*k.velocity+k.drift,k.y+=Math.sin(k.angle2D)*k.velocity+k.gravity,k.velocity*=k.decay,k.flat?(k.wobble=0,k.wobbleX=k.x+10*k.scalar,k.wobbleY=k.y+10*k.scalar,k.tiltSin=0,k.tiltCos=0,k.random=1):(k.wobble+=k.wobbleSpeed,k.wobbleX=k.x+10*k.scalar*Math.cos(k.wobble),k.wobbleY=k.y+10*k.scalar*Math.sin(k.wobble),k.tiltAngle+=.1,k.tiltSin=Math.sin(k.tiltAngle),k.tiltCos=Math.cos(k.tiltAngle),k.random=Math.random()+2);var K=k.tick++/k.totalTicks,re=k.x+k.random*k.tiltCos,ce=k.y+k.random*k.tiltSin,se=k.wobbleX+k.random*k.tiltCos,ye=k.wobbleY+k.random*k.tiltSin;if(H.fillStyle="rgba("+k.color.r+", "+k.color.g+", "+k.color.b+", "+(1-K)+")",H.beginPath(),a&&k.shape.type==="path"&&typeof k.shape.path=="string"&&Array.isArray(k.shape.matrix))H.fill(ee(k.shape.path,k.shape.matrix,k.x,k.y,Math.abs(se-re)*.1,Math.abs(ye-ce)*.1,Math.PI/10*k.wobble));else if(k.shape.type==="bitmap"){var de=Math.PI/10*k.wobble,Se=Math.abs(se-re)*.1,Z=Math.abs(ye-ce)*.1,Ee=k.shape.bitmap.width*k.scalar,Ae=k.shape.bitmap.height*k.scalar,fe=new DOMMatrix([Math.cos(de)*Se,Math.sin(de)*Se,-Math.sin(de)*Z,Math.cos(de)*Z,k.x,k.y]);fe.multiplySelf(new DOMMatrix(k.shape.matrix));var Ke=H.createPattern(f.transform(k.shape.bitmap),"no-repeat");Ke.setTransform(fe),H.globalAlpha=1-K,H.fillStyle=Ke,H.fillRect(k.x-Ee/2,k.y-Ae/2,Ee,Ae),H.globalAlpha=1}else if(k.shape==="circle")H.ellipse?H.ellipse(k.x,k.y,Math.abs(se-re)*k.ovalScalar,Math.abs(ye-ce)*k.ovalScalar,Math.PI/10*k.wobble,0,2*Math.PI):B(H,k.x,k.y,Math.abs(se-re)*k.ovalScalar,Math.abs(ye-ce)*k.ovalScalar,Math.PI/10*k.wobble,0,2*Math.PI);else if(k.shape==="star")for(var _e=Math.PI/2*3,Me=4*k.scalar,ze=8*k.scalar,it=k.x,Gt=k.y,xt=5,pt=Math.PI/xt;xt--;)it=k.x+Math.cos(_e)*ze,Gt=k.y+Math.sin(_e)*ze,H.lineTo(it,Gt),_e+=pt,it=k.x+Math.cos(_e)*Me,Gt=k.y+Math.sin(_e)*Me,H.lineTo(it,Gt),_e+=pt;else H.moveTo(Math.floor(k.x),Math.floor(k.y)),H.lineTo(Math.floor(k.wobbleX),Math.floor(ce)),H.lineTo(Math.floor(se),Math.floor(ye)),H.lineTo(Math.floor(re),Math.floor(k.wobbleY));return H.closePath(),H.fill(),k.tick<k.totalTicks}function q(H,k,K,re,ce){var se=k.slice(),ye=H.getContext("2d"),de,Se,Z=d(function(Ee){function Ae(){de=Se=null,ye.clearRect(0,0,re.width,re.height),f.clear(),ce(),Ee()}function fe(){r&&!(re.width===i.width&&re.height===i.height)&&(re.width=H.width=i.width,re.height=H.height=i.height),!re.width&&!re.height&&(K(H),re.width=H.width,re.height=H.height),ye.clearRect(0,0,re.width,re.height),se=se.filter(function(Ke){return $(ye,Ke)}),se.length?de=m.frame(fe):Ae()}de=m.frame(fe),Se=Ae});return{addFettis:function(Ee){return se=se.concat(Ee),Z},canvas:H,promise:Z,reset:function(){de&&m.cancel(de),Se&&Se()}}}function xe(H,k){var K=!H,re=!!w(k||{},"resize"),ce=!1,se=w(k,"disableForReducedMotion",Boolean),ye=s&&!!w(k||{},"useWorker"),de=ye?y():null,Se=K?j:R,Z=H&&de?!!H.__confetti_initialized:!1,Ee=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,Ae;function fe(_e,Me,ze){for(var it=w(_e,"particleCount",A),Gt=w(_e,"angle",Number),xt=w(_e,"spread",Number),pt=w(_e,"startVelocity",Number),Kn=w(_e,"decay",Number),Le=w(_e,"gravity",Number),ke=w(_e,"drift",Number),Ie=w(_e,"colors",L),et=w(_e,"ticks",Number),Ze=w(_e,"shapes"),Ct=w(_e,"scalar"),ct=!!w(_e,"flat"),Pt=z(_e),It=it,Dr=[],fi=H.width*Pt.x,ar=H.height*Pt.y;It--;)Dr.push(V({x:fi,y:ar,angle:Gt,spread:xt,startVelocity:pt,color:Ie[It%Ie.length],shape:Ze[C(0,Ze.length)],ticks:et,decay:Kn,gravity:Le,drift:ke,scalar:Ct,flat:ct}));return Ae?Ae.addFettis(Dr):(Ae=q(H,Dr,Se,Me,ze),Ae.promise)}function Ke(_e){var Me=se||w(_e,"disableForReducedMotion",Boolean),ze=w(_e,"zIndex",Number);if(Me&&Ee)return d(function(pt){pt()});K&&Ae?H=Ae.canvas:K&&!H&&(H=D(ze),document.body.appendChild(H)),re&&!Z&&Se(H);var it={width:H.width,height:H.height};de&&!Z&&de.init(H),Z=!0,de&&(H.__confetti_initialized=!0);function Gt(){if(de){var pt={getBoundingClientRect:function(){if(!K)return H.getBoundingClientRect()}};Se(pt),de.postMessage({resize:{width:pt.width,height:pt.height}});return}it.width=it.height=null}function xt(){Ae=null,re&&(ce=!1,e.removeEventListener("resize",Gt)),K&&H&&(document.body.contains(H)&&document.body.removeChild(H),H=null,Z=!1)}return re&&!ce&&(ce=!0,e.addEventListener("resize",Gt,!1)),de?de.fire(_e,it,xt):fe(_e,it,xt)}return Ke.reset=function(){de&&de.reset(),Ae&&Ae.reset()},Ke}var be;function X(){return be||(be=xe(null,{useWorker:!0,resize:!0})),be}function ee(H,k,K,re,ce,se,ye){var de=new Path2D(H),Se=new Path2D;Se.addPath(de,new DOMMatrix(k));var Z=new Path2D;return Z.addPath(Se,new DOMMatrix([Math.cos(ye)*ce,Math.sin(ye)*ce,-Math.sin(ye)*se,Math.cos(ye)*se,K,re])),Z}function he(H){if(!a)throw new Error("path confetti are not supported in this browser");var k,K;typeof H=="string"?k=H:(k=H.path,K=H.matrix);var re=new Path2D(k),ce=document.createElement("canvas"),se=ce.getContext("2d");if(!K){for(var ye=1e3,de=ye,Se=ye,Z=0,Ee=0,Ae,fe,Ke=0;Ke<ye;Ke+=2)for(var _e=0;_e<ye;_e+=2)se.isPointInPath(re,Ke,_e,"nonzero")&&(de=Math.min(de,Ke),Se=Math.min(Se,_e),Z=Math.max(Z,Ke),Ee=Math.max(Ee,_e));Ae=Z-de,fe=Ee-Se;var Me=10,ze=Math.min(Me/Ae,Me/fe);K=[ze,0,0,ze,-Math.round(Ae/2+de)*ze,-Math.round(fe/2+Se)*ze]}return{type:"path",path:k,matrix:K}}function Y(H){var k,K=1,re="#000000",ce='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof H=="string"?k=H:(k=H.text,K="scalar"in H?H.scalar:K,ce="fontFamily"in H?H.fontFamily:ce,re="color"in H?H.color:re);var se=10*K,ye=""+se+"px "+ce,de=new OffscreenCanvas(se,se),Se=de.getContext("2d");Se.font=ye;var Z=Se.measureText(k),Ee=Math.ceil(Z.actualBoundingBoxRight+Z.actualBoundingBoxLeft),Ae=Math.ceil(Z.actualBoundingBoxAscent+Z.actualBoundingBoxDescent),fe=2,Ke=Z.actualBoundingBoxLeft+fe,_e=Z.actualBoundingBoxAscent+fe;Ee+=fe+fe,Ae+=fe+fe,de=new OffscreenCanvas(Ee,Ae),Se=de.getContext("2d"),Se.font=ye,Se.fillStyle=re,Se.fillText(k,Ke,_e);var Me=1/K;return{type:"bitmap",bitmap:de.transferToImageBitmap(),matrix:[Me,0,0,Me,-Ee*Me/2,-Ae*Me/2]}}n.exports=function(){return X().apply(this,arguments)},n.exports.reset=function(){X().reset()},n.exports.create=xe,n.exports.shapeFromPath=he,n.exports.shapeFromText=Y})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),sP,!1);const f5=sP.exports;sP.exports.create;function ege(){const t=jn();return T.useEffect(()=>{const n=Date.now()+3e3,r={startVelocity:30,spread:360,ticks:60,zIndex:0},i=(l,u)=>Math.random()*(u-l)+l,s=setInterval(function(){const l=n-Date.now();if(l<=0)return clearInterval(s);const u=50*(l/3e3);f5(Object.assign({},r,{particleCount:u,origin:{x:i(.1,.3),y:Math.random()-.2}})),f5(Object.assign({},r,{particleCount:u,origin:{x:i(.7,.9),y:Math.random()-.2}}))},250),a=setTimeout(()=>{t("/app")},5e3);return()=>{clearInterval(s),clearTimeout(a)}},[t]),p.jsx("div",{className:"min-h-screen bg-slate-900 flex flex-col items-center justify-center p-4",children:p.jsxs("div",{className:"bg-slate-800 p-8 rounded-3xl border border-green-500/30 max-w-md w-full text-center space-y-6 shadow-2xl shadow-green-500/20",children:[p.jsx("div",{className:"w-20 h-20 bg-green-500/20 rounded-full flex items-center justify-center mx-auto mb-6 ring-4 ring-green-500/10",children:p.jsx(Va,{className:"w-10 h-10 text-green-400"})}),p.jsx("h1",{className:"text-3xl font-bold text-white",children:"Upgrade Successful!"}),p.jsx("p",{className:"text-slate-400",children:"Welcome to Pro! You now have unlimited access to all features."}),p.jsx("div",{className:"pt-4",children:p.jsx(fn,{to:"/app",className:"inline-block w-full py-4 rounded-xl font-bold bg-green-500 text-white hover:bg-green-400 transition-all shadow-lg shadow-green-500/25",children:"Go to Dashboard"})}),p.jsx("p",{className:"text-xs text-slate-500",children:"Redirecting automatically in 5 seconds..."})]})})}function tge(){const{checkPermission:t}=Pc(),e=jn(),{examName:n}=Xa(),[r,i]=T.useState([]),[s,a]=T.useState(!0),l=localStorage.getItem("selectedExamId")||"default-exam",[u,d]=T.useState(null);T.useEffect(()=>{const _=async()=>{if(mt.currentUser)try{const{PredictionEngine:w}=await cf(async()=>{const{PredictionEngine:C}=await Promise.resolve().then(()=>mMe);return{PredictionEngine:C}},void 0),A=await w.calculateReadiness(mt.currentUser.uid,l);d(A)}catch(w){console.error("Readiness check failed",w)}},E=async()=>{if(mt.currentUser)try{const w=Rr(en(qe,"quizAttempts"),Et("userId","==",mt.currentUser.uid),Et("examId","==",l),Et("mode","==","simulation"),ch("timestamp","desc")),C=(await oi(w)).docs.map(P=>({id:P.id,...P.data()}));i(C)}catch(w){console.error("Error fetching simulation history:",w)}finally{a(!1)}};_(),E()},[l]);const f=u&&u.overallScore>=50&&u.overallScore<70,m=u&&u.overallScore<50,y=_=>{if(!_)return"--:--";const E=Math.floor(_/60),w=Math.floor(_%60);return`${E}m ${w}s`},v=_=>{if(!_)return"";const E=_.toDate?_.toDate():new Date(_);return E.toLocaleDateString()+" "+E.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})};return p.jsx("div",{className:"min-h-screen bg-slate-900 text-slate-100 flex flex-col p-4 md:p-8 font-sans",children:p.jsxs("div",{className:"max-w-5xl mx-auto w-full",children:[p.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[p.jsx("button",{onClick:()=>e("/app"),className:"p-2 rounded-full bg-slate-800 hover:bg-slate-700 transition-colors text-slate-400 hover:text-white",children:p.jsx(S2,{className:"w-6 h-6"})}),p.jsxs("div",{children:[p.jsx("h1",{className:"text-2xl font-bold font-display text-white",children:"Exam Simulator"}),n&&p.jsx("span",{className:"text-sm font-bold text-indigo-400 uppercase tracking-wider mb-1 block",children:n}),p.jsx("p",{className:"text-slate-400",children:"Full mock exam environment."})]})]}),u&&(m||f)&&p.jsx("div",{className:`mb-8 p-6 rounded-2xl border ${m?"bg-red-500/10 border-red-500/30":"bg-yellow-500/10 border-yellow-500/30"}`,children:p.jsxs("div",{className:"flex items-start gap-4",children:[p.jsx("div",{className:`p-3 rounded-full ${m?"bg-red-500/20 text-red-500":"bg-yellow-500/20 text-yellow-500"}`,children:p.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),p.jsxs("div",{children:[p.jsx("h3",{className:`text-lg font-bold mb-1 ${m?"text-red-400":"text-yellow-400"}`,children:m?"High Risk of Failure Detected":"Readiness is Borderline"}),p.jsxs("p",{className:"text-slate-300 mb-4 leading-relaxed",children:["Your Smart Readiness Score is ",p.jsxs("strong",{children:[u.overallScore,"%"]}),".",m?" A full exam right now is unlikely to give you useful feedback. We strongly recommend Verbal Mode or Domain Practice first.":" You may pass, but it will be close. Review your weakest domains before starting."]}),p.jsxs("div",{className:"flex gap-4",children:[p.jsx("button",{onClick:()=>e("/app/verbal"),className:"bg-slate-800 hover:bg-slate-700 text-white px-4 py-2 rounded-lg font-medium text-sm border border-slate-600 transition-colors",children:"Go to Verbal Mode"}),p.jsx("button",{onClick:()=>e("/app"),className:"bg-slate-800 hover:bg-slate-700 text-white px-4 py-2 rounded-lg font-medium text-sm border border-slate-600 transition-colors",children:"Practice Weakest Domain"})]})]})]})}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-12",children:[p.jsxs("div",{className:`lg:col-span-2 bg-gradient-to-br from-indigo-900/50 to-slate-900 border ${m?"border-red-500/20":"border-indigo-500/30"} rounded-2xl p-8 relative overflow-hidden shadow-2xl transition-all`,children:[p.jsx("div",{className:"absolute top-0 right-0 -mt-10 -mr-10 w-64 h-64 bg-indigo-500/10 rounded-full blur-3xl pointer-events-none"}),p.jsx("h2",{className:"text-3xl font-bold text-white mb-4 relative z-10",children:"Realistic Mock Exam"}),p.jsxs("div",{className:"flex flex-wrap gap-4 mb-8 text-slate-300 relative z-10",children:[p.jsxs("div",{className:"flex items-center gap-2 bg-slate-800/50 px-3 py-1.5 rounded-lg border border-slate-700",children:[p.jsx(due,{className:"w-4 h-4 text-indigo-400"}),p.jsx("span",{children:"50 Questions"})]}),p.jsxs("div",{className:"flex items-center gap-2 bg-slate-800/50 px-3 py-1.5 rounded-lg border border-slate-700",children:[p.jsx(Wu,{className:"w-4 h-4 text-pink-400"}),p.jsx("span",{children:"60 Minutes"})]}),p.jsxs("div",{className:"flex items-center gap-2 bg-slate-800/50 px-3 py-1.5 rounded-lg border border-slate-700",children:[p.jsx(Wce,{className:"w-4 h-4 text-yellow-400"}),p.jsx("span",{children:"No Hints"})]})]}),p.jsxs("p",{className:"text-slate-300 mb-8 max-w-xl leading-relaxed relative z-10",children:["Test your readiness under exam conditions. You won't see correct answers until you finish. Results from this mode will ",p.jsx("strong",{children:"not"})," affect your Mastery Rings."]}),t("simulator")?p.jsxs("button",{onClick:()=>{m?window.confirm("CRITICAL WARNING: Your readiness score indicates a high chance of failure. Are you sure you want to proceed? This may impact your confidence.")&&e("/app/simulator/exam"):e("/app/simulator/exam")},className:`relative z-10 flex items-center gap-3 px-8 py-4 rounded-xl font-bold text-lg shadow-lg transform hover:-translate-y-1 transition-all ${m?"bg-red-600 hover:bg-red-500 text-white shadow-red-600/25":"bg-indigo-600 hover:bg-indigo-500 text-white shadow-indigo-600/25"}`,children:[p.jsx(l9,{className:"w-5 h-5 fill-current"}),m?"Proceed Anyway (High Risk)":"Start New Exam"]}):p.jsxs("div",{className:"relative z-10",children:[p.jsxs("button",{disabled:!0,className:"flex items-center gap-3 bg-slate-700 text-slate-400 px-8 py-4 rounded-xl font-bold text-lg cursor-not-allowed border border-slate-600 mb-4",children:[p.jsx(Jx,{className:"w-5 h-5"}),"Pro Feature Only"]}),p.jsxs("p",{className:"text-indigo-200 text-sm max-w-sm",children:[p.jsx("span",{onClick:()=>e("/app/pricing"),className:"underline cursor-pointer hover:text-white",children:"Upgrade to Pro"})," to access full exam simulators."]})]})]}),p.jsxs("div",{className:"bg-slate-800/50 border border-slate-700 rounded-2xl p-6 flex flex-col justify-center",children:[p.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Exam Tips"}),p.jsxs("ul",{className:"space-y-4 text-slate-400 text-sm",children:[p.jsxs("li",{className:"flex gap-3",children:[p.jsx("div",{className:"w-6 h-6 rounded-full bg-slate-700 flex items-center justify-center text-xs font-bold text-white shrink-0",children:"1"}),p.jsx("span",{children:"Flag questions for review if you're unsure. Don't get stuck."})]}),p.jsxs("li",{className:"flex gap-3",children:[p.jsx("div",{className:"w-6 h-6 rounded-full bg-slate-700 flex items-center justify-center text-xs font-bold text-white shrink-0",children:"2"}),p.jsx("span",{children:"Pace yourself. You have roughly 1 minute per question."})]})]})]})]}),p.jsxs("div",{className:"bg-slate-800/30 border border-slate-700/50 rounded-2xl overflow-hidden",children:[p.jsxs("div",{className:"p-6 border-b border-slate-700/50 flex items-center gap-3",children:[p.jsx(pue,{className:"w-5 h-5 text-slate-400"}),p.jsx("h3",{className:"text-lg font-bold text-white",children:"Past Attempts"})]}),s?p.jsx("div",{className:"p-8 text-center text-slate-500",children:"Loading history..."}):r.length===0?p.jsx("div",{className:"p-12 text-center text-slate-500",children:p.jsx("p",{children:"No exams taken yet."})}):p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full text-left text-sm text-slate-400",children:[p.jsx("thead",{className:"bg-slate-800/50 text-slate-200 uppercase text-xs font-bold",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-6 py-4",children:"Date"}),p.jsx("th",{className:"px-6 py-4",children:"Score"}),p.jsx("th",{className:"px-6 py-4",children:"Time"}),p.jsx("th",{className:"px-6 py-4 text-right",children:"Status"})]})}),p.jsx("tbody",{className:"divide-y divide-slate-700/50",children:r.map(_=>{const E=Math.round(_.score/_.totalQuestions*100),w=E>=70;return p.jsxs("tr",{className:"hover:bg-slate-800/30 transition-colors",children:[p.jsx("td",{className:"px-6 py-4 text-white font-medium",children:v(_.timestamp)}),p.jsxs("td",{className:"px-6 py-4",children:[p.jsxs("span",{className:"text-white font-bold",children:[E,"%"]}),p.jsxs("span",{className:"text-slate-500 ml-1",children:["(",_.score,"/",_.totalQuestions,")"]})]}),p.jsx("td",{className:"px-6 py-4",children:y(_.timeSpent)}),p.jsx("td",{className:"px-6 py-4 text-right",children:p.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold border ${w?"bg-emerald-500/10 text-emerald-400 border-emerald-500/20":"bg-red-500/10 text-red-500 border-red-500/20"}`,children:w?"PASSED":"FAIL"})})]},_.id)})})]})})]})]})})}const nge=()=>{const t=jn(),e=xr(),[n,r]=T.useState(!0),[i,s]=T.useState([]),[a,l]=T.useState(0),[u,d]=T.useState({}),[f,m]=T.useState({}),[y,v]=T.useState(3600),[_,E]=T.useState(!1),[w,A]=T.useState("default-exam");T.useEffect(()=>{(async()=>{const z=mt.currentUser,j=localStorage.getItem("selectedExamId")||"default-exam";if(A(j),!z){t("/login");return}try{const R=e.state;let D=50,B=D*72;R?.mode==="full-mock"?(D=180,B=13800):R?.count&&(D=R.count,R.durationMinutes?B=R.durationMinutes*60:B=D*72),v(B);const V=await Ku.generateSimulationExam(j,D);if(V.length===0){alert("No questions found for this exam."),t("/app/simulator");return}const $=[];for(const q of V){const xe=on(qe,"questions",q),be=await ti(xe);be.exists()&&$.push({id:be.id,...be.data()})}s($)}catch(R){console.error("Error loading exam:",R),alert("Failed to load exam. Please try again."),t("/app/simulator")}finally{r(!1)}})()},[t]),T.useEffect(()=>{if(n||_)return;const M=setInterval(()=>{v(z=>z<=1?(clearInterval(M),L(!0),0):z-1)},1e3);return()=>clearInterval(M)},[n,_]);const C=T.useCallback(M=>{d(z=>({...z,[a]:M}))},[a]),P=T.useCallback(()=>{m(M=>({...M,[a]:!M[a]}))},[a]),L=async(M=!1)=>{if(!M&&!window.confirm("Are you sure you want to finish the exam?"))return;E(!0);const z=mt.currentUser;if(!z)return;let j=0;const R=[];i.forEach((B,V)=>{const $=u[V],q=$===B.correctAnswer;q&&j++,R.push({questionId:B.id,selectedOption:$,correctOption:B.correctAnswer,isCorrect:q,domain:B.domain})});const D=i.length*72-y;try{await id(en(qe,"quizAttempts"),{userId:z.uid,examId:w,score:j,totalQuestions:i.length,timestamp:new Date,mode:"simulation",timeSpent:D,details:R}),await No.awardXP(i.length*5+j*10,"Completed Exam Simulator"),t("/app/simulator/results",{state:{score:j,total:i.length,timeSpent:D,questions:i,answers_map:u,flagged:f}})}catch(B){console.error("Error saving exam:",B),t("/app/simulator/results",{state:{score:j,total:i.length,timeSpent:D,questions:i,answers_map:u,flagged:f}})}};return{loading:n,questions:i,currentIndex:a,setCurrentIndex:l,answers:u,flagged:f,timeLeft:y,handleAnswer:C,handleFlag:P,submitExam:L}};function rge({questions:t,currentIndex:e,answers:n,flagged:r,timeLeft:i,examName:s,onNavigate:a,onSubmit:l,onQuit:u}){const d=f=>{const m=Math.floor(f/60),y=f%60;return`${m.toString().padStart(2,"0")}:${y.toString().padStart(2,"0")}`};return p.jsxs("aside",{className:"w-full md:w-72 bg-slate-800 border-r border-slate-700 flex flex-col h-full shrink-0",children:[p.jsxs("div",{className:"p-4 border-b border-slate-700",children:[s&&p.jsx("div",{className:"text-sm font-bold text-indigo-400 uppercase tracking-wider mb-4 text-center",children:s}),p.jsx("h2",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Time Remaining"}),p.jsxs("div",{className:"flex items-center justify-between text-white font-mono text-xl font-bold bg-slate-900/50 p-3 rounded-lg border border-slate-700",children:[p.jsx("span",{className:i<300?"text-red-500 animate-pulse":"text-indigo-400",children:d(i)}),p.jsx(Wu,{className:"w-5 h-5 text-slate-500"})]})]}),p.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[p.jsx("h3",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-3",children:"Question Map"}),p.jsx("div",{className:"grid grid-cols-5 gap-2 content-start",children:t.map((f,m)=>{const y=n[m]!==void 0,v=r[m],_=m===e;let E="bg-slate-700 hover:bg-slate-600 text-slate-300";return _?E="bg-indigo-600 text-white ring-2 ring-indigo-400 ring-offset-2 ring-offset-slate-900 z-10":v?E="bg-amber-500/20 text-amber-400 border border-amber-500/50":y&&(E="bg-emerald-500/20 text-emerald-400 border border-emerald-500/30"),p.jsxs("button",{onClick:()=>a(m),className:`aspect-square rounded-md text-xs font-bold flex items-center justify-center relative transition-all ${E}`,children:[m+1,v&&p.jsx("div",{className:"absolute -top-1 -right-1",children:p.jsx("div",{className:"w-2.5 h-2.5 bg-amber-500 rounded-full ring-2 ring-slate-800"})})]},m)})})]}),p.jsxs("div",{className:"p-4 border-t border-slate-700 space-y-3 bg-slate-800",children:[p.jsxs("div",{className:"flex justify-between text-xs text-slate-400 px-1",children:[p.jsxs("span",{className:"flex items-center gap-1",children:[p.jsx("div",{className:"w-2 h-2 rounded bg-emerald-500/50"})," Answered"]}),p.jsxs("span",{className:"flex items-center gap-1",children:[p.jsx("div",{className:"w-2 h-2 rounded bg-amber-500/50"})," Flagged"]})]}),p.jsx("button",{onClick:l,className:"w-full bg-slate-700 hover:bg-slate-600 text-white py-3 rounded-lg font-bold transition-colors border border-slate-600",children:"Finish Exam"}),p.jsx("button",{onClick:u,className:"w-full text-slate-500 hover:text-white text-xs text-center p-2 hover:underline",children:"Quit Simulation"})]})]})}function ige({question:t,currentNumber:e,totalQuestions:n,selectedOption:r,isFlagged:i,onSelect:s,onFlag:a,onNext:l,onPrev:u,isFirst:d,isLast:f,onSubmit:m}){return p.jsxs("div",{className:"flex-1 flex flex-col h-full bg-slate-900 overflow-hidden relative",children:[p.jsxs("header",{className:"px-6 py-4 md:px-12 md:py-6 border-b border-slate-800 bg-slate-900/50 flex justify-between items-center z-10",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-white font-bold text-lg md:text-xl font-display",children:t.domain||"General Knowledge"}),p.jsxs("p",{className:"text-slate-400 text-sm font-mono mt-0.5",children:["Question ",e," of ",n]})]}),p.jsxs("button",{onClick:a,className:`flex items-center gap-2 px-4 py-2 rounded-full border transition-all ${i?"bg-amber-500/10 border-amber-500/50 text-amber-400 shadow-[0_0_10px_rgba(245,158,11,0.1)]":"bg-slate-800 border-slate-700 text-slate-400 hover:border-slate-500 hover:text-white"}`,children:[p.jsx(hue,{className:`w-4 h-4 ${i?"fill-current":""}`}),p.jsx("span",{className:"text-sm font-medium hidden md:inline",children:i?"Flagged":"Flag for Review"})]})]}),p.jsxs("div",{className:"flex-1 overflow-y-auto p-6 md:px-12 md:py-8 max-w-5xl mx-auto w-full",children:[p.jsx("div",{className:"prose prose-invert max-w-none mb-8",children:p.jsx("p",{className:"text-xl md:text-2xl font-medium text-slate-100 leading-relaxed",children:t.stem})}),t.imageUrl&&p.jsx("div",{className:"mb-10 rounded-2xl overflow-hidden border border-slate-700 bg-black/50 p-4",children:p.jsx("img",{src:t.imageUrl,alt:"Question Reference",className:"max-h-80 mx-auto object-contain"})}),p.jsx("div",{className:"space-y-4",children:t.options.map((y,v)=>{const _=r===v,E=String.fromCharCode(65+v);return p.jsxs("div",{onClick:()=>s(v),className:`group flex items-start gap-4 p-5 rounded-xl border transition-all cursor-pointer relative overflow-hidden ${_?"bg-indigo-600/10 border-indigo-500 shadow-[0_0_0_1px_rgba(99,102,241,1)] z-10":"bg-slate-800/40 border-slate-700/50 hover:bg-slate-800 hover:border-slate-600"}`,children:[p.jsx("div",{className:`w-8 h-8 rounded-lg border flex items-center justify-center shrink-0 text-sm font-bold transition-colors ${_?"bg-indigo-600 border-indigo-500 text-white":"bg-slate-800 border-slate-600 text-slate-400 group-hover:border-slate-500 group-hover:text-slate-300"}`,children:E}),p.jsx("span",{className:`text-lg pt-0.5 ${_?"text-white font-medium":"text-slate-300 group-hover:text-slate-200"}`,children:y})]},v)})})]}),p.jsx("footer",{className:"px-6 py-4 md:px-12 md:py-6 border-t border-slate-800 bg-slate-900/95 backdrop-blur z-10",children:p.jsxs("div",{className:"max-w-5xl mx-auto flex justify-between items-center",children:[p.jsxs("button",{onClick:u,disabled:d,className:"flex items-center gap-2 px-6 py-3 rounded-xl font-medium text-slate-400 hover:text-white hover:bg-slate-800 disabled:opacity-30 disabled:hover:bg-transparent transition-colors",children:[p.jsx(T2,{className:"w-5 h-5"}),p.jsx("span",{className:"hidden md:inline",children:"Previous"})]}),f?p.jsxs("button",{onClick:m,className:"flex items-center gap-2 px-8 py-3 rounded-xl font-bold bg-emerald-600 text-white hover:bg-emerald-500 shadow-lg shadow-emerald-500/20 hover:shadow-emerald-500/30 transition-all translate-y-0 hover:-translate-y-0.5",children:[p.jsx("span",{children:"Finish Exam"}),p.jsx(sb,{className:"w-5 h-5"})]}):p.jsxs("button",{onClick:l,className:"flex items-center gap-2 px-8 py-3 rounded-xl font-bold bg-indigo-600 text-white hover:bg-indigo-500 shadow-lg shadow-indigo-500/20 hover:shadow-indigo-500/30 transition-all translate-y-0 hover:-translate-y-0.5",children:[p.jsx("span",{children:"Next Question"}),p.jsx(sb,{className:"w-5 h-5"})]})]})})]})}function sge(){const t=jn(),{examName:e}=Xa(),{loading:n,questions:r,currentIndex:i,setCurrentIndex:s,answers:a,flagged:l,timeLeft:u,handleAnswer:d,handleFlag:f,submitExam:m}=nge();if(n)return p.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center text-white",children:p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"w-16 h-16 border-4 border-indigo-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),p.jsx("p",{className:"font-display font-medium text-lg",children:"Preparing Exam Environment..."})]})});if(!r.length)return null;const y=r[i];return p.jsxs("div",{className:"min-h-screen bg-slate-900 text-slate-100 flex flex-col md:flex-row h-screen overflow-hidden",children:[p.jsx("div",{className:"hidden md:block",children:p.jsx(rge,{questions:r,currentIndex:i,answers:a,flagged:l,timeLeft:u,examName:e,onNavigate:s,onSubmit:()=>m(),onQuit:()=>t("/app/simulator")})}),p.jsx(ige,{question:y,currentNumber:i+1,totalQuestions:r.length,selectedOption:a[i],isFlagged:l[i],onSelect:d,onFlag:f,onNext:()=>s(v=>Math.min(r.length-1,v+1)),onPrev:()=>s(v=>Math.max(0,v-1)),isFirst:i===0,isLast:i===r.length-1,onSubmit:()=>m()})]})}function Sg(t){return t+.5|0}const Yl=(t,e,n)=>Math.max(Math.min(t,n),e);function Wm(t){return Yl(Sg(t*2.55),0,255)}function rc(t){return Yl(Sg(t*255),0,255)}function xo(t){return Yl(Sg(t/2.55)/100,0,1)}function h5(t){return Yl(Sg(t*100),0,100)}const fs={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},BA=[..."0123456789ABCDEF"],age=t=>BA[t&15],oge=t=>BA[(t&240)>>4]+BA[t&15],ky=t=>(t&240)>>4===(t&15),lge=t=>ky(t.r)&&ky(t.g)&&ky(t.b)&&ky(t.a);function cge(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&fs[t[1]]*17,g:255&fs[t[2]]*17,b:255&fs[t[3]]*17,a:e===5?fs[t[4]]*17:255}:(e===7||e===9)&&(n={r:fs[t[1]]<<4|fs[t[2]],g:fs[t[3]]<<4|fs[t[4]],b:fs[t[5]]<<4|fs[t[6]],a:e===9?fs[t[7]]<<4|fs[t[8]]:255})),n}const uge=(t,e)=>t<255?e(t):"";function dge(t){var e=lge(t)?age:oge;return t?"#"+e(t.r)+e(t.g)+e(t.b)+uge(t.a,e):void 0}const fge=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function G$(t,e,n){const r=e*Math.min(n,1-n),i=(s,a=(s+t/30)%12)=>n-r*Math.max(Math.min(a-3,9-a,1),-1);return[i(0),i(8),i(4)]}function hge(t,e,n){const r=(i,s=(i+t/60)%6)=>n-n*e*Math.max(Math.min(s,4-s,1),0);return[r(5),r(3),r(1)]}function mge(t,e,n){const r=G$(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)r[i]*=1-e-n,r[i]+=e;return r}function pge(t,e,n,r,i){return t===i?(e-n)/r+(e<n?6:0):e===i?(n-t)/r+2:(t-e)/r+4}function aP(t){const n=t.r/255,r=t.g/255,i=t.b/255,s=Math.max(n,r,i),a=Math.min(n,r,i),l=(s+a)/2;let u,d,f;return s!==a&&(f=s-a,d=l>.5?f/(2-s-a):f/(s+a),u=pge(n,r,i,f,s),u=u*60+.5),[u|0,d||0,l]}function oP(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(rc)}function lP(t,e,n){return oP(G$,t,e,n)}function gge(t,e,n){return oP(mge,t,e,n)}function yge(t,e,n){return oP(hge,t,e,n)}function Y$(t){return(t%360+360)%360}function vge(t){const e=fge.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?Wm(+e[5]):rc(+e[5]));const i=Y$(+e[2]),s=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?r=gge(i,s,a):e[1]==="hsv"?r=yge(i,s,a):r=lP(i,s,a),{r:r[0],g:r[1],b:r[2],a:n}}function bge(t,e){var n=aP(t);n[0]=Y$(n[0]+e),n=lP(n),t.r=n[0],t.g=n[1],t.b=n[2]}function xge(t){if(!t)return;const e=aP(t),n=e[0],r=h5(e[1]),i=h5(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${i}%, ${xo(t.a)})`:`hsl(${n}, ${r}%, ${i}%)`}const m5={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},p5={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function wge(){const t={},e=Object.keys(p5),n=Object.keys(m5);let r,i,s,a,l;for(r=0;r<e.length;r++){for(a=l=e[r],i=0;i<n.length;i++)s=n[i],l=l.replace(s,m5[s]);s=parseInt(p5[a],16),t[l]=[s>>16&255,s>>8&255,s&255]}return t}let My;function _ge(t){My||(My=wge(),My.transparent=[0,0,0,0]);const e=My[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const Ege=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Sge(t){const e=Ege.exec(t);let n=255,r,i,s;if(e){if(e[7]!==r){const a=+e[7];n=e[8]?Wm(a):Yl(a*255,0,255)}return r=+e[1],i=+e[3],s=+e[5],r=255&(e[2]?Wm(r):Yl(r,0,255)),i=255&(e[4]?Wm(i):Yl(i,0,255)),s=255&(e[6]?Wm(s):Yl(s,0,255)),{r,g:i,b:s,a:n}}}function Tge(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${xo(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const FE=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Yd=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function Age(t,e,n){const r=Yd(xo(t.r)),i=Yd(xo(t.g)),s=Yd(xo(t.b));return{r:rc(FE(r+n*(Yd(xo(e.r))-r))),g:rc(FE(i+n*(Yd(xo(e.g))-i))),b:rc(FE(s+n*(Yd(xo(e.b))-s))),a:t.a+n*(e.a-t.a)}}function Dy(t,e,n){if(t){let r=aP(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=lP(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function X$(t,e){return t&&Object.assign(e||{},t)}function g5(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=rc(t[3]))):(e=X$(t,{r:0,g:0,b:0,a:1}),e.a=rc(e.a)),e}function Nge(t){return t.charAt(0)==="r"?Sge(t):vge(t)}let Q$=class FA{constructor(e){if(e instanceof FA)return e;const n=typeof e;let r;n==="object"?r=g5(e):n==="string"&&(r=cge(e)||_ge(e)||Nge(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=X$(this._rgb);return e&&(e.a=xo(e.a)),e}set rgb(e){this._rgb=g5(e)}rgbString(){return this._valid?Tge(this._rgb):void 0}hexString(){return this._valid?dge(this._rgb):void 0}hslString(){return this._valid?xge(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,i=e.rgb;let s;const a=n===s?.5:n,l=2*a-1,u=r.a-i.a,d=((l*u===-1?l:(l+u)/(1+l*u))+1)/2;s=1-d,r.r=255&d*r.r+s*i.r+.5,r.g=255&d*r.g+s*i.g+.5,r.b=255&d*r.b+s*i.b+.5,r.a=a*r.a+(1-a)*i.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=Age(this._rgb,e._rgb,n)),this}clone(){return new FA(this.rgb)}alpha(e){return this._rgb.a=rc(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Sg(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Dy(this._rgb,2,e),this}darken(e){return Dy(this._rgb,2,-e),this}saturate(e){return Dy(this._rgb,1,e),this}desaturate(e){return Dy(this._rgb,1,-e),this}rotate(e){return bge(this._rgb,e),this}};function yo(){}const Cge=(()=>{let t=0;return()=>t++})();function Kr(t){return t==null}function jr(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function vt(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function qo(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Aa(t,e){return qo(t)?t:e}function Dt(t,e){return typeof t>"u"?e:t}const Pge=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,Z$=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Qt(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function kt(t,e,n,r){let i,s,a;if(jr(t))for(s=t.length,i=0;i<s;i++)e.call(n,t[i],i);else if(vt(t))for(a=Object.keys(t),s=a.length,i=0;i<s;i++)e.call(n,t[a[i]],a[i])}function mb(t,e){let n,r,i,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(i=t[n],s=e[n],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function pb(t){if(jr(t))return t.map(pb);if(vt(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let i=0;for(;i<r;++i)e[n[i]]=pb(t[n[i]]);return e}return t}function J$(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function Ige(t,e,n,r){if(!J$(t))return;const i=e[t],s=n[t];vt(i)&&vt(s)?Up(i,s,r):e[t]=pb(s)}function Up(t,e,n){const r=jr(e)?e:[e],i=r.length;if(!vt(t))return t;n=n||{};const s=n.merger||Ige;let a;for(let l=0;l<i;++l){if(a=r[l],!vt(a))continue;const u=Object.keys(a);for(let d=0,f=u.length;d<f;++d)s(u[d],t,a,n)}return t}function hp(t,e){return Up(t,e,{merger:Oge})}function Oge(t,e,n){if(!J$(t))return;const r=e[t],i=n[t];vt(r)&&vt(i)?hp(r,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=pb(i))}const y5={"":t=>t,x:t=>t.x,y:t=>t.y};function jge(t){const e=t.split("."),n=[];let r="";for(const i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function Rge(t){const e=jge(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function zp(t,e){return(y5[e]||(y5[e]=Rge(e)))(t)}function cP(t){return t.charAt(0).toUpperCase()+t.slice(1)}const gb=t=>typeof t<"u",vc=t=>typeof t=="function",v5=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function kge(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Jt=Math.PI,Hn=2*Jt,yb=Number.POSITIVE_INFINITY,Mge=Jt/180,Zn=Jt/2,cu=Jt/4,b5=Jt*2/3,x5=Math.sign;function Dge(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((i,s)=>i-s).pop(),e}function Lge(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function vb(t){return!Lge(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function Tu(t){return t*(Jt/180)}function Vge(t){return t*(180/Jt)}function e7(t,e){const n=e.x-t.x,r=e.y-t.y,i=Math.sqrt(n*n+r*r);let s=Math.atan2(r,n);return s<-.5*Jt&&(s+=Hn),{angle:s,distance:i}}function Uge(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Ia(t){return(t%Hn+Hn)%Hn}function bb(t,e,n,r){const i=Ia(t),s=Ia(e),a=Ia(n),l=Ia(s-i),u=Ia(a-i),d=Ia(i-s),f=Ia(i-a);return i===s||i===a||r&&s===a||l>u&&d<f}function xs(t,e,n){return Math.max(e,Math.min(n,t))}function zge(t){return xs(t,-32768,32767)}function Km(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function uP(t,e,n){n=n||(a=>t[a]<e);let r=t.length-1,i=0,s;for(;r-i>1;)s=i+r>>1,n(s)?i=s:r=s;return{lo:i,hi:r}}const $A=(t,e,n,r)=>uP(t,n,r?i=>{const s=t[i][e];return s<n||s===n&&t[i+1][e]===n}:i=>t[i][e]<n),Bge=(t,e,n)=>uP(t,n,r=>t[r][e]>=n);function Fge(t,e,n){let r=0,i=t.length;for(;r<i&&t[r]<e;)r++;for(;i>r&&t[i-1]>n;)i--;return r>0||i<t.length?t.slice(r,i):t}const t7=["push","pop","shift","splice","unshift"];function $ge(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),t7.forEach(n=>{const r="_onData"+cP(n),i=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...s){const a=i.apply(this,s);return t._chartjs.listeners.forEach(l=>{typeof l[r]=="function"&&l[r](...s)}),a}})})}function w5(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(e);i!==-1&&r.splice(i,1),!(r.length>0)&&(t7.forEach(s=>{delete t[s]}),delete t._chartjs)}function qge(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const n7=(function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame})();function r7(t,e){let n=[],r=!1;return function(...i){n=i,r||(r=!0,n7.call(window,()=>{r=!1,t.apply(e,n)}))}}function Hge(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const i7=t=>t==="start"?"left":t==="end"?"right":"center",Bi=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,Wge=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e,Ly=t=>t===0||t===1,_5=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Hn/n)),E5=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Hn/n)+1,mp={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Zn)+1,easeOutSine:t=>Math.sin(t*Zn),easeInOutSine:t=>-.5*(Math.cos(Jt*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Ly(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Ly(t)?t:_5(t,.075,.3),easeOutElastic:t=>Ly(t)?t:E5(t,.075,.3),easeInOutElastic(t){return Ly(t)?t:t<.5?.5*_5(t*2,.1125,.45):.5+.5*E5(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-mp.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?mp.easeInBounce(t*2)*.5:mp.easeOutBounce(t*2-1)*.5+.5};function s7(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function S5(t){return s7(t)?t:new Q$(t)}function $E(t){return s7(t)?t:new Q$(t).saturate(.5).darken(.1).hexString()}const Kge=["x","y","borderWidth","radius","tension"],Gge=["color","borderColor","backgroundColor"];function Yge(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:Gge},numbers:{type:"number",properties:Kge}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function Xge(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const T5=new Map;function Qge(t,e){e=e||{};const n=t+JSON.stringify(e);let r=T5.get(n);return r||(r=new Intl.NumberFormat(t,e),T5.set(n,r)),r}function Zge(t,e,n){return Qge(e,n).format(t)}const Jge={values(t){return jr(t)?t:""+t}};var e0e={formatters:Jge};function t0e(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:e0e.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Gu=Object.create(null),qA=Object.create(null);function pp(t,e){if(!e)return t;const n=e.split(".");for(let r=0,i=n.length;r<i;++r){const s=n[r];t=t[s]||(t[s]=Object.create(null))}return t}function qE(t,e,n){return typeof e=="string"?Up(pp(t,e),n):Up(pp(t,""),e)}class n0e{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>$E(i.backgroundColor),this.hoverBorderColor=(r,i)=>$E(i.borderColor),this.hoverColor=(r,i)=>$E(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return qE(this,e,n)}get(e){return pp(this,e)}describe(e,n){return qE(qA,e,n)}override(e,n){return qE(Gu,e,n)}route(e,n,r,i){const s=pp(this,e),a=pp(this,r),l="_"+n;Object.defineProperties(s,{[l]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const u=this[l],d=a[i];return vt(u)?Object.assign({},d,u):Dt(u,d)},set(u){this[l]=u}}})}apply(e){e.forEach(n=>n(this))}}var In=new n0e({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Yge,Xge,t0e]);function r0e(t){return!t||Kr(t.size)||Kr(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function A5(t,e,n,r,i){let s=e[i];return s||(s=e[i]=t.measureText(i).width,n.push(i)),s>r&&(r=s),r}function uu(t,e,n){const r=t.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((e-i)*r)/r+i}function N5(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function C5(t,e,n,r){a7(t,e,n,r,null)}function a7(t,e,n,r,i){let s,a,l,u,d,f,m,y;const v=e.pointStyle,_=e.rotation,E=e.radius;let w=(_||0)*Mge;if(v&&typeof v=="object"&&(s=v.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(w),t.drawImage(v,-v.width/2,-v.height/2,v.width,v.height),t.restore();return}if(!(isNaN(E)||E<=0)){switch(t.beginPath(),v){default:i?t.ellipse(n,r,i/2,E,0,0,Hn):t.arc(n,r,E,0,Hn),t.closePath();break;case"triangle":f=i?i/2:E,t.moveTo(n+Math.sin(w)*f,r-Math.cos(w)*E),w+=b5,t.lineTo(n+Math.sin(w)*f,r-Math.cos(w)*E),w+=b5,t.lineTo(n+Math.sin(w)*f,r-Math.cos(w)*E),t.closePath();break;case"rectRounded":d=E*.516,u=E-d,a=Math.cos(w+cu)*u,m=Math.cos(w+cu)*(i?i/2-d:u),l=Math.sin(w+cu)*u,y=Math.sin(w+cu)*(i?i/2-d:u),t.arc(n-m,r-l,d,w-Jt,w-Zn),t.arc(n+y,r-a,d,w-Zn,w),t.arc(n+m,r+l,d,w,w+Zn),t.arc(n-y,r+a,d,w+Zn,w+Jt),t.closePath();break;case"rect":if(!_){u=Math.SQRT1_2*E,f=i?i/2:u,t.rect(n-f,r-u,2*f,2*u);break}w+=cu;case"rectRot":m=Math.cos(w)*(i?i/2:E),a=Math.cos(w)*E,l=Math.sin(w)*E,y=Math.sin(w)*(i?i/2:E),t.moveTo(n-m,r-l),t.lineTo(n+y,r-a),t.lineTo(n+m,r+l),t.lineTo(n-y,r+a),t.closePath();break;case"crossRot":w+=cu;case"cross":m=Math.cos(w)*(i?i/2:E),a=Math.cos(w)*E,l=Math.sin(w)*E,y=Math.sin(w)*(i?i/2:E),t.moveTo(n-m,r-l),t.lineTo(n+m,r+l),t.moveTo(n+y,r-a),t.lineTo(n-y,r+a);break;case"star":m=Math.cos(w)*(i?i/2:E),a=Math.cos(w)*E,l=Math.sin(w)*E,y=Math.sin(w)*(i?i/2:E),t.moveTo(n-m,r-l),t.lineTo(n+m,r+l),t.moveTo(n+y,r-a),t.lineTo(n-y,r+a),w+=cu,m=Math.cos(w)*(i?i/2:E),a=Math.cos(w)*E,l=Math.sin(w)*E,y=Math.sin(w)*(i?i/2:E),t.moveTo(n-m,r-l),t.lineTo(n+m,r+l),t.moveTo(n+y,r-a),t.lineTo(n-y,r+a);break;case"line":a=i?i/2:Math.cos(w)*E,l=Math.sin(w)*E,t.moveTo(n-a,r-l),t.lineTo(n+a,r+l);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(w)*(i?i/2:E),r+Math.sin(w)*E);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function o7(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function dP(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function fP(t){t.restore()}function i0e(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Kr(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function s0e(t,e,n,r,i){if(i.strikethrough||i.underline){const s=t.measureText(r),a=e-s.actualBoundingBoxLeft,l=e+s.actualBoundingBoxRight,u=n-s.actualBoundingBoxAscent,d=n+s.actualBoundingBoxDescent,f=i.strikethrough?(u+d)/2:d;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(a,f),t.lineTo(l,f),t.stroke()}}function a0e(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function xb(t,e,n,r,i,s={}){const a=jr(e)?e:[e],l=s.strokeWidth>0&&s.strokeColor!=="";let u,d;for(t.save(),t.font=i.string,i0e(t,s),u=0;u<a.length;++u)d=a[u],s.backdrop&&a0e(t,s.backdrop),l&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),Kr(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(d,n,r,s.maxWidth)),t.fillText(d,n,r,s.maxWidth),s0e(t,n,r,d,s),r+=Number(i.lineHeight);t.restore()}function HA(t,e){const{x:n,y:r,w:i,h:s,radius:a}=e;t.arc(n+a.topLeft,r+a.topLeft,a.topLeft,1.5*Jt,Jt,!0),t.lineTo(n,r+s-a.bottomLeft),t.arc(n+a.bottomLeft,r+s-a.bottomLeft,a.bottomLeft,Jt,Zn,!0),t.lineTo(n+i-a.bottomRight,r+s),t.arc(n+i-a.bottomRight,r+s-a.bottomRight,a.bottomRight,Zn,0,!0),t.lineTo(n+i,r+a.topRight),t.arc(n+i-a.topRight,r+a.topRight,a.topRight,0,-Zn,!0),t.lineTo(n+a.topLeft,r)}const o0e=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,l0e=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function c0e(t,e){const n=(""+t).match(o0e);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const u0e=t=>+t||0;function hP(t,e){const n={},r=vt(e),i=r?Object.keys(e):e,s=vt(t)?r?a=>Dt(t[a],t[e[a]]):a=>t[a]:()=>t;for(const a of i)n[a]=u0e(s(a));return n}function d0e(t){return hP(t,{top:"y",right:"x",bottom:"y",left:"x"})}function gp(t){return hP(t,["topLeft","topRight","bottomLeft","bottomRight"])}function ta(t){const e=d0e(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Ai(t,e){t=t||{},e=e||In.font;let n=Dt(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=Dt(t.style,e.style);r&&!(""+r).match(l0e)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:Dt(t.family,e.family),lineHeight:c0e(Dt(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:Dt(t.weight,e.weight),string:""};return i.string=r0e(i),i}function Vy(t,e,n,r){let i,s,a;for(i=0,s=t.length;i<s;++i)if(a=t[i],a!==void 0&&a!==void 0)return a}function f0e(t,e,n){const{min:r,max:i}=t,s=Z$(e,(i-r)/2),a=(l,u)=>n&&l===0?0:l+u;return{min:a(r,-Math.abs(s)),max:a(i,s)}}function mh(t,e){return Object.assign(Object.create(t),e)}function mP(t,e=[""],n,r,i=()=>t[0]){const s=n||t;typeof r>"u"&&(r=d7("_fallback",t));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:r,_getTarget:i,override:l=>mP([l,...t],e,s,r)};return new Proxy(a,{deleteProperty(l,u){return delete l[u],delete l._keys,delete t[0][u],!0},get(l,u){return c7(l,u,()=>x0e(u,e,t,l))},getOwnPropertyDescriptor(l,u){return Reflect.getOwnPropertyDescriptor(l._scopes[0],u)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(l,u){return I5(l).includes(u)},ownKeys(l){return I5(l)},set(l,u,d){const f=l._storage||(l._storage=i());return l[u]=f[u]=d,delete l._keys,!0}})}function Uf(t,e,n,r){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:l7(t,r),setContext:s=>Uf(t,s,n,r),override:s=>Uf(t.override(s),e,n,r)};return new Proxy(i,{deleteProperty(s,a){return delete s[a],delete t[a],!0},get(s,a,l){return c7(s,a,()=>m0e(s,a,l))},getOwnPropertyDescriptor(s,a){return s._descriptors.allKeys?Reflect.has(t,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,a)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,a){return Reflect.has(t,a)},ownKeys(){return Reflect.ownKeys(t)},set(s,a,l){return t[a]=l,delete s[a],!0}})}function l7(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:r,isScriptable:vc(n)?n:()=>n,isIndexable:vc(r)?r:()=>r}}const h0e=(t,e)=>t?t+cP(e):e,pP=(t,e)=>vt(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function c7(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const r=n();return t[e]=r,r}function m0e(t,e,n){const{_proxy:r,_context:i,_subProxy:s,_descriptors:a}=t;let l=r[e];return vc(l)&&a.isScriptable(e)&&(l=p0e(e,l,t,n)),jr(l)&&l.length&&(l=g0e(e,l,t,a.isIndexable)),pP(e,l)&&(l=Uf(l,i,s&&s[e],a)),l}function p0e(t,e,n,r){const{_proxy:i,_context:s,_subProxy:a,_stack:l}=n;if(l.has(t))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+t);l.add(t);let u=e(s,a||r);return l.delete(t),pP(t,u)&&(u=gP(i._scopes,i,t,u)),u}function g0e(t,e,n,r){const{_proxy:i,_context:s,_subProxy:a,_descriptors:l}=n;if(typeof s.index<"u"&&r(t))return e[s.index%e.length];if(vt(e[0])){const u=e,d=i._scopes.filter(f=>f!==u);e=[];for(const f of u){const m=gP(d,i,t,f);e.push(Uf(m,s,a&&a[t],l))}}return e}function u7(t,e,n){return vc(t)?t(e,n):t}const y0e=(t,e)=>t===!0?e:typeof t=="string"?zp(e,t):void 0;function v0e(t,e,n,r,i){for(const s of e){const a=y0e(n,s);if(a){t.add(a);const l=u7(a._fallback,n,i);if(typeof l<"u"&&l!==n&&l!==r)return l}else if(a===!1&&typeof r<"u"&&n!==r)return null}return!1}function gP(t,e,n,r){const i=e._rootScopes,s=u7(e._fallback,n,r),a=[...t,...i],l=new Set;l.add(r);let u=P5(l,a,n,s||n,r);return u===null||typeof s<"u"&&s!==n&&(u=P5(l,a,s,u,r),u===null)?!1:mP(Array.from(l),[""],i,s,()=>b0e(e,n,r))}function P5(t,e,n,r,i){for(;n;)n=v0e(t,e,n,r,i);return n}function b0e(t,e,n){const r=t._getTarget();e in r||(r[e]={});const i=r[e];return jr(i)&&vt(n)?n:i||{}}function x0e(t,e,n,r){let i;for(const s of e)if(i=d7(h0e(s,t),n),typeof i<"u")return pP(t,i)?gP(n,r,t,i):i}function d7(t,e){for(const n of e){if(!n)continue;const r=n[t];if(typeof r<"u")return r}}function I5(t){let e=t._keys;return e||(e=t._keys=w0e(t._scopes)),e}function w0e(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(i=>!i.startsWith("_")))e.add(r);return Array.from(e)}function yP(){return typeof window<"u"&&typeof document<"u"}function vP(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function wb(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const rw=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function _0e(t,e){return rw(t).getPropertyValue(e)}const E0e=["top","right","bottom","left"];function ju(t,e,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const s=E0e[i];r[s]=parseFloat(t[e+"-"+s+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const S0e=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function T0e(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:i,offsetY:s}=r;let a=!1,l,u;if(S0e(i,s,t.target))l=i,u=s;else{const d=e.getBoundingClientRect();l=r.clientX-d.left,u=r.clientY-d.top,a=!0}return{x:l,y:u,box:a}}function mu(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,i=rw(n),s=i.boxSizing==="border-box",a=ju(i,"padding"),l=ju(i,"border","width"),{x:u,y:d,box:f}=T0e(t,n),m=a.left+(f&&l.left),y=a.top+(f&&l.top);let{width:v,height:_}=e;return s&&(v-=a.width+l.width,_-=a.height+l.height),{x:Math.round((u-m)/v*n.width/r),y:Math.round((d-y)/_*n.height/r)}}function A0e(t,e,n){let r,i;if(e===void 0||n===void 0){const s=t&&vP(t);if(!s)e=t.clientWidth,n=t.clientHeight;else{const a=s.getBoundingClientRect(),l=rw(s),u=ju(l,"border","width"),d=ju(l,"padding");e=a.width-d.width-u.width,n=a.height-d.height-u.height,r=wb(l.maxWidth,s,"clientWidth"),i=wb(l.maxHeight,s,"clientHeight")}}return{width:e,height:n,maxWidth:r||yb,maxHeight:i||yb}}const Xl=t=>Math.round(t*10)/10;function N0e(t,e,n,r){const i=rw(t),s=ju(i,"margin"),a=wb(i.maxWidth,t,"clientWidth")||yb,l=wb(i.maxHeight,t,"clientHeight")||yb,u=A0e(t,e,n);let{width:d,height:f}=u;if(i.boxSizing==="content-box"){const y=ju(i,"border","width"),v=ju(i,"padding");d-=v.width+y.width,f-=v.height+y.height}return d=Math.max(0,d-s.width),f=Math.max(0,r?d/r:f-s.height),d=Xl(Math.min(d,a,u.maxWidth)),f=Xl(Math.min(f,l,u.maxHeight)),d&&!f&&(f=Xl(d/2)),(e!==void 0||n!==void 0)&&r&&u.height&&f>u.height&&(f=u.height,d=Xl(Math.floor(f*r))),{width:d,height:f}}function O5(t,e,n){const r=e||1,i=Xl(t.height*r),s=Xl(t.width*r);t.height=Xl(t.height),t.width=Xl(t.width);const a=t.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height=`${t.height}px`,a.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||a.height!==i||a.width!==s?(t.currentDevicePixelRatio=r,a.height=i,a.width=s,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const C0e=(function(){let t=!1;try{const e={get passive(){return t=!0,!1}};yP()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t})();function j5(t,e){const n=_0e(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}const P0e=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},I0e=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Af(t,e,n){return t?P0e(e,n):I0e()}function f7(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function h7(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function Uy(t,e,n){return t.options.clip?t[n]:e[n]}function O0e(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:Uy(n,e,"left"),right:Uy(n,e,"right"),top:Uy(r,e,"top"),bottom:Uy(r,e,"bottom")}:e}function j0e(t,e){const n=e._clip;if(n.disabled)return!1;const r=O0e(e,t.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:r.bottom+(n.bottom===!0?0:n.bottom)}}class R0e{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,i){const s=n.listeners[i],a=n.duration;s.forEach(l=>l({chart:e,initial:n.initial,numSteps:a,currentStep:Math.min(r-n.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=n7.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const s=r.items;let a=s.length-1,l=!1,u;for(;a>=0;--a)u=s[a],u._active?(u._total>r.duration&&(r.duration=u._total),u.tick(e),l=!0):(s[a]=s[s.length-1],s.pop());l&&(i.draw(),this._notify(i,r,e,"progress")),s.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),n+=s.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var vo=new R0e;const R5="transparent",k0e={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=S5(t||R5),i=r.valid&&S5(e||R5);return i&&i.valid?i.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class M0e{constructor(e,n,r,i){const s=n[r];i=Vy([e.to,i,s,e.from]);const a=Vy([e.from,s,i]);this._active=!0,this._fn=e.fn||k0e[e.type||typeof a],this._easing=mp[e.easing]||mp.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=a,this._to=i,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const i=this._target[this._prop],s=r-this._start,a=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=Vy([e.to,n,i,e.from]),this._from=Vy([e.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,i=this._prop,s=this._from,a=this._loop,l=this._to;let u;if(this._active=s!==l&&(a||n<r),!this._active){this._target[i]=l,this._notify(!0);return}if(n<0){this._target[i]=s;return}u=n/r%2,u=a&&u>1?2-u:u,u=this._easing(Math.min(1,Math.max(0,u))),this._target[i]=this._fn(s,l,u)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][n]()}}class m7{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!vt(e))return;const n=Object.keys(In.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const s=e[i];if(!vt(s))return;const a={};for(const l of n)a[l]=s[l];(jr(s.properties)&&s.properties||[i]).forEach(l=>{(l===i||!r.has(l))&&r.set(l,a)})})}_animateOptions(e,n){const r=n.options,i=L0e(e,r);if(!i)return[];const s=this._createAnimations(i,r);return r.$shared&&D0e(e.options.$animations,r).then(()=>{e.options=r},()=>{}),s}_createAnimations(e,n){const r=this._properties,i=[],s=e.$animations||(e.$animations={}),a=Object.keys(n),l=Date.now();let u;for(u=a.length-1;u>=0;--u){const d=a[u];if(d.charAt(0)==="$")continue;if(d==="options"){i.push(...this._animateOptions(e,n));continue}const f=n[d];let m=s[d];const y=r.get(d);if(m)if(y&&m.active()){m.update(y,f,l);continue}else m.cancel();if(!y||!y.duration){e[d]=f;continue}s[d]=m=new M0e(y,e,d,f),i.push(m)}return i}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return vo.add(this._chart,r),!0}}function D0e(t,e){const n=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const s=t[r[i]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function L0e(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function k5(t,e){const n=t&&t.options||{},r=n.reverse,i=n.min===void 0?e:0,s=n.max===void 0?e:0;return{start:r?s:i,end:r?i:s}}function V0e(t,e,n){if(n===!1)return!1;const r=k5(t,n),i=k5(e,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function U0e(t){let e,n,r,i;return vt(t)?(e=t.top,n=t.right,r=t.bottom,i=t.left):e=n=r=i=t,{top:e,right:n,bottom:r,left:i,disabled:t===!1}}function p7(t,e){const n=[],r=t._getSortedDatasetMetas(e);let i,s;for(i=0,s=r.length;i<s;++i)n.push(r[i].index);return n}function M5(t,e,n,r={}){const i=t.keys,s=r.mode==="single";let a,l,u,d;if(e===null)return;let f=!1;for(a=0,l=i.length;a<l;++a){if(u=+i[a],u===n){if(f=!0,r.all)continue;break}d=t.values[u],qo(d)&&(s||e===0||x5(e)===x5(d))&&(e+=d)}return!f&&!r.all?0:e}function z0e(t,e){const{iScale:n,vScale:r}=e,i=n.axis==="x"?"x":"y",s=r.axis==="x"?"x":"y",a=Object.keys(t),l=new Array(a.length);let u,d,f;for(u=0,d=a.length;u<d;++u)f=a[u],l[u]={[i]:f,[s]:t[f]};return l}function HE(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function B0e(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function F0e(t){const{min:e,max:n,minDefined:r,maxDefined:i}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function $0e(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function D5(t,e,n,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const s=t[i.index];if(n&&s>0||!n&&s<0)return i.index}return null}function L5(t,e){const{chart:n,_cachedMeta:r}=t,i=n._stacks||(n._stacks={}),{iScale:s,vScale:a,index:l}=r,u=s.axis,d=a.axis,f=B0e(s,a,r),m=e.length;let y;for(let v=0;v<m;++v){const _=e[v],{[u]:E,[d]:w}=_,A=_._stacks||(_._stacks={});y=A[d]=$0e(i,f,E),y[l]=w,y._top=D5(y,a,!0,r.type),y._bottom=D5(y,a,!1,r.type);const C=y._visualValues||(y._visualValues={});C[l]=w}}function WE(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function q0e(t,e){return mh(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function H0e(t,e,n){return mh(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Nm(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const i of e){const s=i._stacks;if(!s||s[r]===void 0||s[r][n]===void 0)return;delete s[r][n],s[r]._visualValues!==void 0&&s[r]._visualValues[n]!==void 0&&delete s[r]._visualValues[n]}}}const KE=t=>t==="reset"||t==="none",V5=(t,e)=>e?t:Object.assign({},t),W0e=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:p7(n,!0),values:null};class g7{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=HE(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Nm(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),i=(m,y,v,_)=>m==="x"?y:m==="r"?_:v,s=n.xAxisID=Dt(r.xAxisID,WE(e,"x")),a=n.yAxisID=Dt(r.yAxisID,WE(e,"y")),l=n.rAxisID=Dt(r.rAxisID,WE(e,"r")),u=n.indexAxis,d=n.iAxisID=i(u,s,a,l),f=n.vAxisID=i(u,a,s,l);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(a),n.rScale=this.getScaleForId(l),n.iScale=this.getScaleForId(d),n.vScale=this.getScaleForId(f)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&w5(this._data,this),e._stacked&&Nm(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(vt(n)){const i=this._cachedMeta;this._data=z0e(n,i)}else if(r!==n){if(r){w5(r,this);const i=this._cachedMeta;Nm(i),i._parsed=[]}n&&Object.isExtensible(n)&&$ge(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const s=n._stacked;n._stacked=HE(n.vScale,n),n.stack!==r.stack&&(i=!0,Nm(n),n.stack=r.stack),this._resyncElements(e),(i||s!==n._stacked)&&(L5(this,n._parsed),n._stacked=HE(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:i}=this,{iScale:s,_stacked:a}=r,l=s.axis;let u=e===0&&n===i.length?!0:r._sorted,d=e>0&&r._parsed[e-1],f,m,y;if(this._parsing===!1)r._parsed=i,r._sorted=!0,y=i;else{jr(i[e])?y=this.parseArrayData(r,i,e,n):vt(i[e])?y=this.parseObjectData(r,i,e,n):y=this.parsePrimitiveData(r,i,e,n);const v=()=>m[l]===null||d&&m[l]<d[l];for(f=0;f<n;++f)r._parsed[f+e]=m=y[f],u&&(v()&&(u=!1),d=m);r._sorted=u}a&&L5(this,y)}parsePrimitiveData(e,n,r,i){const{iScale:s,vScale:a}=e,l=s.axis,u=a.axis,d=s.getLabels(),f=s===a,m=new Array(i);let y,v,_;for(y=0,v=i;y<v;++y)_=y+r,m[y]={[l]:f||s.parse(d[_],_),[u]:a.parse(n[_],_)};return m}parseArrayData(e,n,r,i){const{xScale:s,yScale:a}=e,l=new Array(i);let u,d,f,m;for(u=0,d=i;u<d;++u)f=u+r,m=n[f],l[u]={x:s.parse(m[0],f),y:a.parse(m[1],f)};return l}parseObjectData(e,n,r,i){const{xScale:s,yScale:a}=e,{xAxisKey:l="x",yAxisKey:u="y"}=this._parsing,d=new Array(i);let f,m,y,v;for(f=0,m=i;f<m;++f)y=f+r,v=n[y],d[f]={x:s.parse(zp(v,l),y),y:a.parse(zp(v,u),y)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const i=this.chart,s=this._cachedMeta,a=n[e.axis],l={keys:p7(i,!0),values:n._stacks[e.axis]._visualValues};return M5(l,a,s.index,{mode:r})}updateRangeFromParsed(e,n,r,i){const s=r[n.axis];let a=s===null?NaN:s;const l=i&&r._stacks[n.axis];i&&l&&(i.values=l,a=M5(i,s,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,n){const r=this._cachedMeta,i=r._parsed,s=r._sorted&&e===r.iScale,a=i.length,l=this._getOtherScale(e),u=W0e(n,r,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:f,max:m}=F0e(l);let y,v;function _(){v=i[y];const E=v[l.axis];return!qo(v[e.axis])||f>E||m<E}for(y=0;y<a&&!(!_()&&(this.updateRangeFromParsed(d,e,v,u),s));++y);if(s){for(y=a-1;y>=0;--y)if(!_()){this.updateRangeFromParsed(d,e,v,u);break}}return d}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let i,s,a;for(i=0,s=n.length;i<s;++i)a=n[i][e.axis],qo(a)&&r.push(a);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,i=n.vScale,s=this.getParsed(e);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=U0e(Dt(this.options.clip,V0e(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,i=r.data||[],s=n.chartArea,a=[],l=this._drawStart||0,u=this._drawCount||i.length-l,d=this.options.drawActiveElementsOnTop;let f;for(r.dataset&&r.dataset.draw(e,s,l,u),f=l;f<l+u;++f){const m=i[f];m.hidden||(m.active&&d?a.push(m):m.draw(e,s))}for(f=0;f<a.length;++f)a[f].draw(e,s)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const i=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];s=a.$context||(a.$context=H0e(this.getContext(),e,a)),s.parsed=this.getParsed(e),s.raw=i.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=q0e(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=r,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const i=n==="active",s=this._cachedDataOpts,a=e+"-"+n,l=s[a],u=this.enableOptionSharing&&gb(r);if(l)return V5(l,u);const d=this.chart.config,f=d.datasetElementScopeKeys(this._type,e),m=i?[`${e}Hover`,"hover",e,""]:[e,""],y=d.getOptionScopes(this.getDataset(),f),v=Object.keys(In.elements[e]),_=()=>this.getContext(r,i,n),E=d.resolveNamedOptions(y,v,_,m);return E.$shared&&(E.$shared=u,s[a]=Object.freeze(V5(E,u))),E}_resolveAnimations(e,n,r){const i=this.chart,s=this._cachedDataOpts,a=`animation-${n}`,l=s[a];if(l)return l;let u;if(i.options.animation!==!1){const f=this.chart.config,m=f.datasetAnimationScopeKeys(this._type,n),y=f.getOptionScopes(this.getDataset(),m);u=f.createResolver(y,this.getContext(e,r,n))}const d=new m7(i,u&&u.animations);return u&&u._cacheable&&(s[a]=Object.freeze(d)),d}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||KE(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),i=this._sharedOptions,s=this.getSharedOptions(r),a=this.includeOptions(n,s)||s!==i;return this.updateSharedOptions(s,n,r),{sharedOptions:s,includeOptions:a}}updateElement(e,n,r,i){KE(i)?Object.assign(e,r):this._resolveAnimations(n,i).update(e,r)}updateSharedOptions(e,n,r){e&&!KE(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,i){e.active=i;const s=this.getStyle(n,i);this._resolveAnimations(n,r,i).update(e,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[l,u,d]of this._syncList)this[l](u,d);this._syncList=[];const i=r.length,s=n.length,a=Math.min(s,i);a&&this.parse(0,a),s>i?this._insertElements(i,s-i,e):s<i&&this._removeElements(s,i-s)}_insertElements(e,n,r=!0){const i=this._cachedMeta,s=i.data,a=e+n;let l;const u=d=>{for(d.length+=n,l=d.length-1;l>=a;l--)d[l]=d[l-n]};for(u(s),l=e;l<a;++l)s[l]=new this.dataElementType;this._parsing&&u(i._parsed),this.parse(e,n),r&&this.updateElements(s,e,n,"reset")}updateElements(e,n,r,i){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(e,n);r._stacked&&Nm(r,i)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,i]=e;this[n](r,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function K0e(t,e,n){let r=1,i=1,s=0,a=0;if(e<Hn){const l=t,u=l+e,d=Math.cos(l),f=Math.sin(l),m=Math.cos(u),y=Math.sin(u),v=(P,L,M)=>bb(P,l,u,!0)?1:Math.max(L,L*n,M,M*n),_=(P,L,M)=>bb(P,l,u,!0)?-1:Math.min(L,L*n,M,M*n),E=v(0,d,m),w=v(Zn,f,y),A=_(Jt,d,m),C=_(Jt+Zn,f,y);r=(E-A)/2,i=(w-C)/2,s=-(E+A)/2,a=-(w+C)/2}return{ratioX:r,ratioY:i,offsetX:s,offsetY:a}}class G0e extends g7{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data,{labels:{pointStyle:r,textAlign:i,color:s,useBorderRadius:a,borderRadius:l}}=e.legend.options;return n.labels.length&&n.datasets.length?n.labels.map((u,d)=>{const m=e.getDatasetMeta(0).controller.getStyle(d);return{text:u,fillStyle:m.backgroundColor,fontColor:s,hidden:!e.getDataVisibility(d),lineDash:m.borderDash,lineDashOffset:m.borderDashOffset,lineJoin:m.borderJoinStyle,lineWidth:m.borderWidth,strokeStyle:m.borderColor,textAlign:i,pointStyle:r,borderRadius:a&&(l||m.borderRadius),index:d}}):[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}};constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const r=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=r;else{let s=u=>+r[u];if(vt(r[e])){const{key:u="value"}=this._parsing;s=d=>+zp(r[d],u)}let a,l;for(a=e,l=e+n;a<l;++a)i._parsed[a]=s(a)}}_getRotation(){return Tu(this.options.rotation-90)}_getCircumference(){return Tu(this.options.circumference)}_getRotationExtents(){let e=Hn,n=-Hn;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const i=this.chart.getDatasetMeta(r).controller,s=i._getRotation(),a=i._getCircumference();e=Math.min(e,s),n=Math.max(n,s+a)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:r}=n,i=this._cachedMeta,s=i.data,a=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,l=Math.max((Math.min(r.width,r.height)-a)/2,0),u=Math.min(Pge(this.options.cutout,l),1),d=this._getRingWeight(this.index),{circumference:f,rotation:m}=this._getRotationExtents(),{ratioX:y,ratioY:v,offsetX:_,offsetY:E}=K0e(m,f,u),w=(r.width-a)/y,A=(r.height-a)/v,C=Math.max(Math.min(w,A)/2,0),P=Z$(this.options.radius,C),L=Math.max(P*u,0),M=(P-L)/this._getVisibleDatasetWeightTotal();this.offsetX=_*P,this.offsetY=E*P,i.total=this.calculateTotal(),this.outerRadius=P-M*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-M*d,0),this.updateElements(s,0,s.length,e)}_circumference(e,n){const r=this.options,i=this._cachedMeta,s=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*s/Hn)}updateElements(e,n,r,i){const s=i==="reset",a=this.chart,l=a.chartArea,d=a.options.animation,f=(l.left+l.right)/2,m=(l.top+l.bottom)/2,y=s&&d.animateScale,v=y?0:this.innerRadius,_=y?0:this.outerRadius,{sharedOptions:E,includeOptions:w}=this._getSharedOptions(n,i);let A=this._getRotation(),C;for(C=0;C<n;++C)A+=this._circumference(C,s);for(C=n;C<n+r;++C){const P=this._circumference(C,s),L=e[C],M={x:f+this.offsetX,y:m+this.offsetY,startAngle:A,endAngle:A+P,circumference:P,outerRadius:_,innerRadius:v};w&&(M.options=E||this.resolveDataElementOptions(C,L.active?"active":i)),A+=P,this.updateElement(L,C,M,i)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let r=0,i;for(i=0;i<n.length;i++){const s=e._parsed[i];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(i)&&!n[i].hidden&&(r+=Math.abs(s))}return r}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?Hn*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=Zge(n._parsed[e],r.options.locale);return{label:i[e]||"",value:s}}getMaxBorderWidth(e){let n=0;const r=this.chart;let i,s,a,l,u;if(!e){for(i=0,s=r.data.datasets.length;i<s;++i)if(r.isDatasetVisible(i)){a=r.getDatasetMeta(i),e=a.data,l=a.controller;break}}if(!e)return 0;for(i=0,s=e.length;i<s;++i)u=l.resolveDataElementOptions(i),u.borderAlign!=="inner"&&(n=Math.max(n,u.borderWidth||0,u.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let r=0,i=e.length;r<i;++r){const s=this.resolveDataElementOptions(r);n=Math.max(n,s.offset||0,s.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(e){return Math.max(Dt(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}function du(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class bP{static override(e){Object.assign(bP.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return du()}parse(){return du()}format(){return du()}add(){return du()}diff(){return du()}startOf(){return du()}endOf(){return du()}}var Y0e={_date:bP};function X0e(t,e,n,r){const{controller:i,data:s,_sorted:a}=t,l=i._cachedMeta.iScale,u=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(l&&e===l.axis&&e!=="r"&&a&&s.length){const d=l._reversePixels?Bge:$A;if(r){if(i._sharedOptions){const f=s[0],m=typeof f.getRange=="function"&&f.getRange(e);if(m){const y=d(s,e,n-m),v=d(s,e,n+m);return{lo:y.lo,hi:v.hi}}}}else{const f=d(s,e,n);if(u){const{vScale:m}=i._cachedMeta,{_parsed:y}=t,v=y.slice(0,f.lo+1).reverse().findIndex(E=>!Kr(E[m.axis]));f.lo-=Math.max(0,v);const _=y.slice(f.hi).findIndex(E=>!Kr(E[m.axis]));f.hi+=Math.max(0,_)}return f}}return{lo:0,hi:s.length-1}}function iw(t,e,n,r,i){const s=t.getSortedVisibleDatasetMetas(),a=n[e];for(let l=0,u=s.length;l<u;++l){const{index:d,data:f}=s[l],{lo:m,hi:y}=X0e(s[l],e,a,i);for(let v=m;v<=y;++v){const _=f[v];_.skip||r(_,d,v)}}}function Q0e(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,i){const s=e?Math.abs(r.x-i.x):0,a=n?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(a,2))}}function GE(t,e,n,r,i){const s=[];return!i&&!t.isPointInArea(e)||iw(t,n,e,function(l,u,d){!i&&!o7(l,t.chartArea,0)||l.inRange(e.x,e.y,r)&&s.push({element:l,datasetIndex:u,index:d})},!0),s}function Z0e(t,e,n,r){let i=[];function s(a,l,u){const{startAngle:d,endAngle:f}=a.getProps(["startAngle","endAngle"],r),{angle:m}=e7(a,{x:e.x,y:e.y});bb(m,d,f)&&i.push({element:a,datasetIndex:l,index:u})}return iw(t,n,e,s),i}function J0e(t,e,n,r,i,s){let a=[];const l=Q0e(n);let u=Number.POSITIVE_INFINITY;function d(f,m,y){const v=f.inRange(e.x,e.y,i);if(r&&!v)return;const _=f.getCenterPoint(i);if(!(!!s||t.isPointInArea(_))&&!v)return;const w=l(e,_);w<u?(a=[{element:f,datasetIndex:m,index:y}],u=w):w===u&&a.push({element:f,datasetIndex:m,index:y})}return iw(t,n,e,d),a}function YE(t,e,n,r,i,s){return!s&&!t.isPointInArea(e)?[]:n==="r"&&!r?Z0e(t,e,n,i):J0e(t,e,n,r,i,s)}function U5(t,e,n,r,i){const s=[],a=n==="x"?"inXRange":"inYRange";let l=!1;return iw(t,n,e,(u,d,f)=>{u[a]&&u[a](e[n],i)&&(s.push({element:u,datasetIndex:d,index:f}),l=l||u.inRange(e.x,e.y,i))}),r&&!l?[]:s}var eye={modes:{index(t,e,n,r){const i=mu(e,t),s=n.axis||"x",a=n.includeInvisible||!1,l=n.intersect?GE(t,i,s,r,a):YE(t,i,s,!1,r,a),u=[];return l.length?(t.getSortedVisibleDatasetMetas().forEach(d=>{const f=l[0].index,m=d.data[f];m&&!m.skip&&u.push({element:m,datasetIndex:d.index,index:f})}),u):[]},dataset(t,e,n,r){const i=mu(e,t),s=n.axis||"xy",a=n.includeInvisible||!1;let l=n.intersect?GE(t,i,s,r,a):YE(t,i,s,!1,r,a);if(l.length>0){const u=l[0].datasetIndex,d=t.getDatasetMeta(u).data;l=[];for(let f=0;f<d.length;++f)l.push({element:d[f],datasetIndex:u,index:f})}return l},point(t,e,n,r){const i=mu(e,t),s=n.axis||"xy",a=n.includeInvisible||!1;return GE(t,i,s,r,a)},nearest(t,e,n,r){const i=mu(e,t),s=n.axis||"xy",a=n.includeInvisible||!1;return YE(t,i,s,n.intersect,r,a)},x(t,e,n,r){const i=mu(e,t);return U5(t,i,"x",n.intersect,r)},y(t,e,n,r){const i=mu(e,t);return U5(t,i,"y",n.intersect,r)}}};const y7=["left","top","right","bottom"];function Cm(t,e){return t.filter(n=>n.pos===e)}function z5(t,e){return t.filter(n=>y7.indexOf(n.pos)===-1&&n.box.axis===e)}function Pm(t,e){return t.sort((n,r)=>{const i=e?r:n,s=e?n:r;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function tye(t){const e=[];let n,r,i,s,a,l;for(n=0,r=(t||[]).length;n<r;++n)i=t[n],{position:s,options:{stack:a,stackWeight:l=1}}=i,e.push({index:n,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:a&&s+a,stackWeight:l});return e}function nye(t){const e={};for(const n of t){const{stack:r,pos:i,stackWeight:s}=n;if(!r||!y7.includes(i))continue;const a=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=s}return e}function rye(t,e){const n=nye(t),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let s,a,l;for(s=0,a=t.length;s<a;++s){l=t[s];const{fullSize:u}=l.box,d=n[l.stack],f=d&&l.stackWeight/d.weight;l.horizontal?(l.width=f?f*r:u&&e.availableWidth,l.height=i):(l.width=r,l.height=f?f*i:u&&e.availableHeight)}return n}function iye(t){const e=tye(t),n=Pm(e.filter(d=>d.box.fullSize),!0),r=Pm(Cm(e,"left"),!0),i=Pm(Cm(e,"right")),s=Pm(Cm(e,"top"),!0),a=Pm(Cm(e,"bottom")),l=z5(e,"x"),u=z5(e,"y");return{fullSize:n,leftAndTop:r.concat(s),rightAndBottom:i.concat(u).concat(a).concat(l),chartArea:Cm(e,"chartArea"),vertical:r.concat(i).concat(u),horizontal:s.concat(a).concat(l)}}function B5(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function v7(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function sye(t,e,n,r){const{pos:i,box:s}=n,a=t.maxPadding;if(!vt(i)){n.size&&(t[i]-=n.size);const m=r[n.stack]||{size:0,count:1};m.size=Math.max(m.size,n.horizontal?s.height:s.width),n.size=m.size/m.count,t[i]+=n.size}s.getPadding&&v7(a,s.getPadding());const l=Math.max(0,e.outerWidth-B5(a,t,"left","right")),u=Math.max(0,e.outerHeight-B5(a,t,"top","bottom")),d=l!==t.w,f=u!==t.h;return t.w=l,t.h=u,n.horizontal?{same:d,other:f}:{same:f,other:d}}function aye(t){const e=t.maxPadding;function n(r){const i=Math.max(e[r]-t[r],0);return t[r]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function oye(t,e){const n=e.maxPadding;function r(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(a=>{s[a]=Math.max(e[a],n[a])}),s}return r(t?["left","right"]:["top","bottom"])}function Gm(t,e,n,r){const i=[];let s,a,l,u,d,f;for(s=0,a=t.length,d=0;s<a;++s){l=t[s],u=l.box,u.update(l.width||e.w,l.height||e.h,oye(l.horizontal,e));const{same:m,other:y}=sye(e,n,l,r);d|=m&&i.length,f=f||y,u.fullSize||i.push(l)}return d&&Gm(i,e,n,r)||f}function zy(t,e,n,r,i){t.top=n,t.left=e,t.right=e+r,t.bottom=n+i,t.width=r,t.height=i}function F5(t,e,n,r){const i=n.padding;let{x:s,y:a}=e;for(const l of t){const u=l.box,d=r[l.stack]||{placed:0,weight:1},f=l.stackWeight/d.weight||1;if(l.horizontal){const m=e.w*f,y=d.size||u.height;gb(d.start)&&(a=d.start),u.fullSize?zy(u,i.left,a,n.outerWidth-i.right-i.left,y):zy(u,e.left+d.placed,a,m,y),d.start=a,d.placed+=m,a=u.bottom}else{const m=e.h*f,y=d.size||u.width;gb(d.start)&&(s=d.start),u.fullSize?zy(u,s,i.top,y,n.outerHeight-i.bottom-i.top):zy(u,s,e.top+d.placed,y,m),d.start=s,d.placed+=m,s=u.right}}e.x=s,e.y=a}var Ql={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const i=ta(t.options.layout.padding),s=Math.max(e-i.width,0),a=Math.max(n-i.height,0),l=iye(t.boxes),u=l.vertical,d=l.horizontal;kt(t.boxes,E=>{typeof E.beforeLayout=="function"&&E.beforeLayout()});const f=u.reduce((E,w)=>w.box.options&&w.box.options.display===!1?E:E+1,0)||1,m=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:s,availableHeight:a,vBoxMaxWidth:s/2/f,hBoxMaxHeight:a/2}),y=Object.assign({},i);v7(y,ta(r));const v=Object.assign({maxPadding:y,w:s,h:a,x:i.left,y:i.top},i),_=rye(u.concat(d),m);Gm(l.fullSize,v,m,_),Gm(u,v,m,_),Gm(d,v,m,_)&&Gm(u,v,m,_),aye(v),F5(l.leftAndTop,v,m,_),v.x+=v.w,v.y+=v.h,F5(l.rightAndBottom,v,m,_),t.chartArea={left:v.left,top:v.top,right:v.left+v.w,bottom:v.top+v.h,height:v.h,width:v.w},kt(l.chartArea,E=>{const w=E.box;Object.assign(w,t.chartArea),w.update(v.w,v.h,{left:0,top:0,right:0,bottom:0})})}};class b7{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,i){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,i?Math.floor(n/i):r)}}isAttached(e){return!0}updateConfig(e){}}class lye extends b7{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Av="$chartjs",cye={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},$5=t=>t===null||t==="";function uye(t,e){const n=t.style,r=t.getAttribute("height"),i=t.getAttribute("width");if(t[Av]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",$5(i)){const s=j5(t,"width");s!==void 0&&(t.width=s)}if($5(r))if(t.style.height==="")t.height=t.width/(e||2);else{const s=j5(t,"height");s!==void 0&&(t.height=s)}return t}const x7=C0e?{passive:!0}:!1;function dye(t,e,n){t&&t.addEventListener(e,n,x7)}function fye(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,x7)}function hye(t,e){const n=cye[t.type]||t.type,{x:r,y:i}=mu(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:i!==void 0?i:null}}function _b(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function mye(t,e,n){const r=t.canvas,i=new MutationObserver(s=>{let a=!1;for(const l of s)a=a||_b(l.addedNodes,r),a=a&&!_b(l.removedNodes,r);a&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function pye(t,e,n){const r=t.canvas,i=new MutationObserver(s=>{let a=!1;for(const l of s)a=a||_b(l.removedNodes,r),a=a&&!_b(l.addedNodes,r);a&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const Bp=new Map;let q5=0;function w7(){const t=window.devicePixelRatio;t!==q5&&(q5=t,Bp.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function gye(t,e){Bp.size||window.addEventListener("resize",w7),Bp.set(t,e)}function yye(t){Bp.delete(t),Bp.size||window.removeEventListener("resize",w7)}function vye(t,e,n){const r=t.canvas,i=r&&vP(r);if(!i)return;const s=r7((l,u)=>{const d=i.clientWidth;n(l,u),d<i.clientWidth&&n()},window),a=new ResizeObserver(l=>{const u=l[0],d=u.contentRect.width,f=u.contentRect.height;d===0&&f===0||s(d,f)});return a.observe(i),gye(t,s),a}function XE(t,e,n){n&&n.disconnect(),e==="resize"&&yye(t)}function bye(t,e,n){const r=t.canvas,i=r7(s=>{t.ctx!==null&&n(hye(s,t))},t);return dye(r,e,i),i}class xye extends b7{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(uye(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[Av])return!1;const r=n[Av].initial;["height","width"].forEach(s=>{const a=r[s];Kr(a)?n.removeAttribute(s):n.setAttribute(s,a)});const i=r.style||{};return Object.keys(i).forEach(s=>{n.style[s]=i[s]}),n.width=n.width,delete n[Av],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const i=e.$proxies||(e.$proxies={}),a={attach:mye,detach:pye,resize:vye}[n]||bye;i[n]=a(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),i=r[n];if(!i)return;({attach:XE,detach:XE,resize:XE}[n]||fye)(e,n,i),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,i){return N0e(e,n,r,i)}isAttached(e){const n=e&&vP(e);return!!(n&&n.isConnected)}}function wye(t){return!yP()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?lye:xye}let Tg=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return vb(this.x)&&vb(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const i={};return e.forEach(s=>{i[s]=r[s]&&r[s].active()?r[s]._to:this[s]}),i}};function _ye(t,e){const n=t.options.ticks,r=Eye(t),i=Math.min(n.maxTicksLimit||r,r),s=n.major.enabled?Tye(e):[],a=s.length,l=s[0],u=s[a-1],d=[];if(a>i)return Aye(e,d,s,a/i),d;const f=Sye(s,e,i);if(a>0){let m,y;const v=a>1?Math.round((u-l)/(a-1)):null;for(By(e,d,f,Kr(v)?0:l-v,l),m=0,y=a-1;m<y;m++)By(e,d,f,s[m],s[m+1]);return By(e,d,f,u,Kr(v)?e.length:u+v),d}return By(e,d,f),d}function Eye(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(r,i))}function Sye(t,e,n){const r=Nye(t),i=e.length/n;if(!r)return Math.max(i,1);const s=Dge(r);for(let a=0,l=s.length-1;a<l;a++){const u=s[a];if(u>i)return u}return Math.max(i,1)}function Tye(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function Aye(t,e,n,r){let i=0,s=n[0],a;for(r=Math.ceil(r),a=0;a<t.length;a++)a===s&&(e.push(t[a]),i++,s=n[i*r])}function By(t,e,n,r,i){const s=Dt(r,0),a=Math.min(Dt(i,t.length),t.length);let l=0,u,d,f;for(n=Math.ceil(n),i&&(u=i-r,n=u/Math.floor(u/n)),f=s;f<0;)l++,f=Math.round(s+l*n);for(d=Math.max(s,0);d<a;d++)d===f&&(e.push(t[d]),l++,f=Math.round(s+l*n))}function Nye(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const Cye=t=>t==="left"?"right":t==="right"?"left":t,H5=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,W5=(t,e)=>Math.min(e||t,t);function K5(t,e){const n=[],r=t.length/e,i=t.length;let s=0;for(;s<i;s+=r)n.push(t[Math.floor(s)]);return n}function Pye(t,e,n){const r=t.ticks.length,i=Math.min(e,r-1),s=t._startPixel,a=t._endPixel,l=1e-6;let u=t.getPixelForTick(i),d;if(!(n&&(r===1?d=Math.max(u-s,a-u):e===0?d=(t.getPixelForTick(1)-u)/2:d=(u-t.getPixelForTick(i-1))/2,u+=i<e?d:-d,u<s-l||u>a+l)))return u}function Iye(t,e){kt(t,n=>{const r=n.gc,i=r.length/2;let s;if(i>e){for(s=0;s<i;++s)delete n.data[r[s]];r.splice(0,i)}})}function Im(t){return t.drawTicks?t.tickLength:0}function G5(t,e){if(!t.display)return 0;const n=Ai(t.font,e),r=ta(t.padding);return(jr(t.text)?t.text.length:1)*n.lineHeight+r.height}function Oye(t,e){return mh(t,{scale:e,type:"scale"})}function jye(t,e,n){return mh(t,{tick:n,index:e,type:"tick"})}function Rye(t,e,n){let r=i7(t);return(n&&e!=="right"||!n&&e==="right")&&(r=Cye(r)),r}function kye(t,e,n,r){const{top:i,left:s,bottom:a,right:l,chart:u}=t,{chartArea:d,scales:f}=u;let m=0,y,v,_;const E=a-i,w=l-s;if(t.isHorizontal()){if(v=Bi(r,s,l),vt(n)){const A=Object.keys(n)[0],C=n[A];_=f[A].getPixelForValue(C)+E-e}else n==="center"?_=(d.bottom+d.top)/2+E-e:_=H5(t,n,e);y=l-s}else{if(vt(n)){const A=Object.keys(n)[0],C=n[A];v=f[A].getPixelForValue(C)-w+e}else n==="center"?v=(d.left+d.right)/2-w+e:v=H5(t,n,e);_=Bi(r,a,i),m=n==="left"?-Zn:Zn}return{titleX:v,titleY:_,maxWidth:y,rotation:m}}class sw extends Tg{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:i}=this;return e=Aa(e,Number.POSITIVE_INFINITY),n=Aa(n,Number.NEGATIVE_INFINITY),r=Aa(r,Number.POSITIVE_INFINITY),i=Aa(i,Number.NEGATIVE_INFINITY),{min:Aa(e,r),max:Aa(n,i),minDefined:qo(e),maxDefined:qo(n)}}getMinMax(e){let{min:n,max:r,minDefined:i,maxDefined:s}=this.getUserBounds(),a;if(i&&s)return{min:n,max:r};const l=this.getMatchingVisibleMetas();for(let u=0,d=l.length;u<d;++u)a=l[u].controller.getMinMax(this,e),i||(n=Math.min(n,a.min)),s||(r=Math.max(r,a.max));return n=s&&n>r?r:n,r=i&&n>r?n:r,{min:Aa(n,Aa(r,n)),max:Aa(r,Aa(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Qt(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:i,grace:s,ticks:a}=this.options,l=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=f0e(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const u=l<this.ticks.length;this._convertTicksToLabels(u?K5(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=_ye(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),u&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Qt(this.options.afterUpdate,[this])}beforeSetDimensions(){Qt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Qt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Qt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Qt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r],s.label=Qt(n.callback,[s.value,r,e],this)}afterTickToLabelConversion(){Qt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Qt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=W5(this.ticks.length,e.ticks.maxTicksLimit),i=n.minRotation||0,s=n.maxRotation;let a=i,l,u,d;if(!this._isVisible()||!n.display||i>=s||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const f=this._getLabelSizes(),m=f.widest.width,y=f.highest.height,v=xs(this.chart.width-m,0,this.maxWidth);l=e.offset?this.maxWidth/r:v/(r-1),m+6>l&&(l=v/(r-(e.offset?.5:1)),u=this.maxHeight-Im(e.grid)-n.padding-G5(e.title,this.chart.options.font),d=Math.sqrt(m*m+y*y),a=Vge(Math.min(Math.asin(xs((f.highest.height+6)/l,-1,1)),Math.asin(xs(u/d,-1,1))-Math.asin(xs(y/d,-1,1)))),a=Math.max(i,Math.min(s,a))),this.labelRotation=a}afterCalculateLabelRotation(){Qt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Qt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:i,grid:s}}=this,a=this._isVisible(),l=this.isHorizontal();if(a){const u=G5(i,n.options.font);if(l?(e.width=this.maxWidth,e.height=Im(s)+u):(e.height=this.maxHeight,e.width=Im(s)+u),r.display&&this.ticks.length){const{first:d,last:f,widest:m,highest:y}=this._getLabelSizes(),v=r.padding*2,_=Tu(this.labelRotation),E=Math.cos(_),w=Math.sin(_);if(l){const A=r.mirror?0:w*m.width+E*y.height;e.height=Math.min(this.maxHeight,e.height+A+v)}else{const A=r.mirror?0:E*m.width+w*y.height;e.width=Math.min(this.maxWidth,e.width+A+v)}this._calculatePadding(d,f,w,E)}}this._handleMargins(),l?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,i){const{ticks:{align:s,padding:a},position:l}=this.options,u=this.labelRotation!==0,d=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const f=this.getPixelForTick(0)-this.left,m=this.right-this.getPixelForTick(this.ticks.length-1);let y=0,v=0;u?d?(y=i*e.width,v=r*n.height):(y=r*e.height,v=i*n.width):s==="start"?v=n.width:s==="end"?y=e.width:s!=="inner"&&(y=e.width/2,v=n.width/2),this.paddingLeft=Math.max((y-f+a)*this.width/(this.width-f),0),this.paddingRight=Math.max((v-m+a)*this.width/(this.width-m),0)}else{let f=n.height/2,m=e.height/2;s==="start"?(f=0,m=e.height):s==="end"&&(f=n.height,m=0),this.paddingTop=f+a,this.paddingBottom=m+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Qt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)Kr(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=K5(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:i,_longestTextCache:s}=this,a=[],l=[],u=Math.floor(n/W5(n,r));let d=0,f=0,m,y,v,_,E,w,A,C,P,L,M;for(m=0;m<n;m+=u){if(_=e[m].label,E=this._resolveTickFontOptions(m),i.font=w=E.string,A=s[w]=s[w]||{data:{},gc:[]},C=E.lineHeight,P=L=0,!Kr(_)&&!jr(_))P=A5(i,A.data,A.gc,P,_),L=C;else if(jr(_))for(y=0,v=_.length;y<v;++y)M=_[y],!Kr(M)&&!jr(M)&&(P=A5(i,A.data,A.gc,P,M),L+=C);a.push(P),l.push(L),d=Math.max(P,d),f=Math.max(L,f)}Iye(s,n);const z=a.indexOf(d),j=l.indexOf(f),R=D=>({width:a[D]||0,height:l[D]||0});return{first:R(0),last:R(n-1),widest:R(z),highest:R(j),widths:a,heights:l}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return zge(this._alignToPixels?uu(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=jye(this.getContext(),e,r))}return this.$context||(this.$context=Oye(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Tu(this.labelRotation),r=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),s=this._getLabelSizes(),a=e.autoSkipPadding||0,l=s?s.widest.width+a:0,u=s?s.highest.height+a:0;return this.isHorizontal()?u*r>l*i?l/r:u/i:u*i<l*r?u/r:l/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,i=this.options,{grid:s,position:a,border:l}=i,u=s.offset,d=this.isHorizontal(),m=this.ticks.length+(u?1:0),y=Im(s),v=[],_=l.setContext(this.getContext()),E=_.display?_.width:0,w=E/2,A=function(X){return uu(r,X,E)};let C,P,L,M,z,j,R,D,B,V,$,q;if(a==="top")C=A(this.bottom),j=this.bottom-y,D=C-w,V=A(e.top)+w,q=e.bottom;else if(a==="bottom")C=A(this.top),V=e.top,q=A(e.bottom)-w,j=C+w,D=this.top+y;else if(a==="left")C=A(this.right),z=this.right-y,R=C-w,B=A(e.left)+w,$=e.right;else if(a==="right")C=A(this.left),B=e.left,$=A(e.right)-w,z=C+w,R=this.left+y;else if(n==="x"){if(a==="center")C=A((e.top+e.bottom)/2+.5);else if(vt(a)){const X=Object.keys(a)[0],ee=a[X];C=A(this.chart.scales[X].getPixelForValue(ee))}V=e.top,q=e.bottom,j=C+w,D=j+y}else if(n==="y"){if(a==="center")C=A((e.left+e.right)/2);else if(vt(a)){const X=Object.keys(a)[0],ee=a[X];C=A(this.chart.scales[X].getPixelForValue(ee))}z=C-w,R=z-y,B=e.left,$=e.right}const xe=Dt(i.ticks.maxTicksLimit,m),be=Math.max(1,Math.ceil(m/xe));for(P=0;P<m;P+=be){const X=this.getContext(P),ee=s.setContext(X),he=l.setContext(X),Y=ee.lineWidth,H=ee.color,k=he.dash||[],K=he.dashOffset,re=ee.tickWidth,ce=ee.tickColor,se=ee.tickBorderDash||[],ye=ee.tickBorderDashOffset;L=Pye(this,P,u),L!==void 0&&(M=uu(r,L,Y),d?z=R=B=$=M:j=D=V=q=M,v.push({tx1:z,ty1:j,tx2:R,ty2:D,x1:B,y1:V,x2:$,y2:q,width:Y,color:H,borderDash:k,borderDashOffset:K,tickWidth:re,tickColor:ce,tickBorderDash:se,tickBorderDashOffset:ye}))}return this._ticksLength=m,this._borderValue=C,v}_computeLabelItems(e){const n=this.axis,r=this.options,{position:i,ticks:s}=r,a=this.isHorizontal(),l=this.ticks,{align:u,crossAlign:d,padding:f,mirror:m}=s,y=Im(r.grid),v=y+f,_=m?-f:v,E=-Tu(this.labelRotation),w=[];let A,C,P,L,M,z,j,R,D,B,V,$,q="middle";if(i==="top")z=this.bottom-_,j=this._getXAxisLabelAlignment();else if(i==="bottom")z=this.top+_,j=this._getXAxisLabelAlignment();else if(i==="left"){const be=this._getYAxisLabelAlignment(y);j=be.textAlign,M=be.x}else if(i==="right"){const be=this._getYAxisLabelAlignment(y);j=be.textAlign,M=be.x}else if(n==="x"){if(i==="center")z=(e.top+e.bottom)/2+v;else if(vt(i)){const be=Object.keys(i)[0],X=i[be];z=this.chart.scales[be].getPixelForValue(X)+v}j=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")M=(e.left+e.right)/2-v;else if(vt(i)){const be=Object.keys(i)[0],X=i[be];M=this.chart.scales[be].getPixelForValue(X)}j=this._getYAxisLabelAlignment(y).textAlign}n==="y"&&(u==="start"?q="top":u==="end"&&(q="bottom"));const xe=this._getLabelSizes();for(A=0,C=l.length;A<C;++A){P=l[A],L=P.label;const be=s.setContext(this.getContext(A));R=this.getPixelForTick(A)+s.labelOffset,D=this._resolveTickFontOptions(A),B=D.lineHeight,V=jr(L)?L.length:1;const X=V/2,ee=be.color,he=be.textStrokeColor,Y=be.textStrokeWidth;let H=j;a?(M=R,j==="inner"&&(A===C-1?H=this.options.reverse?"left":"right":A===0?H=this.options.reverse?"right":"left":H="center"),i==="top"?d==="near"||E!==0?$=-V*B+B/2:d==="center"?$=-xe.highest.height/2-X*B+B:$=-xe.highest.height+B/2:d==="near"||E!==0?$=B/2:d==="center"?$=xe.highest.height/2-X*B:$=xe.highest.height-V*B,m&&($*=-1),E!==0&&!be.showLabelBackdrop&&(M+=B/2*Math.sin(E))):(z=R,$=(1-V)*B/2);let k;if(be.showLabelBackdrop){const K=ta(be.backdropPadding),re=xe.heights[A],ce=xe.widths[A];let se=$-K.top,ye=0-K.left;switch(q){case"middle":se-=re/2;break;case"bottom":se-=re;break}switch(j){case"center":ye-=ce/2;break;case"right":ye-=ce;break;case"inner":A===C-1?ye-=ce:A>0&&(ye-=ce/2);break}k={left:ye,top:se,width:ce+K.width,height:re+K.height,color:be.backdropColor}}w.push({label:L,font:D,textOffset:$,options:{rotation:E,color:ee,strokeColor:he,strokeWidth:Y,textAlign:H,textBaseline:q,translation:[M,z],backdrop:k}})}return w}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Tu(this.labelRotation))return e==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:i,padding:s}}=this.options,a=this._getLabelSizes(),l=e+s,u=a.widest.width;let d,f;return n==="left"?i?(f=this.right+s,r==="near"?d="left":r==="center"?(d="center",f+=u/2):(d="right",f+=u)):(f=this.right-l,r==="near"?d="right":r==="center"?(d="center",f-=u/2):(d="left",f=this.left)):n==="right"?i?(f=this.left+s,r==="near"?d="right":r==="center"?(d="center",f-=u/2):(d="left",f-=u)):(f=this.left+l,r==="near"?d="left":r==="center"?(d="center",f+=u/2):(d="right",f=this.right)):d="right",{textAlign:d,x:f}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:i,width:s,height:a}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,i,s,a),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(s=>s.value===e);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,a;const l=(u,d,f)=>{!f.width||!f.color||(r.save(),r.lineWidth=f.width,r.strokeStyle=f.color,r.setLineDash(f.borderDash||[]),r.lineDashOffset=f.borderDashOffset,r.beginPath(),r.moveTo(u.x,u.y),r.lineTo(d.x,d.y),r.stroke(),r.restore())};if(n.display)for(s=0,a=i.length;s<a;++s){const u=i[s];n.drawOnChartArea&&l({x:u.x1,y:u.y1},{x:u.x2,y:u.y2},u),n.drawTicks&&l({x:u.tx1,y:u.ty1},{x:u.tx2,y:u.ty2},{color:u.tickColor,width:u.tickWidth,borderDash:u.tickBorderDash,borderDashOffset:u.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:i}}=this,s=r.setContext(this.getContext()),a=r.display?s.width:0;if(!a)return;const l=i.setContext(this.getContext(0)).lineWidth,u=this._borderValue;let d,f,m,y;this.isHorizontal()?(d=uu(e,this.left,a)-a/2,f=uu(e,this.right,l)+l/2,m=y=u):(m=uu(e,this.top,a)-a/2,y=uu(e,this.bottom,l)+l/2,d=f=u),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(d,m),n.lineTo(f,y),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&dP(r,i);const s=this.getLabelItems(e);for(const a of s){const l=a.options,u=a.font,d=a.label,f=a.textOffset;xb(r,d,0,f,u,l)}i&&fP(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:i}}=this;if(!r.display)return;const s=Ai(r.font),a=ta(r.padding),l=r.align;let u=s.lineHeight/2;n==="bottom"||n==="center"||vt(n)?(u+=a.bottom,jr(r.text)&&(u+=s.lineHeight*(r.text.length-1))):u+=a.top;const{titleX:d,titleY:f,maxWidth:m,rotation:y}=kye(this,u,n,l);xb(e,r.text,0,0,s,{color:r.color,maxWidth:m,rotation:y,textAlign:Rye(l,n,i),textBaseline:"middle",translation:[d,f]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=Dt(e.grid&&e.grid.z,-1),i=Dt(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==sw.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:r,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let s,a;for(s=0,a=n.length;s<a;++s){const l=n[s];l[r]===this.id&&(!e||l.type===e)&&i.push(l)}return i}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Ai(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Fy{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;Lye(n)&&(r=this.register(n));const i=this.items,s=e.id,a=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in i||(i[s]=e,Mye(e,a,r),this.override&&In.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,i=this.scope;r in n&&delete n[r],i&&r in In[i]&&(delete In[i][r],this.override&&delete Gu[r])}}function Mye(t,e,n){const r=Up(Object.create(null),[n?In.get(n):{},In.get(e),t.defaults]);In.set(e,r),t.defaultRoutes&&Dye(e,t.defaultRoutes),t.descriptors&&In.describe(e,t.descriptors)}function Dye(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),i=r.pop(),s=[t].concat(r).join("."),a=e[n].split("."),l=a.pop(),u=a.join(".");In.route(s,i,u,l)})}function Lye(t){return"id"in t&&"defaults"in t}class Vye{constructor(){this.controllers=new Fy(g7,"datasets",!0),this.elements=new Fy(Tg,"elements"),this.plugins=new Fy(Object,"plugins"),this.scales=new Fy(sw,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(i=>{const s=r||this._getRegistryForType(i);r||s.isForType(i)||s===this.plugins&&i.id?this._exec(e,s,i):kt(i,a=>{const l=r||this._getRegistryForType(a);this._exec(e,l,a)})})}_exec(e,n,r){const i=cP(e);Qt(r["before"+i],[],r),n[e](r),Qt(r["after"+i],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const i=n.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return i}}var Ca=new Vye;class Uye{constructor(){this._init=void 0}notify(e,n,r,i){if(n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const s=i?this._descriptors(e).filter(i):this._descriptors(e),a=this._notify(s,e,n,r);return n==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),a}_notify(e,n,r,i){i=i||{};for(const s of e){const a=s.plugin,l=a[r],u=[n,i,s.options];if(Qt(l,u,a)===!1&&i.cancelable)return!1}return!0}invalidate(){Kr(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,i=Dt(r.options&&r.options.plugins,{}),s=zye(r);return i===!1&&!n?[]:Fye(e,s,i,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,i=(s,a)=>s.filter(l=>!a.some(u=>l.plugin.id===u.plugin.id));this._notify(i(n,r),e,"stop"),this._notify(i(r,n),e,"start")}}function zye(t){const e={},n=[],r=Object.keys(Ca.plugins.items);for(let s=0;s<r.length;s++)n.push(Ca.getPlugin(r[s]));const i=t.plugins||[];for(let s=0;s<i.length;s++){const a=i[s];n.indexOf(a)===-1&&(n.push(a),e[a.id]=!0)}return{plugins:n,localIds:e}}function Bye(t,e){return!e&&t===!1?null:t===!0?{}:t}function Fye(t,{plugins:e,localIds:n},r,i){const s=[],a=t.getContext();for(const l of e){const u=l.id,d=Bye(r[u],i);d!==null&&s.push({plugin:l,options:$ye(t.config,{plugin:l,local:n[u]},d,a)})}return s}function $ye(t,{plugin:e,local:n},r,i){const s=t.pluginScopeKeys(e),a=t.getOptionScopes(r,s);return n&&e.defaults&&a.push(e.defaults),t.createResolver(a,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function WA(t,e){const n=In.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function qye(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function Hye(t,e){return t===e?"_index_":"_value_"}function Y5(t){if(t==="x"||t==="y"||t==="r")return t}function Wye(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function KA(t,...e){if(Y5(t))return t;for(const n of e){const r=n.axis||Wye(n.position)||t.length>1&&Y5(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function X5(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function Kye(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return X5(t,"x",n[0])||X5(t,"y",n[0])}return{}}function Gye(t,e){const n=Gu[t.type]||{scales:{}},r=e.scales||{},i=WA(t.type,e),s=Object.create(null);return Object.keys(r).forEach(a=>{const l=r[a];if(!vt(l))return console.error(`Invalid scale configuration for scale: ${a}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const u=KA(a,l,Kye(a,t),In.scales[l.type]),d=Hye(u,i),f=n.scales||{};s[a]=hp(Object.create(null),[{axis:u},l,f[u],f[d]])}),t.data.datasets.forEach(a=>{const l=a.type||t.type,u=a.indexAxis||WA(l,e),f=(Gu[l]||{}).scales||{};Object.keys(f).forEach(m=>{const y=qye(m,u),v=a[y+"AxisID"]||y;s[v]=s[v]||Object.create(null),hp(s[v],[{axis:y},r[v],f[m]])})}),Object.keys(s).forEach(a=>{const l=s[a];hp(l,[In.scales[l.type],In.scale])}),s}function _7(t){const e=t.options||(t.options={});e.plugins=Dt(e.plugins,{}),e.scales=Gye(t,e)}function E7(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function Yye(t){return t=t||{},t.data=E7(t.data),_7(t),t}const Q5=new Map,S7=new Set;function $y(t,e){let n=Q5.get(t);return n||(n=e(),Q5.set(t,n),S7.add(n)),n}const Om=(t,e,n)=>{const r=zp(e,n);r!==void 0&&t.add(r)};class Xye{constructor(e){this._config=Yye(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=E7(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),_7(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return $y(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return $y(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return $y(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return $y(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let i=r.get(e);return(!i||n)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,n,r){const{options:i,type:s}=this,a=this._cachedScopes(e,r),l=a.get(n);if(l)return l;const u=new Set;n.forEach(f=>{e&&(u.add(e),f.forEach(m=>Om(u,e,m))),f.forEach(m=>Om(u,i,m)),f.forEach(m=>Om(u,Gu[s]||{},m)),f.forEach(m=>Om(u,In,m)),f.forEach(m=>Om(u,qA,m))});const d=Array.from(u);return d.length===0&&d.push(Object.create(null)),S7.has(n)&&a.set(n,d),d}chartOptionScopes(){const{options:e,type:n}=this;return[e,Gu[n]||{},In.datasets[n]||{},{type:n},In,qA]}resolveNamedOptions(e,n,r,i=[""]){const s={$shared:!0},{resolver:a,subPrefixes:l}=Z5(this._resolverCache,e,i);let u=a;if(Zye(a,n)){s.$shared=!1,r=vc(r)?r():r;const d=this.createResolver(e,r,l);u=Uf(a,r,d)}for(const d of n)s[d]=u[d];return s}createResolver(e,n,r=[""],i){const{resolver:s}=Z5(this._resolverCache,e,r);return vt(n)?Uf(s,n,void 0,i):s}}function Z5(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const i=n.join();let s=r.get(i);return s||(s={resolver:mP(e,n),subPrefixes:n.filter(l=>!l.toLowerCase().includes("hover"))},r.set(i,s)),s}const Qye=t=>vt(t)&&Object.getOwnPropertyNames(t).some(e=>vc(t[e]));function Zye(t,e){const{isScriptable:n,isIndexable:r}=l7(t);for(const i of e){const s=n(i),a=r(i),l=(a||s)&&t[i];if(s&&(vc(l)||Qye(l))||a&&jr(l))return!0}return!1}var Jye="4.5.1";const eve=["top","bottom","left","right","chartArea"];function J5(t,e){return t==="top"||t==="bottom"||eve.indexOf(t)===-1&&e==="x"}function eL(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function tL(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Qt(n&&n.onComplete,[t],e)}function tve(t){const e=t.chart,n=e.options.animation;Qt(n&&n.onProgress,[t],e)}function T7(t){return yP()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Nv={},nL=t=>{const e=T7(t);return Object.values(Nv).filter(n=>n.canvas===e).pop()};function nve(t,e,n){const r=Object.keys(t);for(const i of r){const s=+i;if(s>=e){const a=t[i];delete t[i],(n>0||s>e)&&(t[s+n]=a)}}}function rve(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}let aw=class{static defaults=In;static instances=Nv;static overrides=Gu;static registry=Ca;static version=Jye;static getChart=nL;static register(...e){Ca.add(...e),rL()}static unregister(...e){Ca.remove(...e),rL()}constructor(e,n){const r=this.config=new Xye(n),i=T7(e),s=nL(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const a=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||wye(i)),this.platform.updateConfig(r);const l=this.platform.acquireContext(i,a.aspectRatio),u=l&&l.canvas,d=u&&u.height,f=u&&u.width;if(this.id=Cge(),this.ctx=l,this.canvas=u,this.width=f,this.height=d,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Uye,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Hge(m=>this.update(m),a.resizeDelay||0),this._dataChanges=[],Nv[this.id]=this,!l||!u){console.error("Failed to create chart: can't acquire context from the given item");return}vo.listen(this,"complete",tL),vo.listen(this,"progress",tve),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:i,_aspectRatio:s}=this;return Kr(e)?n&&s?s:i?r/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Ca}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():O5(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return N5(this.canvas,this.ctx),this}stop(){return vo.stop(this),this}resize(e,n){vo.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,i=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(i,e,n,s),l=r.devicePixelRatio||this.platform.getDevicePixelRatio(),u=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,O5(this,l,!0)&&(this.notifyPlugins("resize",{size:a}),Qt(r.onResize,[this,a],this),this.attached&&this._doResize(u)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};kt(n,(r,i)=>{r.id=i})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,i=Object.keys(r).reduce((a,l)=>(a[l]=!1,a),{});let s=[];n&&(s=s.concat(Object.keys(n).map(a=>{const l=n[a],u=KA(a,l),d=u==="r",f=u==="x";return{options:l,dposition:d?"chartArea":f?"bottom":"left",dtype:d?"radialLinear":f?"category":"linear"}}))),kt(s,a=>{const l=a.options,u=l.id,d=KA(u,l),f=Dt(l.type,a.dtype);(l.position===void 0||J5(l.position,d)!==J5(a.dposition))&&(l.position=a.dposition),i[u]=!0;let m=null;if(u in r&&r[u].type===f)m=r[u];else{const y=Ca.getScale(f);m=new y({id:u,type:f,ctx:this.ctx,chart:this}),r[m.id]=m}m.init(l,e)}),kt(i,(a,l)=>{a||delete r[l]}),kt(r,a=>{Ql.configure(this,a,a.options),Ql.addBox(this,a)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((i,s)=>i.index-s.index),r>n){for(let i=n;i<r;++i)this._destroyDatasetMeta(i);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(eL("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,i)=>{n.filter(s=>s===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=n.length;r<i;r++){const s=n[r];let a=this.getDatasetMeta(r);const l=s.type||this.config.type;if(a.type&&a.type!==l&&(this._destroyDatasetMeta(r),a=this.getDatasetMeta(r)),a.type=l,a.indexAxis=s.indexAxis||WA(l,this.options),a.order=s.order||0,a.index=r,a.label=""+s.label,a.visible=this.isDatasetVisible(r),a.controller)a.controller.updateIndex(r),a.controller.linkScales();else{const u=Ca.getController(l),{datasetElementType:d,dataElementType:f}=In.datasets[l];Object.assign(u,{dataElementType:Ca.getElement(f),datasetElementType:d&&Ca.getElement(d)}),a.controller=new u(this,r),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){kt(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let d=0,f=this.data.datasets.length;d<f;d++){const{controller:m}=this.getDatasetMeta(d),y=!i&&s.indexOf(m)===-1;m.buildOrUpdateElements(y),a=Math.max(+m.getMaxOverflow(),a)}a=this._minPadding=r.layout.autoPadding?a:0,this._updateLayout(a),i||kt(s,d=>{d.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(eL("z","_idx"));const{_active:l,_lastEvent:u}=this;u?this._eventHandler(u,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){kt(this.scales,e=>{Ql.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!v5(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:s}of n){const a=r==="_removeElements"?-s:s;nve(e,i,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=s=>new Set(e.filter(a=>a[0]===s).map((a,l)=>l+","+a.splice(1).join(","))),i=r(0);for(let s=1;s<n;s++)if(!v5(i,r(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ql.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],kt(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,vc(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),i={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(vo.has(this)?this.attached&&!vo.running(this)&&vo.start(this):(this.draw(),tL({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let i,s;for(i=0,s=n.length;i<s;++i){const a=n[i];(!e||a.visible)&&r.push(a)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r={meta:e,index:e.index,cancelable:!0},i=j0e(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(i&&dP(n,i),e.controller.draw(),i&&fP(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return o7(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,i){const s=eye.modes[n];return typeof s=="function"?s(this,e,r,i):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let i=r.filter(s=>s&&s._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=mh(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const i=r?"show":"hide",s=this.getDatasetMeta(e),a=s.controller._resolveAnimations(void 0,i);gb(n)?(s.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),a.update(s,{visible:r}),this.update(l=>l.datasetIndex===e?i:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),vo.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),N5(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Nv[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(s,a)=>{n.addEventListener(this,s,a),e[s]=a},i=(s,a,l)=>{s.offsetX=a,s.offsetY=l,this._eventHandler(s)};kt(this.options.events,s=>r(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(u,d)=>{n.addEventListener(this,u,d),e[u]=d},i=(u,d)=>{e[u]&&(n.removeEventListener(this,u,d),delete e[u])},s=(u,d)=>{this.canvas&&this.resize(u,d)};let a;const l=()=>{i("attach",l),this.attached=!0,this.resize(),r("resize",s),r("detach",a)};a=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),r("attach",l)},n.isAttached(this.canvas)?l():a()}unbindEvents(){kt(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},kt(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const i=r?"set":"remove";let s,a,l,u;for(n==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),l=0,u=e.length;l<u;++l){a=e[l];const d=a&&this.getDatasetMeta(a.datasetIndex).controller;d&&d[i+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:s,index:a})=>{const l=this.getDatasetMeta(s);if(!l)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:l.data[a],index:a}});!mb(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){const i=this.options.hover,s=(u,d)=>u.filter(f=>!d.some(m=>f.datasetIndex===m.datasetIndex&&f.index===m.index)),a=s(n,e),l=r?e:s(e,n);a.length&&this.updateHoverStyle(a,i.mode,!1),l.length&&i.mode&&this.updateHoverStyle(l,i.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},i=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const s=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(s||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:i=[],options:s}=this,a=n,l=this._getActiveElements(e,i,r,a),u=kge(e),d=rve(e,this._lastEvent,r,u);r&&(this._lastEvent=null,Qt(s.onHover,[e,l,this],this),u&&Qt(s.onClick,[e,l,this],this));const f=!mb(l,i);return(f||n)&&(this._active=l,this._updateHoverStyles(l,i,n)),this._lastEvent=d,f}_getActiveElements(e,n,r,i){if(e.type==="mouseout")return[];if(!r)return n;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,i)}};function rL(){return kt(aw.instances,t=>t._plugins.invalidate())}function ive(t,e,n){const{startAngle:r,x:i,y:s,outerRadius:a,innerRadius:l,options:u}=e,{borderWidth:d,borderJoinStyle:f}=u,m=Math.min(d/a,Ia(r-n));if(t.beginPath(),t.arc(i,s,a-d/2,r+m/2,n-m/2),l>0){const y=Math.min(d/l,Ia(r-n));t.arc(i,s,l+d/2,n-y/2,r+y/2,!0)}else{const y=Math.min(d/2,a*Ia(r-n));if(f==="round")t.arc(i,s,y,n-Jt/2,r+Jt/2,!0);else if(f==="bevel"){const v=2*y*y,_=-v*Math.cos(n+Jt/2)+i,E=-v*Math.sin(n+Jt/2)+s,w=v*Math.cos(r+Jt/2)+i,A=v*Math.sin(r+Jt/2)+s;t.lineTo(_,E),t.lineTo(w,A)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function sve(t,e,n){const{startAngle:r,pixelMargin:i,x:s,y:a,outerRadius:l,innerRadius:u}=e;let d=i/l;t.beginPath(),t.arc(s,a,l,r-d,n+d),u>i?(d=i/u,t.arc(s,a,u,n+d,r-d,!0)):t.arc(s,a,i,n+Zn,r-Zn),t.closePath(),t.clip()}function ave(t){return hP(t,["outerStart","outerEnd","innerStart","innerEnd"])}function ove(t,e,n,r){const i=ave(t.options.borderRadius),s=(n-e)/2,a=Math.min(s,r*e/2),l=u=>{const d=(n-Math.min(s,u))*r/2;return xs(u,0,Math.min(s,d))};return{outerStart:l(i.outerStart),outerEnd:l(i.outerEnd),innerStart:xs(i.innerStart,0,a),innerEnd:xs(i.innerEnd,0,a)}}function Xd(t,e,n,r){return{x:n+t*Math.cos(e),y:r+t*Math.sin(e)}}function Eb(t,e,n,r,i,s){const{x:a,y:l,startAngle:u,pixelMargin:d,innerRadius:f}=e,m=Math.max(e.outerRadius+r+n-d,0),y=f>0?f+r+n+d:0;let v=0;const _=i-u;if(r){const be=f>0?f-r:0,X=m>0?m-r:0,ee=(be+X)/2,he=ee!==0?_*ee/(ee+r):_;v=(_-he)/2}const E=Math.max(.001,_*m-n/Jt)/m,w=(_-E)/2,A=u+w+v,C=i-w-v,{outerStart:P,outerEnd:L,innerStart:M,innerEnd:z}=ove(e,y,m,C-A),j=m-P,R=m-L,D=A+P/j,B=C-L/R,V=y+M,$=y+z,q=A+M/V,xe=C-z/$;if(t.beginPath(),s){const be=(D+B)/2;if(t.arc(a,l,m,D,be),t.arc(a,l,m,be,B),L>0){const Y=Xd(R,B,a,l);t.arc(Y.x,Y.y,L,B,C+Zn)}const X=Xd($,C,a,l);if(t.lineTo(X.x,X.y),z>0){const Y=Xd($,xe,a,l);t.arc(Y.x,Y.y,z,C+Zn,xe+Math.PI)}const ee=(C-z/y+(A+M/y))/2;if(t.arc(a,l,y,C-z/y,ee,!0),t.arc(a,l,y,ee,A+M/y,!0),M>0){const Y=Xd(V,q,a,l);t.arc(Y.x,Y.y,M,q+Math.PI,A-Zn)}const he=Xd(j,A,a,l);if(t.lineTo(he.x,he.y),P>0){const Y=Xd(j,D,a,l);t.arc(Y.x,Y.y,P,A-Zn,D)}}else{t.moveTo(a,l);const be=Math.cos(D)*m+a,X=Math.sin(D)*m+l;t.lineTo(be,X);const ee=Math.cos(B)*m+a,he=Math.sin(B)*m+l;t.lineTo(ee,he)}t.closePath()}function lve(t,e,n,r,i){const{fullCircles:s,startAngle:a,circumference:l}=e;let u=e.endAngle;if(s){Eb(t,e,n,r,u,i);for(let d=0;d<s;++d)t.fill();isNaN(l)||(u=a+(l%Hn||Hn))}return Eb(t,e,n,r,u,i),t.fill(),u}function cve(t,e,n,r,i){const{fullCircles:s,startAngle:a,circumference:l,options:u}=e,{borderWidth:d,borderJoinStyle:f,borderDash:m,borderDashOffset:y,borderRadius:v}=u,_=u.borderAlign==="inner";if(!d)return;t.setLineDash(m||[]),t.lineDashOffset=y,_?(t.lineWidth=d*2,t.lineJoin=f||"round"):(t.lineWidth=d,t.lineJoin=f||"bevel");let E=e.endAngle;if(s){Eb(t,e,n,r,E,i);for(let w=0;w<s;++w)t.stroke();isNaN(l)||(E=a+(l%Hn||Hn))}_&&sve(t,e,E),u.selfJoin&&E-a>=Jt&&v===0&&f!=="miter"&&ive(t,e,E),s||(Eb(t,e,n,r,E,i),t.stroke())}class uve extends Tg{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,n,r){const i=this.getProps(["x","y"],r),{angle:s,distance:a}=e7(i,{x:e,y:n}),{startAngle:l,endAngle:u,innerRadius:d,outerRadius:f,circumference:m}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),y=(this.options.spacing+this.options.borderWidth)/2,v=Dt(m,u-l),_=bb(s,l,u)&&l!==u,E=v>=Hn||_,w=Km(a,d+y,f+y);return E&&w}getCenterPoint(e){const{x:n,y:r,startAngle:i,endAngle:s,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:u,spacing:d}=this.options,f=(i+s)/2,m=(a+l+d+u)/2;return{x:n+Math.cos(f)*m,y:r+Math.sin(f)*m}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:n,circumference:r}=this,i=(n.offset||0)/4,s=(n.spacing||0)/2,a=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=r>Hn?Math.floor(r/Hn):0,r===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const l=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(l)*i,Math.sin(l)*i);const u=1-Math.sin(Math.min(Jt,r||0)),d=i*u;e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,lve(e,this,d,s,a),cve(e,this,d,s,a),e.restore()}}const iL=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},dve=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;let sL=class extends Tg{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=Qt(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,i)=>e.sort(r,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,i=Ai(r.font),s=i.size,a=this._computeTitleHeight(),{boxWidth:l,itemHeight:u}=iL(r,s);let d,f;n.font=i.string,this.isHorizontal()?(d=this.maxWidth,f=this._fitRows(a,s,l,u)+10):(f=this.maxHeight,d=this._fitCols(a,i,l,u)+10),this.width=Math.min(d,e.maxWidth||this.maxWidth),this.height=Math.min(f,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,i){const{ctx:s,maxWidth:a,options:{labels:{padding:l}}}=this,u=this.legendHitBoxes=[],d=this.lineWidths=[0],f=i+l;let m=e;s.textAlign="left",s.textBaseline="middle";let y=-1,v=-f;return this.legendItems.forEach((_,E)=>{const w=r+n/2+s.measureText(_.text).width;(E===0||d[d.length-1]+w+2*l>a)&&(m+=f,d[d.length-(E>0?0:1)]=0,v+=f,y++),u[E]={left:0,top:v,row:y,width:w,height:i},d[d.length-1]+=w+l}),m}_fitCols(e,n,r,i){const{ctx:s,maxHeight:a,options:{labels:{padding:l}}}=this,u=this.legendHitBoxes=[],d=this.columnSizes=[],f=a-e;let m=l,y=0,v=0,_=0,E=0;return this.legendItems.forEach((w,A)=>{const{itemWidth:C,itemHeight:P}=fve(r,n,s,w,i);A>0&&v+P+2*l>f&&(m+=y+l,d.push({width:y,height:v}),_+=y+l,E++,y=v=0),u[A]={left:_,top:v,col:E,width:C,height:P},y=Math.max(y,C),v+=P+l}),m+=y,d.push({width:y,height:v}),m}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:i},rtl:s}}=this,a=Af(s,this.left,this.width);if(this.isHorizontal()){let l=0,u=Bi(r,this.left+i,this.right-this.lineWidths[l]);for(const d of n)l!==d.row&&(l=d.row,u=Bi(r,this.left+i,this.right-this.lineWidths[l])),d.top+=this.top+e+i,d.left=a.leftForLtr(a.x(u),d.width),u+=d.width+i}else{let l=0,u=Bi(r,this.top+e+i,this.bottom-this.columnSizes[l].height);for(const d of n)d.col!==l&&(l=d.col,u=Bi(r,this.top+e+i,this.bottom-this.columnSizes[l].height)),d.top=u,d.left+=this.left+i,d.left=a.leftForLtr(a.x(d.left),d.width),u+=d.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;dP(e,this),this._draw(),fP(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:r,ctx:i}=this,{align:s,labels:a}=e,l=In.color,u=Af(e.rtl,this.left,this.width),d=Ai(a.font),{padding:f}=a,m=d.size,y=m/2;let v;this.drawTitle(),i.textAlign=u.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=d.string;const{boxWidth:_,boxHeight:E,itemHeight:w}=iL(a,m),A=function(z,j,R){if(isNaN(_)||_<=0||isNaN(E)||E<0)return;i.save();const D=Dt(R.lineWidth,1);if(i.fillStyle=Dt(R.fillStyle,l),i.lineCap=Dt(R.lineCap,"butt"),i.lineDashOffset=Dt(R.lineDashOffset,0),i.lineJoin=Dt(R.lineJoin,"miter"),i.lineWidth=D,i.strokeStyle=Dt(R.strokeStyle,l),i.setLineDash(Dt(R.lineDash,[])),a.usePointStyle){const B={radius:E*Math.SQRT2/2,pointStyle:R.pointStyle,rotation:R.rotation,borderWidth:D},V=u.xPlus(z,_/2),$=j+y;a7(i,B,V,$,a.pointStyleWidth&&_)}else{const B=j+Math.max((m-E)/2,0),V=u.leftForLtr(z,_),$=gp(R.borderRadius);i.beginPath(),Object.values($).some(q=>q!==0)?HA(i,{x:V,y:B,w:_,h:E,radius:$}):i.rect(V,B,_,E),i.fill(),D!==0&&i.stroke()}i.restore()},C=function(z,j,R){xb(i,R.text,z,j+w/2,d,{strikethrough:R.hidden,textAlign:u.textAlign(R.textAlign)})},P=this.isHorizontal(),L=this._computeTitleHeight();P?v={x:Bi(s,this.left+f,this.right-r[0]),y:this.top+f+L,line:0}:v={x:this.left+f,y:Bi(s,this.top+L+f,this.bottom-n[0].height),line:0},f7(this.ctx,e.textDirection);const M=w+f;this.legendItems.forEach((z,j)=>{i.strokeStyle=z.fontColor,i.fillStyle=z.fontColor;const R=i.measureText(z.text).width,D=u.textAlign(z.textAlign||(z.textAlign=a.textAlign)),B=_+y+R;let V=v.x,$=v.y;u.setWidth(this.width),P?j>0&&V+B+f>this.right&&($=v.y+=M,v.line++,V=v.x=Bi(s,this.left+f,this.right-r[v.line])):j>0&&$+M>this.bottom&&(V=v.x=V+n[v.line].width+f,v.line++,$=v.y=Bi(s,this.top+L+f,this.bottom-n[v.line].height));const q=u.x(V);if(A(q,$,z),V=Wge(D,V+_+y,P?V+B:this.right,e.rtl),C(u.x(V),$,z),P)v.x+=B+f;else if(typeof z.text!="string"){const xe=d.lineHeight;v.y+=A7(z,xe)+f}else v.y+=M}),h7(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,r=Ai(n.font),i=ta(n.padding);if(!n.display)return;const s=Af(e.rtl,this.left,this.width),a=this.ctx,l=n.position,u=r.size/2,d=i.top+u;let f,m=this.left,y=this.width;if(this.isHorizontal())y=Math.max(...this.lineWidths),f=this.top+d,m=Bi(e.align,m,this.right-y);else{const _=this.columnSizes.reduce((E,w)=>Math.max(E,w.height),0);f=d+Bi(e.align,this.top,this.bottom-_-e.labels.padding-this._computeTitleHeight())}const v=Bi(l,m,m+y);a.textAlign=s.textAlign(i7(l)),a.textBaseline="middle",a.strokeStyle=n.color,a.fillStyle=n.color,a.font=r.string,xb(a,n.text,v,f,r)}_computeTitleHeight(){const e=this.options.title,n=Ai(e.font),r=ta(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,i,s;if(Km(e,this.left,this.right)&&Km(n,this.top,this.bottom)){for(s=this.legendHitBoxes,r=0;r<s.length;++r)if(i=s[r],Km(e,i.left,i.left+i.width)&&Km(n,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(e){const n=this.options;if(!pve(e.type,n))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,s=dve(i,r);i&&!s&&Qt(n.onLeave,[e,i,this],this),this._hoveredItem=r,r&&!s&&Qt(n.onHover,[e,r,this],this)}else r&&Qt(n.onClick,[e,r,this],this)}};function fve(t,e,n,r,i){const s=hve(r,t,e,n),a=mve(i,r,e.lineHeight);return{itemWidth:s,itemHeight:a}}function hve(t,e,n,r){let i=t.text;return i&&typeof i!="string"&&(i=i.reduce((s,a)=>s.length>a.length?s:a)),e+n.size/2+r.measureText(i).width}function mve(t,e,n){let r=t;return typeof e.text!="string"&&(r=A7(e,n)),r}function A7(t,e){const n=t.text?t.text.length:0;return e*n}function pve(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var gve={id:"legend",_element:sL,start(t,e,n){const r=t.legend=new sL({ctx:t.ctx,options:n,chart:t});Ql.configure(t,r,n),Ql.addBox(t,r)},stop(t){Ql.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;Ql.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:s,useBorderRadius:a,borderRadius:l}}=t.legend.options;return t._getSortedDatasetMetas().map(u=>{const d=u.controller.getStyle(n?0:void 0),f=ta(d.borderWidth);return{text:e[u.index].label,fillStyle:d.backgroundColor,fontColor:s,hidden:!u.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(f.width+f.height)/4,strokeStyle:d.borderColor,pointStyle:r||d.pointStyle,rotation:d.rotation,textAlign:i||d.textAlign,borderRadius:a&&(l||d.borderRadius),datasetIndex:u.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};const Ym={average(t){if(!t.length)return!1;let e,n,r=new Set,i=0,s=0;for(e=0,n=t.length;e<n;++e){const l=t[e].element;if(l&&l.hasValue()){const u=l.tooltipPosition();r.add(u.x),i+=u.y,++s}}return s===0||r.size===0?!1:{x:[...r].reduce((l,u)=>l+u)/r.size,y:i/s}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,i=Number.POSITIVE_INFINITY,s,a,l;for(s=0,a=t.length;s<a;++s){const u=t[s].element;if(u&&u.hasValue()){const d=u.getCenterPoint(),f=Uge(e,d);f<i&&(i=f,l=u)}}if(l){const u=l.tooltipPosition();n=u.x,r=u.y}return{x:n,y:r}}};function Na(t,e){return e&&(jr(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function bo(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function yve(t,e){const{element:n,datasetIndex:r,index:i}=e,s=t.getDatasetMeta(r).controller,{label:a,value:l}=s.getLabelAndValue(i);return{chart:t,label:a,parsed:s.getParsed(i),raw:t.data.datasets[r].data[i],formattedValue:l,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function aL(t,e){const n=t.chart.ctx,{body:r,footer:i,title:s}=t,{boxWidth:a,boxHeight:l}=e,u=Ai(e.bodyFont),d=Ai(e.titleFont),f=Ai(e.footerFont),m=s.length,y=i.length,v=r.length,_=ta(e.padding);let E=_.height,w=0,A=r.reduce((L,M)=>L+M.before.length+M.lines.length+M.after.length,0);if(A+=t.beforeBody.length+t.afterBody.length,m&&(E+=m*d.lineHeight+(m-1)*e.titleSpacing+e.titleMarginBottom),A){const L=e.displayColors?Math.max(l,u.lineHeight):u.lineHeight;E+=v*L+(A-v)*u.lineHeight+(A-1)*e.bodySpacing}y&&(E+=e.footerMarginTop+y*f.lineHeight+(y-1)*e.footerSpacing);let C=0;const P=function(L){w=Math.max(w,n.measureText(L).width+C)};return n.save(),n.font=d.string,kt(t.title,P),n.font=u.string,kt(t.beforeBody.concat(t.afterBody),P),C=e.displayColors?a+2+e.boxPadding:0,kt(r,L=>{kt(L.before,P),kt(L.lines,P),kt(L.after,P)}),C=0,n.font=f.string,kt(t.footer,P),n.restore(),w+=_.width,{width:w,height:E}}function vve(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function bve(t,e,n,r){const{x:i,width:s}=r,a=n.caretSize+n.caretPadding;if(t==="left"&&i+s+a>e.width||t==="right"&&i-s-a<0)return!0}function xve(t,e,n,r){const{x:i,width:s}=n,{width:a,chartArea:{left:l,right:u}}=t;let d="center";return r==="center"?d=i<=(l+u)/2?"left":"right":i<=s/2?d="left":i>=a-s/2&&(d="right"),bve(d,t,e,n)&&(d="center"),d}function oL(t,e,n){const r=n.yAlign||e.yAlign||vve(t,n);return{xAlign:n.xAlign||e.xAlign||xve(t,e,n,r),yAlign:r}}function wve(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function _ve(t,e,n){let{y:r,height:i}=t;return e==="top"?r+=n:e==="bottom"?r-=i+n:r-=i/2,r}function lL(t,e,n,r){const{caretSize:i,caretPadding:s,cornerRadius:a}=t,{xAlign:l,yAlign:u}=n,d=i+s,{topLeft:f,topRight:m,bottomLeft:y,bottomRight:v}=gp(a);let _=wve(e,l);const E=_ve(e,u,d);return u==="center"?l==="left"?_+=d:l==="right"&&(_-=d):l==="left"?_-=Math.max(f,y)+i:l==="right"&&(_+=Math.max(m,v)+i),{x:xs(_,0,r.width-e.width),y:xs(E,0,r.height-e.height)}}function qy(t,e,n){const r=ta(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function cL(t){return Na([],bo(t))}function Eve(t,e,n){return mh(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function uL(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const N7={beforeTitle:yo,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:yo,beforeBody:yo,beforeLabel:yo,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return Kr(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:yo,afterBody:yo,beforeFooter:yo,footer:yo,afterFooter:yo};function xi(t,e,n,r){const i=t[e].call(n,r);return typeof i>"u"?N7[e].call(n,r):i}let dL=class extends Tg{static positioners=Ym;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&n.options.animation&&r.animations,s=new m7(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=Eve(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,i=xi(r,"beforeTitle",this,e),s=xi(r,"title",this,e),a=xi(r,"afterTitle",this,e);let l=[];return l=Na(l,bo(i)),l=Na(l,bo(s)),l=Na(l,bo(a)),l}getBeforeBody(e,n){return cL(xi(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,i=[];return kt(e,s=>{const a={before:[],lines:[],after:[]},l=uL(r,s);Na(a.before,bo(xi(l,"beforeLabel",this,s))),Na(a.lines,xi(l,"label",this,s)),Na(a.after,bo(xi(l,"afterLabel",this,s))),i.push(a)}),i}getAfterBody(e,n){return cL(xi(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,i=xi(r,"beforeFooter",this,e),s=xi(r,"footer",this,e),a=xi(r,"afterFooter",this,e);let l=[];return l=Na(l,bo(i)),l=Na(l,bo(s)),l=Na(l,bo(a)),l}_createItems(e){const n=this._active,r=this.chart.data,i=[],s=[],a=[];let l=[],u,d;for(u=0,d=n.length;u<d;++u)l.push(yve(this.chart,n[u]));return e.filter&&(l=l.filter((f,m,y)=>e.filter(f,m,y,r))),e.itemSort&&(l=l.sort((f,m)=>e.itemSort(f,m,r))),kt(l,f=>{const m=uL(e.callbacks,f);i.push(xi(m,"labelColor",this,f)),s.push(xi(m,"labelPointStyle",this,f)),a.push(xi(m,"labelTextColor",this,f))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=a,this.dataPoints=l,l}update(e,n){const r=this.options.setContext(this.getContext()),i=this._active;let s,a=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const l=Ym[r.position].call(this,i,this._eventPosition);a=this._createItems(r),this.title=this.getTitle(a,r),this.beforeBody=this.getBeforeBody(a,r),this.body=this.getBody(a,r),this.afterBody=this.getAfterBody(a,r),this.footer=this.getFooter(a,r);const u=this._size=aL(this,r),d=Object.assign({},l,u),f=oL(this.chart,r,d),m=lL(r,d,f,this.chart);this.xAlign=f.xAlign,this.yAlign=f.yAlign,s={opacity:1,x:m.x,y:m.y,width:u.width,height:u.height,caretX:l.x,caretY:l.y}}this._tooltipItems=a,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,i){const s=this.getCaretPosition(e,r,i);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(e,n,r){const{xAlign:i,yAlign:s}=this,{caretSize:a,cornerRadius:l}=r,{topLeft:u,topRight:d,bottomLeft:f,bottomRight:m}=gp(l),{x:y,y:v}=e,{width:_,height:E}=n;let w,A,C,P,L,M;return s==="center"?(L=v+E/2,i==="left"?(w=y,A=w-a,P=L+a,M=L-a):(w=y+_,A=w+a,P=L-a,M=L+a),C=w):(i==="left"?A=y+Math.max(u,f)+a:i==="right"?A=y+_-Math.max(d,m)-a:A=this.caretX,s==="top"?(P=v,L=P-a,w=A-a,C=A+a):(P=v+E,L=P+a,w=A+a,C=A-a),M=P),{x1:w,x2:A,x3:C,y1:P,y2:L,y3:M}}drawTitle(e,n,r){const i=this.title,s=i.length;let a,l,u;if(s){const d=Af(r.rtl,this.x,this.width);for(e.x=qy(this,r.titleAlign,r),n.textAlign=d.textAlign(r.titleAlign),n.textBaseline="middle",a=Ai(r.titleFont),l=r.titleSpacing,n.fillStyle=r.titleColor,n.font=a.string,u=0;u<s;++u)n.fillText(i[u],d.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+l,u+1===s&&(e.y+=r.titleMarginBottom-l)}}_drawColorBox(e,n,r,i,s){const a=this.labelColors[r],l=this.labelPointStyles[r],{boxHeight:u,boxWidth:d}=s,f=Ai(s.bodyFont),m=qy(this,"left",s),y=i.x(m),v=u<f.lineHeight?(f.lineHeight-u)/2:0,_=n.y+v;if(s.usePointStyle){const E={radius:Math.min(d,u)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},w=i.leftForLtr(y,d)+d/2,A=_+u/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,C5(e,E,w,A),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,C5(e,E,w,A)}else{e.lineWidth=vt(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const E=i.leftForLtr(y,d),w=i.leftForLtr(i.xPlus(y,1),d-2),A=gp(a.borderRadius);Object.values(A).some(C=>C!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,HA(e,{x:E,y:_,w:d,h:u,radius:A}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),HA(e,{x:w,y:_+1,w:d-2,h:u-2,radius:A}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(E,_,d,u),e.strokeRect(E,_,d,u),e.fillStyle=a.backgroundColor,e.fillRect(w,_+1,d-2,u-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:i}=this,{bodySpacing:s,bodyAlign:a,displayColors:l,boxHeight:u,boxWidth:d,boxPadding:f}=r,m=Ai(r.bodyFont);let y=m.lineHeight,v=0;const _=Af(r.rtl,this.x,this.width),E=function(R){n.fillText(R,_.x(e.x+v),e.y+y/2),e.y+=y+s},w=_.textAlign(a);let A,C,P,L,M,z,j;for(n.textAlign=a,n.textBaseline="middle",n.font=m.string,e.x=qy(this,w,r),n.fillStyle=r.bodyColor,kt(this.beforeBody,E),v=l&&w!=="right"?a==="center"?d/2+f:d+2+f:0,L=0,z=i.length;L<z;++L){for(A=i[L],C=this.labelTextColors[L],n.fillStyle=C,kt(A.before,E),P=A.lines,l&&P.length&&(this._drawColorBox(n,e,L,_,r),y=Math.max(m.lineHeight,u)),M=0,j=P.length;M<j;++M)E(P[M]),y=m.lineHeight;kt(A.after,E)}v=0,y=m.lineHeight,kt(this.afterBody,E),e.y-=s}drawFooter(e,n,r){const i=this.footer,s=i.length;let a,l;if(s){const u=Af(r.rtl,this.x,this.width);for(e.x=qy(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=u.textAlign(r.footerAlign),n.textBaseline="middle",a=Ai(r.footerFont),n.fillStyle=r.footerColor,n.font=a.string,l=0;l<s;++l)n.fillText(i[l],u.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+r.footerSpacing}}drawBackground(e,n,r,i){const{xAlign:s,yAlign:a}=this,{x:l,y:u}=e,{width:d,height:f}=r,{topLeft:m,topRight:y,bottomLeft:v,bottomRight:_}=gp(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(l+m,u),a==="top"&&this.drawCaret(e,n,r,i),n.lineTo(l+d-y,u),n.quadraticCurveTo(l+d,u,l+d,u+y),a==="center"&&s==="right"&&this.drawCaret(e,n,r,i),n.lineTo(l+d,u+f-_),n.quadraticCurveTo(l+d,u+f,l+d-_,u+f),a==="bottom"&&this.drawCaret(e,n,r,i),n.lineTo(l+v,u+f),n.quadraticCurveTo(l,u+f,l,u+f-v),a==="center"&&s==="left"&&this.drawCaret(e,n,r,i),n.lineTo(l,u+m),n.quadraticCurveTo(l,u,l+m,u),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,i=r&&r.x,s=r&&r.y;if(i||s){const a=Ym[e.position].call(this,this._active,this._eventPosition);if(!a)return;const l=this._size=aL(this,e),u=Object.assign({},a,this._size),d=oL(n,e,u),f=lL(e,u,d,n);(i._to!==f.x||s._to!==f.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=l.width,this.height=l.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,f))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const a=ta(n.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&l&&(e.save(),e.globalAlpha=r,this.drawBackground(s,e,i,n),f7(e,n.textDirection),s.y+=a.top,this.drawTitle(s,e,n),this.drawBody(s,e,n),this.drawFooter(s,e,n),h7(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,i=e.map(({datasetIndex:l,index:u})=>{const d=this.chart.getDatasetMeta(l);if(!d)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:d.data[u],index:u}}),s=!mb(r,i),a=this._positionChanged(i,n);(s||a)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],a=this._getActiveElements(e,s,n,r),l=this._positionChanged(a,e),u=n||!mb(a,s)||l;return u&&(this._active=a,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),u}_getActiveElements(e,n,r,i){const s=this.options;if(e.type==="mouseout")return[];if(!i)return n.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const a=this.chart.getElementsAtEventForMode(e,s.mode,s,r);return s.reverse&&a.reverse(),a}_positionChanged(e,n){const{caretX:r,caretY:i,options:s}=this,a=Ym[s.position].call(this,e,n);return a!==!1&&(r!==a.x||i!==a.y)}};var Sve={id:"tooltip",_element:dL,positioners:Ym,afterInit(t,e,n){n&&(t.tooltip=new dL({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:N7},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const ow={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Si=Object.keys(ow);function fL(t,e){return t-e}function hL(t,e){if(Kr(e))return null;const n=t._adapter,{parser:r,round:i,isoWeekday:s}=t._parseOpts;let a=e;return typeof r=="function"&&(a=r(a)),qo(a)||(a=typeof r=="string"?n.parse(a,r):n.parse(a)),a===null?null:(i&&(a=i==="week"&&(vb(s)||s===!0)?n.startOf(a,"isoWeek",s):n.startOf(a,i)),+a)}function mL(t,e,n,r){const i=Si.length;for(let s=Si.indexOf(t);s<i-1;++s){const a=ow[Si[s]],l=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((n-e)/(l*a.size))<=r)return Si[s]}return Si[i-1]}function Tve(t,e,n,r,i){for(let s=Si.length-1;s>=Si.indexOf(n);s--){const a=Si[s];if(ow[a].common&&t._adapter.diff(i,r,a)>=e-1)return a}return Si[n?Si.indexOf(n):0]}function Ave(t){for(let e=Si.indexOf(t)+1,n=Si.length;e<n;++e)if(ow[Si[e]].common)return Si[e]}function pL(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:i}=uP(n,e),s=n[r]>=e?n[r]:n[i];t[s]=!0}}function Nve(t,e,n,r){const i=t._adapter,s=+i.startOf(e[0].value,r),a=e[e.length-1].value;let l,u;for(l=s;l<=a;l=+i.add(l,1,r))u=n[l],u>=0&&(e[u].major=!0);return e}function gL(t,e,n){const r=[],i={},s=e.length;let a,l;for(a=0;a<s;++a)l=e[a],i[l]=a,r.push({value:l,major:!1});return s===0||!n?r:Nve(t,r,i,n)}class yL extends sw{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),i=this._adapter=new Y0e._date(e.adapters.date);i.init(n),hp(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:hL(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:i,max:s,minDefined:a,maxDefined:l}=this.getUserBounds();function u(d){!a&&!isNaN(d.min)&&(i=Math.min(i,d.min)),!l&&!isNaN(d.max)&&(s=Math.max(s,d.max))}(!a||!l)&&(u(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&u(this.getMinMax(!1))),i=qo(i)&&!isNaN(i)?i:+n.startOf(Date.now(),r),s=qo(s)&&!isNaN(s)?s:+n.endOf(Date.now(),r)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,a=this.max,l=Fge(i,s,a);return this._unit=n.unit||(r.autoSkip?mL(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):Tve(this,l.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:Ave(this._unit),this.initOffsets(i),e.reverse&&l.reverse(),gL(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,i,s;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?n=1-i:n=(this.getDecimalForValue(e[1])-i)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?r=s:r=(s-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;n=xs(n,0,a),r=xs(r,0,a),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,i=this.options,s=i.time,a=s.unit||mL(s.minUnit,n,r,this._getLabelCapacity(n)),l=Dt(i.ticks.stepSize,1),u=a==="week"?s.isoWeekday:!1,d=vb(u)||u===!0,f={};let m=n,y,v;if(d&&(m=+e.startOf(m,"isoWeek",u)),m=+e.startOf(m,d?"day":a),e.diff(r,n,a)>1e5*l)throw new Error(n+" and "+r+" are too far apart with stepSize of "+l+" "+a);const _=i.ticks.source==="data"&&this.getDataTimestamps();for(y=m,v=0;y<r;y=+e.add(y,l,a),v++)pL(f,y,_);return(y===r||i.bounds==="ticks"||v===1)&&pL(f,y,_),Object.keys(f).sort(fL).map(E=>+E)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){const i=this.options.time.displayFormats,s=this._unit,a=n||i[s];return this._adapter.format(e,a)}_tickFormatFunction(e,n,r,i){const s=this.options,a=s.ticks.callback;if(a)return Qt(a,[e,n,r],this);const l=s.time.displayFormats,u=this._unit,d=this._majorUnit,f=u&&l[u],m=d&&l[d],y=r[n],v=d&&m&&y&&y.major;return this._adapter.format(e,i||(v?m:f))}generateTickLabels(e){let n,r,i;for(n=0,r=e.length;n<r;++n)i=e[n],i.label=this._tickFormatFunction(i.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,i=Tu(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(i),a=Math.sin(i),l=this._resolveTickFontOptions(0).size;return{w:r*s+l*a,h:r*a+l*s}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,i=r[n.unit]||r.millisecond,s=this._tickFormatFunction(e,0,gL(this,[e],this._majorUnit),i),a=this._getLabelSize(s),l=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,r=i.length;n<r;++n)e=e.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const i=this.getLabels();for(n=0,r=i.length;n<r;++n)e.push(hL(this,i[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return qge(e.sort(fL))}}function Hy(t,e,n){let r=0,i=t.length-1,s,a,l,u;n?(e>=t[r].pos&&e<=t[i].pos&&({lo:r,hi:i}=$A(t,"pos",e)),{pos:s,time:l}=t[r],{pos:a,time:u}=t[i]):(e>=t[r].time&&e<=t[i].time&&({lo:r,hi:i}=$A(t,"time",e)),{time:s,pos:l}=t[r],{time:a,pos:u}=t[i]);const d=a-s;return d?l+(u-l)*(e-s)/d:l}class kMe extends yL{static id="timeseries";static defaults=yL.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Hy(n,this.min),this._tableRange=Hy(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,i=[],s=[];let a,l,u,d,f;for(a=0,l=e.length;a<l;++a)d=e[a],d>=n&&d<=r&&i.push(d);if(i.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(a=0,l=i.length;a<l;++a)f=i[a+1],u=i[a-1],d=i[a],Math.round((f+u)/2)!==d&&s.push({time:d,pos:a/(l-1)});return s}_generate(){const e=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((i,s)=>i-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(Hy(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return Hy(this._table,r*this._tableRange+this._minPos,!0)}}const C7="label";function vL(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function Cve(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function P7(t,e){t.labels=e}function I7(t,e,n=C7){const r=[];t.datasets=e.map(i=>{const s=t.datasets.find(a=>a[n]===i[n]);return!s||!i.data||r.includes(s)?{...i}:(r.push(s),Object.assign(s,i),s)})}function Pve(t,e=C7){const n={labels:[],datasets:[]};return P7(n,t.labels),I7(n,t.datasets,e),n}function Ive(t,e){const{height:n=150,width:r=300,redraw:i=!1,datasetIdKey:s,type:a,data:l,options:u,plugins:d=[],fallbackContent:f,updateMode:m,...y}=t,v=T.useRef(null),_=T.useRef(null),E=()=>{v.current&&(_.current=new aw(v.current,{type:a,data:Pve(l,s),options:u&&{...u},plugins:d}),vL(e,_.current))},w=()=>{vL(e,null),_.current&&(_.current.destroy(),_.current=null)};return T.useEffect(()=>{!i&&_.current&&u&&Cve(_.current,u)},[i,u]),T.useEffect(()=>{!i&&_.current&&P7(_.current.config.data,l.labels)},[i,l.labels]),T.useEffect(()=>{!i&&_.current&&l.datasets&&I7(_.current.config.data,l.datasets,s)},[i,l.datasets]),T.useEffect(()=>{_.current&&(i?(w(),setTimeout(E)):_.current.update(m))},[i,u,l.labels,l.datasets,m]),T.useEffect(()=>{_.current&&(w(),setTimeout(E))},[a]),T.useEffect(()=>(E(),()=>w()),[]),p.jsx("canvas",{ref:v,role:"img",height:n,width:r,...y,children:f})}const Ove=T.forwardRef(Ive);function jve(t,e){return aw.register(e),T.forwardRef((n,r)=>p.jsx(Ove,{...n,ref:r,type:t}))}const Rve=jve("doughnut",G0e);aw.register(uve,Sve,gve);function kve(){const t=xr(),e=jn(),{score:n,total:r,timeSpent:i,questions:s,answers_map:a,flagged:l={}}=t.state||{},[u,d]=T.useState([]),[f,m]=T.useState("all");if(T.useEffect(()=>{if(!s){e("/simulator");return}const w={};s.forEach((C,P)=>{const L=C.domain||"General",M=a[P]===C.correctAnswer;w[L]||(w[L]={correct:0,total:0}),w[L].total++,M&&w[L].correct++});const A=Object.entries(w).map(([C,P])=>({name:C,score:Math.round(P.correct/P.total*100),correct:P.correct,total:P.total}));d(A)},[s]),!s)return null;const y=Math.round(n/r*100),v=y>=70,_={labels:["Correct","Incorrect"],datasets:[{data:[n,r-n],backgroundColor:["#10B981","#EF4444"],borderWidth:0}]},E=w=>{const A=Math.floor(w/60),C=w%60;return`${A}m ${C}s`};return p.jsx("div",{className:"min-h-screen bg-slate-900 text-slate-100 p-4 md:p-8 font-sans",children:p.jsxs("div",{className:"max-w-5xl mx-auto w-full",children:[p.jsxs("div",{className:"text-center mb-12",children:[p.jsx("h1",{className:"text-3xl font-bold text-white font-display mb-2",children:"Exam Results"}),p.jsx("p",{className:"text-slate-400",children:"Here is how you performed on this simulation."})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-12",children:[p.jsxs("div",{className:"col-span-1 md:col-span-1 bg-slate-800 border border-slate-700 rounded-2xl p-8 flex flex-col items-center justify-center relative overflow-hidden",children:[p.jsx("div",{className:`absolute top-0 w-full h-2 ${v?"bg-emerald-500":"bg-red-500"}`}),p.jsx("div",{className:"w-40 h-40 mb-6",children:p.jsx(Rve,{data:_,options:{maintainAspectRatio:!0,cutout:"70%"}})}),p.jsxs("div",{className:"text-5xl font-bold text-white mb-2",children:[y,"%"]}),p.jsx("div",{className:`text-lg font-bold px-4 py-1 rounded-full ${v?"bg-emerald-500/10 text-emerald-400":"bg-red-500/10 text-red-500"}`,children:v?"PASSED":"FAILED"})]}),p.jsxs("div",{className:"col-span-1 md:col-span-2 space-y-6",children:[p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{className:"bg-slate-800/50 p-6 rounded-xl border border-slate-700 flex items-center gap-4",children:[p.jsx("div",{className:"w-12 h-12 rounded-lg bg-indigo-500/20 flex items-center justify-center text-indigo-400",children:p.jsx(Sf,{className:"w-6 h-6"})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-slate-400 text-sm",children:"Score"}),p.jsxs("p",{className:"text-2xl font-bold text-white",children:[n," ",p.jsxs("span",{className:"text-slate-500 text-base",children:["/ ",r]})]})]})]}),p.jsxs("div",{className:"bg-slate-800/50 p-6 rounded-xl border border-slate-700 flex items-center gap-4",children:[p.jsx("div",{className:"w-12 h-12 rounded-lg bg-pink-500/20 flex items-center justify-center text-pink-400",children:p.jsx(Wu,{className:"w-6 h-6"})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-slate-400 text-sm",children:"Time Taken"}),p.jsx("p",{className:"text-2xl font-bold text-white",children:E(i)})]})]})]}),p.jsxs("div",{className:"bg-slate-800/50 rounded-xl border border-slate-700 p-6",children:[p.jsx("h3",{className:"font-bold text-white mb-4",children:"Performance by Domain"}),p.jsx("div",{className:"space-y-4",children:u.map((w,A)=>p.jsxs("div",{children:[p.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[p.jsx("span",{className:"text-slate-300",children:w.name}),p.jsxs("span",{className:"font-bold text-white",children:[w.score,"%"]})]}),p.jsx("div",{className:"w-full bg-slate-700 rounded-full h-4 border border-slate-600/50 overflow-hidden",children:p.jsx("div",{className:"h-full rounded-full transition-all duration-500 shadow-[0_0_10px_rgba(0,0,0,0.2)]",style:{width:`${w.score}%`,backgroundColor:`hsl(${Math.min(w.score*1.2,120)}, 85%, 45%)`}})})]},A))})]})]})]}),p.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-2xl overflow-hidden mb-12",children:[p.jsxs("div",{className:"p-6 border-b border-slate-700 flex flex-col md:flex-row md:items-center justify-between gap-4",children:[p.jsx("h3",{className:"text-xl font-bold text-white",children:"Review Answers"}),p.jsxs("div",{className:"flex flex-wrap gap-2",children:[p.jsxs("button",{onClick:()=>m("all"),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${f==="all"?"bg-indigo-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:["All (",s.length,")"]}),p.jsxs("button",{onClick:()=>m("correct"),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${f==="correct"?"bg-emerald-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:["Correct (",s.filter((w,A)=>a[A]===w.correctAnswer).length,")"]}),p.jsxs("button",{onClick:()=>m("wrong"),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${f==="wrong"?"bg-red-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:["Wrong (",s.filter((w,A)=>a[A]!==void 0&&a[A]!==w.correctAnswer).length,")"]}),p.jsxs("button",{onClick:()=>m("flagged"),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${f==="flagged"?"bg-amber-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:["Flagged (",Object.values(l).filter(Boolean).length,")"]}),p.jsxs("button",{onClick:()=>m("unanswered"),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${f==="unanswered"?"bg-slate-500 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:["Unanswered (",s.filter((w,A)=>a[A]===void 0).length,")"]})]})]}),p.jsx("div",{className:"divide-y divide-slate-700",children:s.map((w,A)=>{const C=a[A],P=C===w.correctAnswer,L=l[A],M=C===void 0;return f==="correct"&&!P||f==="wrong"&&(P||M)||f==="flagged"&&!L||f==="unanswered"&&!M?null:p.jsx("div",{className:"p-6 hover:bg-slate-700/30 transition-colors",children:p.jsxs("div",{className:"flex gap-4",children:[p.jsxs("div",{className:"mt-1 flex flex-col gap-2 items-center",children:[P?p.jsx(Sf,{className:"w-6 h-6 text-emerald-500"}):M?p.jsx("div",{className:"w-6 h-6 rounded-full border-2 border-slate-600 flex items-center justify-center text-slate-500 text-xs font-bold",children:"?"}):p.jsx(XD,{className:"w-6 h-6 text-red-500"}),L&&p.jsx("div",{title:"Flagged for review",className:"text-amber-500",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"}),p.jsx("line",{x1:"4",y1:"22",x2:"4",y2:"15"})]})})]}),p.jsxs("div",{className:"flex-1",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[p.jsxs("span",{className:"text-sm font-mono text-slate-500",children:["Q",A+1]}),p.jsx("span",{className:"text-xs font-bold px-2 py-0.5 rounded bg-slate-700 text-slate-300 border border-slate-600",children:w.domain})]}),p.jsx("p",{className:"text-lg text-white font-medium mb-4",children:w.stem}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:w.options.map((z,j)=>{let R="border-slate-700 bg-slate-800/50",D="text-slate-400",B=null;return j===w.correctAnswer?(R="border-emerald-500/50 bg-emerald-500/10",D="text-emerald-400 font-bold",B=p.jsx(Sf,{className:"w-4 h-4 ml-auto"})):j===C&&!P&&(R="border-red-500/50 bg-red-500/10",D="text-red-400 line-through",B=p.jsx(XD,{className:"w-4 h-4 ml-auto"})),p.jsxs("div",{className:`p-3 rounded-lg border flex items-center ${R} ${D}`,children:[z,B]},j)})}),p.jsxs("div",{className:"bg-slate-900/50 p-4 rounded-lg border border-slate-700/50 text-slate-300 text-sm leading-relaxed",children:[p.jsx("strong",{className:"text-indigo-400 block mb-1",children:"Explanation:"}),w.explanation]})]})]})},w.id)})})]}),p.jsxs("div",{className:"flex justify-center gap-4 pb-12",children:[p.jsxs("button",{onClick:()=>e("/simulator"),className:"flex items-center gap-2 px-6 py-3 rounded-xl bg-slate-800 text-white font-bold hover:bg-slate-700 transition-colors",children:[p.jsx(Oue,{className:"w-5 h-5"}),"Take Another Exam"]}),p.jsxs("button",{onClick:()=>e("/app"),className:"flex items-center gap-2 px-6 py-3 rounded-xl bg-indigo-600 text-white font-bold hover:bg-indigo-500 transition-colors shadow-lg shadow-indigo-600/20",children:[p.jsx(s9,{className:"w-5 h-5"}),"Back to Dashboard"]})]})]})})}function O7(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=O7(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Lt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=O7(t))&&(r&&(r+=" "),r+=e);return r}var Mve=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function xP(t){if(typeof t!="string")return!1;var e=Mve;return e.includes(t)}var Dve=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Lve=new Set(Dve);function j7(t){return typeof t!="string"?!1:Lve.has(t)}function R7(t){return typeof t=="string"&&t.startsWith("data-")}function na(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(j7(n)||R7(n))&&(e[n]=t[n]);return e}function Ag(t){if(t==null)return null;if(T.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return na(e)}return typeof t=="object"&&!Array.isArray(t)?na(t):null}function ci(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(j7(n)||R7(n)||xP(n))&&(e[n]=t[n]);return e}function Vve(t){return t==null?null:T.isValidElement(t)?ci(t.props):typeof t=="object"&&!Array.isArray(t)?ci(t):null}var Uve=["children","width","height","viewBox","className","style","title","desc"];function GA(){return GA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},GA.apply(null,arguments)}function zve(t,e){if(t==null)return{};var n,r,i=Bve(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Bve(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var wP=T.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:s,className:a,style:l,title:u,desc:d}=t,f=zve(t,Uve),m=s||{width:r,height:i,x:0,y:0},y=Lt("recharts-surface",a);return T.createElement("svg",GA({},ci(f),{className:y,width:r,height:i,style:l,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:e}),T.createElement("title",null,u),T.createElement("desc",null,d),n)}),Fve=["children","className"];function YA(){return YA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},YA.apply(null,arguments)}function $ve(t,e){if(t==null)return{};var n,r,i=qve(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function qve(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Ss=T.forwardRef((t,e)=>{var{children:n,className:r}=t,i=$ve(t,Fve),s=Lt("recharts-layer",r);return T.createElement("g",YA({className:s},ci(i),{ref:e}),n)}),k7=T.createContext(null),Hve=()=>T.useContext(k7);function Wt(t){return function(){return t}}const M7=Math.cos,Sb=Math.sin,aa=Math.sqrt,Tb=Math.PI,lw=2*Tb,XA=Math.PI,QA=2*XA,pu=1e-6,Wve=QA-pu;function D7(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Kve(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return D7;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Gve{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?D7:Kve(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,l=this._y1,u=r-e,d=i-n,f=a-e,m=l-n,y=f*f+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(y>pu)if(!(Math.abs(m*u-d*f)>pu)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let v=r-a,_=i-l,E=u*u+d*d,w=v*v+_*_,A=Math.sqrt(E),C=Math.sqrt(y),P=s*Math.tan((XA-Math.acos((E+y-w)/(2*A*C)))/2),L=P/C,M=P/A;Math.abs(L-1)>pu&&this._append`L${e+L*f},${n+L*m}`,this._append`A${s},${s},0,0,${+(m*v>f*_)},${this._x1=e+M*u},${this._y1=n+M*d}`}}arc(e,n,r,i,s,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),u=r*Math.sin(i),d=e+l,f=n+u,m=1^a,y=a?i-s:s-i;this._x1===null?this._append`M${d},${f}`:(Math.abs(this._x1-d)>pu||Math.abs(this._y1-f)>pu)&&this._append`L${d},${f}`,r&&(y<0&&(y=y%QA+QA),y>Wve?this._append`A${r},${r},0,1,${m},${e-l},${n-u}A${r},${r},0,1,${m},${this._x1=d},${this._y1=f}`:y>pu&&this._append`A${r},${r},0,${+(y>=XA)},${m},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function _P(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Gve(e)}function EP(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function L7(t){this._context=t}L7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function cw(t){return new L7(t)}function V7(t){return t[0]}function U7(t){return t[1]}function z7(t,e){var n=Wt(!0),r=null,i=cw,s=null,a=_P(l);t=typeof t=="function"?t:t===void 0?V7:Wt(t),e=typeof e=="function"?e:e===void 0?U7:Wt(e);function l(u){var d,f=(u=EP(u)).length,m,y=!1,v;for(r==null&&(s=i(v=a())),d=0;d<=f;++d)!(d<f&&n(m=u[d],d,u))===y&&((y=!y)?s.lineStart():s.lineEnd()),y&&s.point(+t(m,d,u),+e(m,d,u));if(v)return s=null,v+""||null}return l.x=function(u){return arguments.length?(t=typeof u=="function"?u:Wt(+u),l):t},l.y=function(u){return arguments.length?(e=typeof u=="function"?u:Wt(+u),l):e},l.defined=function(u){return arguments.length?(n=typeof u=="function"?u:Wt(!!u),l):n},l.curve=function(u){return arguments.length?(i=u,r!=null&&(s=i(r)),l):i},l.context=function(u){return arguments.length?(u==null?r=s=null:s=i(r=u),l):r},l}function Wy(t,e,n){var r=null,i=Wt(!0),s=null,a=cw,l=null,u=_P(d);t=typeof t=="function"?t:t===void 0?V7:Wt(+t),e=typeof e=="function"?e:Wt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?U7:Wt(+n);function d(m){var y,v,_,E=(m=EP(m)).length,w,A=!1,C,P=new Array(E),L=new Array(E);for(s==null&&(l=a(C=u())),y=0;y<=E;++y){if(!(y<E&&i(w=m[y],y,m))===A)if(A=!A)v=y,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),_=y-1;_>=v;--_)l.point(P[_],L[_]);l.lineEnd(),l.areaEnd()}A&&(P[y]=+t(w,y,m),L[y]=+e(w,y,m),l.point(r?+r(w,y,m):P[y],n?+n(w,y,m):L[y]))}if(C)return l=null,C+""||null}function f(){return z7().defined(i).curve(a).context(s)}return d.x=function(m){return arguments.length?(t=typeof m=="function"?m:Wt(+m),r=null,d):t},d.x0=function(m){return arguments.length?(t=typeof m=="function"?m:Wt(+m),d):t},d.x1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:Wt(+m),d):r},d.y=function(m){return arguments.length?(e=typeof m=="function"?m:Wt(+m),n=null,d):e},d.y0=function(m){return arguments.length?(e=typeof m=="function"?m:Wt(+m),d):e},d.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:Wt(+m),d):n},d.lineX0=d.lineY0=function(){return f().x(t).y(e)},d.lineY1=function(){return f().x(t).y(n)},d.lineX1=function(){return f().x(r).y(e)},d.defined=function(m){return arguments.length?(i=typeof m=="function"?m:Wt(!!m),d):i},d.curve=function(m){return arguments.length?(a=m,s!=null&&(l=a(s)),d):a},d.context=function(m){return arguments.length?(m==null?s=l=null:l=a(s=m),d):s},d}class B7{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Yve(t){return new B7(t,!0)}function Xve(t){return new B7(t,!1)}const SP={draw(t,e){const n=aa(e/Tb);t.moveTo(n,0),t.arc(0,0,n,0,lw)}},Qve={draw(t,e){const n=aa(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},F7=aa(1/3),Zve=F7*2,Jve={draw(t,e){const n=aa(e/Zve),r=n*F7;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},ebe={draw(t,e){const n=aa(e),r=-n/2;t.rect(r,r,n,n)}},tbe=.8908130915292852,$7=Sb(Tb/10)/Sb(7*Tb/10),nbe=Sb(lw/10)*$7,rbe=-M7(lw/10)*$7,ibe={draw(t,e){const n=aa(e*tbe),r=nbe*n,i=rbe*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const a=lw*s/5,l=M7(a),u=Sb(a);t.lineTo(u*n,-l*n),t.lineTo(l*r-u*i,u*r+l*i)}t.closePath()}},QE=aa(3),sbe={draw(t,e){const n=-aa(e/(QE*3));t.moveTo(0,n*2),t.lineTo(-QE*n,-n),t.lineTo(QE*n,-n),t.closePath()}},hs=-.5,ms=aa(3)/2,ZA=1/aa(12),abe=(ZA/2+1)*3,obe={draw(t,e){const n=aa(e/abe),r=n/2,i=n*ZA,s=r,a=n*ZA+n,l=-s,u=a;t.moveTo(r,i),t.lineTo(s,a),t.lineTo(l,u),t.lineTo(hs*r-ms*i,ms*r+hs*i),t.lineTo(hs*s-ms*a,ms*s+hs*a),t.lineTo(hs*l-ms*u,ms*l+hs*u),t.lineTo(hs*r+ms*i,hs*i-ms*r),t.lineTo(hs*s+ms*a,hs*a-ms*s),t.lineTo(hs*l+ms*u,hs*u-ms*l),t.closePath()}};function lbe(t,e){let n=null,r=_P(i);t=typeof t=="function"?t:Wt(t||SP),e=typeof e=="function"?e:Wt(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:Wt(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:Wt(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function Ab(){}function Nb(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function q7(t){this._context=t}q7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Nb(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Nb(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function cbe(t){return new q7(t)}function H7(t){this._context=t}H7.prototype={areaStart:Ab,areaEnd:Ab,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Nb(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function ube(t){return new H7(t)}function W7(t){this._context=t}W7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Nb(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function dbe(t){return new W7(t)}function K7(t){this._context=t}K7.prototype={areaStart:Ab,areaEnd:Ab,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function fbe(t){return new K7(t)}function bL(t){return t<0?-1:1}function xL(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),l=(s*i+a*r)/(r+i);return(bL(s)+bL(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(l))||0}function wL(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function ZE(t,e,n){var r=t._x0,i=t._y0,s=t._x1,a=t._y1,l=(s-r)/3;t._context.bezierCurveTo(r+l,i+l*e,s-l,a-l*n,s,a)}function Cb(t){this._context=t}Cb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ZE(this,this._t0,wL(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,ZE(this,wL(this,n=xL(this,t,e)),n);break;default:ZE(this,this._t0,n=xL(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function G7(t){this._context=new Y7(t)}(G7.prototype=Object.create(Cb.prototype)).point=function(t,e){Cb.prototype.point.call(this,e,t)};function Y7(t){this._context=t}Y7.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function hbe(t){return new Cb(t)}function mbe(t){return new G7(t)}function X7(t){this._context=t}X7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=_L(t),i=_L(e),s=0,a=1;a<n;++s,++a)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function _L(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),a=new Array(n);for(i[0]=0,s[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function pbe(t){return new X7(t)}function uw(t,e){this._context=t,this._t=e}uw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function gbe(t){return new uw(t,.5)}function ybe(t){return new uw(t,0)}function vbe(t){return new uw(t,1)}function zf(t,e){if((a=t.length)>1)for(var n=1,r,i,s=t[e[0]],a,l=s.length;n<a;++n)for(i=s,s=t[e[n]],r=0;r<l;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function JA(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function bbe(t,e){return t[e]}function xbe(t){const e=[];return e.key=t,e}function wbe(){var t=Wt([]),e=JA,n=zf,r=bbe;function i(s){var a=Array.from(t.apply(this,arguments),xbe),l,u=a.length,d=-1,f;for(const m of s)for(l=0,++d;l<u;++l)(a[l][d]=[0,+r(m,a[l].key,d,s)]).data=m;for(l=0,f=EP(e(a));l<u;++l)a[f[l]].index=l;return n(a,f),a}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Wt(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:Wt(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?JA:typeof s=="function"?s:Wt(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??zf,i):n},i}function _be(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,a;i<s;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}zf(t,e)}}function Ebe(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var a=0,l=0;a<i;++a)l+=t[a][n][1]||0;r[n][1]+=r[n][0]=-l/2}zf(t,e)}}function Sbe(t,e){if(!(!((a=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,a;r<s;++r){for(var l=0,u=0,d=0;l<a;++l){for(var f=t[e[l]],m=f[r][1]||0,y=f[r-1][1]||0,v=(m-y)/2,_=0;_<l;++_){var E=t[e[_]],w=E[r][1]||0,A=E[r-1][1]||0;v+=w-A}u+=m,d+=v*m}i[r-1][1]+=i[r-1][0]=n,u&&(n-=d/u)}i[r-1][1]+=i[r-1][0]=n,zf(t,e)}}var JE={},eS={},EL;function Tbe(){return EL||(EL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(eS)),eS}var tS={},SL;function Q7(){return SL||(SL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(tS)),tS}var nS={},TL;function TP(){return TL||(TL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}t.toKey=e})(nS)),nS}var rS={},iS={},AL;function Abe(){return AL||(AL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(iS)),iS}var NL;function AP(){return NL||(NL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Abe(),n=TP();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const s=[],a=i.length;if(a===0)return s;let l=0,u="",d="",f=!1;for(i.charCodeAt(0)===46&&(s.push(""),l++);l<a;){const m=i[l];d?m==="\\"&&l+1<a?(l++,u+=i[l]):m===d?d="":u+=m:f?m==='"'||m==="'"?d=m:m==="]"?(f=!1,s.push(u),u=""):u+=m:m==="["?(f=!0,u&&(s.push(u),u="")):m==="."?u&&(s.push(u),u=""):u+=m,l++}return u&&s.push(u),s}t.toPath=r})(rS)),rS}var CL;function NP(){return CL||(CL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Tbe(),n=Q7(),r=TP(),i=AP();function s(l,u,d){if(l==null)return d;switch(typeof u){case"string":{if(e.isUnsafeProperty(u))return d;const f=l[u];return f===void 0?n.isDeepKey(u)?s(l,i.toPath(u),d):d:f}case"number":case"symbol":{typeof u=="number"&&(u=r.toKey(u));const f=l[u];return f===void 0?d:f}default:{if(Array.isArray(u))return a(l,u,d);if(Object.is(u?.valueOf(),-0)?u="-0":u=String(u),e.isUnsafeProperty(u))return d;const f=l[u];return f===void 0?d:f}}}function a(l,u,d){if(u.length===0)return d;let f=l;for(let m=0;m<u.length;m++){if(f==null||e.isUnsafeProperty(u[m]))return d;f=f[u[m]]}return f===void 0?d:f}t.get=s})(JE)),JE}var sS,PL;function Nbe(){return PL||(PL=1,sS=NP().get),sS}var Cbe=Nbe();const Bf=Zo(Cbe);var Ni=t=>t===0?0:t>0?1:-1,ra=t=>typeof t=="number"&&t!=+t,Ho=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,je=t=>(typeof t=="number"||t instanceof Number)&&!ra(t),qa=t=>je(t)||typeof t=="string",Pbe=0,Fp=t=>{var e=++Pbe;return"".concat(t||"").concat(e)},ia=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!je(e)&&typeof e!="string")return r;var s;if(Ho(e)){if(n==null)return r;var a=e.indexOf("%");s=n*parseFloat(e.slice(0,a))/100}else s=+e;return ra(s)&&(s=r),i&&n!=null&&s>n&&(s=n),s},Z7=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function xn(t,e,n){return je(t)&&je(e)?t+n*(e-t):e}function J7(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):Bf(r,e))===n)}var dn=t=>t===null||typeof t>"u",Ng=t=>dn(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function Ibe(t){return t!=null}function Cg(){}var Obe=["type","size","sizeType"];function eN(){return eN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eN.apply(null,arguments)}function IL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function OL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IL(Object(n),!0).forEach(function(r){jbe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jbe(t,e,n){return(e=Rbe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rbe(t){var e=kbe(t,"string");return typeof e=="symbol"?e:e+""}function kbe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mbe(t,e){if(t==null)return{};var n,r,i=Dbe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Dbe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var eq={symbolCircle:SP,symbolCross:Qve,symbolDiamond:Jve,symbolSquare:ebe,symbolStar:ibe,symbolTriangle:sbe,symbolWye:obe},Lbe=Math.PI/180,Vbe=t=>{var e="symbol".concat(Ng(t));return eq[e]||SP},Ube=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*Lbe;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},zbe=(t,e)=>{eq["symbol".concat(Ng(t))]=e},CP=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=Mbe(t,Obe),s=OL(OL({},i),{},{type:e,size:n,sizeType:r}),a="circle";typeof e=="string"&&(a=e);var l=()=>{var y=Vbe(a),v=lbe().type(y).size(Ube(n,r,a)),_=v();if(_!==null)return _},{className:u,cx:d,cy:f}=s,m=ci(s);return je(d)&&je(f)&&je(n)?T.createElement("path",eN({},m,{className:Lt("recharts-symbols",u),transform:"translate(".concat(d,", ").concat(f,")"),d:l()})):null};CP.registerSymbol=zbe;var tq=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,PP=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(T.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{xP(i)&&(r[i]=(s=>n[i](n,s)))}),r},Bbe=(t,e,n)=>r=>(t(e,n,r),null),dw=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var s=t[i];xP(i)&&typeof s=="function"&&(r||(r={}),r[i]=Bbe(s,e,n))}),r};function jL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fbe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jL(Object(n),!0).forEach(function(r){$be(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $be(t,e,n){return(e=qbe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qbe(t){var e=Hbe(t,"string");return typeof e=="symbol"?e:e+""}function Hbe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mr(t,e){var n=Fbe({},t),r=e,i=Object.keys(e),s=i.reduce((a,l)=>(a[l]===void 0&&r[l]!==void 0&&(a[l]=r[l]),a),n);return s}function Pb(){return Pb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pb.apply(null,arguments)}function RL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wbe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RL(Object(n),!0).forEach(function(r){Kbe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kbe(t,e,n){return(e=Gbe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gbe(t){var e=Ybe(t,"string");return typeof e=="symbol"?e:e+""}function Ybe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ys=32,Xbe={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function Qbe(t){var{data:e,iconType:n,inactiveColor:r}=t,i=ys/2,s=ys/6,a=ys/3,l=e.inactive?r:e.color,u=n??e.type;if(u==="none")return null;if(u==="plainline"){var d;return T.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:(d=e.payload)===null||d===void 0?void 0:d.strokeDasharray,x1:0,y1:i,x2:ys,y2:i,className:"recharts-legend-icon"})}if(u==="line")return T.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(i,"h").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*a,",").concat(i,`
            H`).concat(ys,"M").concat(2*a,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(a,",").concat(i),className:"recharts-legend-icon"});if(u==="rect")return T.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(ys/8,"h").concat(ys,"v").concat(ys*3/4,"h").concat(-ys,"z"),className:"recharts-legend-icon"});if(T.isValidElement(e.legendIcon)){var f=Wbe({},e);return delete f.legendIcon,T.cloneElement(e.legendIcon,f)}return T.createElement(CP,{fill:l,cx:i,cy:i,size:ys,sizeType:"diameter",type:u})}function Zbe(t){var{payload:e,iconSize:n,layout:r,formatter:i,inactiveColor:s,iconType:a}=t,l={x:0,y:0,width:ys,height:ys},u={display:r==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((f,m)=>{var y=f.formatter||i,v=Lt({"recharts-legend-item":!0,["legend-item-".concat(m)]:!0,inactive:f.inactive});if(f.type==="none")return null;var _=f.inactive?s:f.color,E=y?y(f.value,f,m):f.value;return T.createElement("li",Pb({className:v,style:u,key:"legend-item-".concat(m)},dw(t,f,m)),T.createElement(wP,{width:n,height:n,viewBox:l,style:d,"aria-label":"".concat(E," legend icon")},T.createElement(Qbe,{data:f,iconType:a,inactiveColor:s})),T.createElement("span",{className:"recharts-legend-item-text",style:{color:_}},E))})}var Jbe=t=>{var e=Mr(t,Xbe),{payload:n,layout:r,align:i}=e;if(!n||!n.length)return null;var s={padding:0,margin:0,textAlign:r==="horizontal"?i:"left"};return T.createElement("ul",{className:"recharts-default-legend",style:s},T.createElement(Zbe,Pb({},e,{payload:n})))},aS={},oS={},kL;function exe(){return kL||(kL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let s=0;s<n.length;s++){const a=n[s],l=r(a);i.has(l)||i.set(l,a)}return Array.from(i.values())}t.uniqBy=e})(oS)),oS}var lS={},ML;function nq(){return ML||(ML=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(lS)),lS}var cS={},uS={},dS={},DL;function txe(){return DL||(DL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(dS)),dS}var LL;function IP(){return LL||(LL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=txe();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(uS)),uS}var fS={},VL;function nxe(){return VL||(VL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(fS)),fS}var UL;function rxe(){return UL||(UL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=IP(),n=nxe();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(cS)),cS}var hS={},mS={},zL;function ixe(){return zL||(zL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=NP();function n(r){return function(i){return e.get(i,r)}}t.property=n})(mS)),mS}var pS={},gS={},yS={},vS={},BL;function rq(){return BL||(BL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(vS)),vS}var bS={},FL;function iq(){return FL||(FL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(bS)),bS}var xS={},$L;function sq(){return $L||($L=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(xS)),xS}var qL;function sxe(){return qL||(qL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=rq(),n=iq(),r=sq();function i(f,m,y){return typeof y!="function"?i(f,m,()=>{}):s(f,m,function v(_,E,w,A,C,P){const L=y(_,E,w,A,C,P);return L!==void 0?!!L:s(_,E,v,P)},new Map)}function s(f,m,y,v){if(m===f)return!0;switch(typeof m){case"object":return a(f,m,y,v);case"function":return Object.keys(m).length>0?s(f,{...m},y,v):r.eq(f,m);default:return e.isObject(f)?typeof m=="string"?m==="":!0:r.eq(f,m)}}function a(f,m,y,v){if(m==null)return!0;if(Array.isArray(m))return u(f,m,y,v);if(m instanceof Map)return l(f,m,y,v);if(m instanceof Set)return d(f,m,y,v);const _=Object.keys(m);if(f==null)return _.length===0;if(_.length===0)return!0;if(v?.has(m))return v.get(m)===f;v?.set(m,f);try{for(let E=0;E<_.length;E++){const w=_[E];if(!n.isPrimitive(f)&&!(w in f)||m[w]===void 0&&f[w]!==void 0||m[w]===null&&f[w]!==null||!y(f[w],m[w],w,f,m,v))return!1}return!0}finally{v?.delete(m)}}function l(f,m,y,v){if(m.size===0)return!0;if(!(f instanceof Map))return!1;for(const[_,E]of m.entries()){const w=f.get(_);if(y(w,E,_,f,m,v)===!1)return!1}return!0}function u(f,m,y,v){if(m.length===0)return!0;if(!Array.isArray(f))return!1;const _=new Set;for(let E=0;E<m.length;E++){const w=m[E];let A=!1;for(let C=0;C<f.length;C++){if(_.has(C))continue;const P=f[C];let L=!1;if(y(P,w,E,f,m,v)&&(L=!0),L){_.add(C),A=!0;break}}if(!A)return!1}return!0}function d(f,m,y,v){return m.size===0?!0:f instanceof Set?u([...f],[...m],y,v):!1}t.isMatchWith=i,t.isSetMatch=d})(yS)),yS}var HL;function aq(){return HL||(HL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=sxe();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(gS)),gS}var wS={},_S={},ES={},WL;function axe(){return WL||(WL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(ES)),ES}var SS={},KL;function oq(){return KL||(KL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(SS)),SS}var TS={},GL;function lq(){return GL||(GL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",s="[object Arguments]",a="[object Symbol]",l="[object Date]",u="[object Map]",d="[object Set]",f="[object Array]",m="[object Function]",y="[object ArrayBuffer]",v="[object Object]",_="[object Error]",E="[object DataView]",w="[object Uint8Array]",A="[object Uint8ClampedArray]",C="[object Uint16Array]",P="[object Uint32Array]",L="[object BigUint64Array]",M="[object Int8Array]",z="[object Int16Array]",j="[object Int32Array]",R="[object BigInt64Array]",D="[object Float32Array]",B="[object Float64Array]";t.argumentsTag=s,t.arrayBufferTag=y,t.arrayTag=f,t.bigInt64ArrayTag=R,t.bigUint64ArrayTag=L,t.booleanTag=i,t.dataViewTag=E,t.dateTag=l,t.errorTag=_,t.float32ArrayTag=D,t.float64ArrayTag=B,t.functionTag=m,t.int16ArrayTag=z,t.int32ArrayTag=j,t.int8ArrayTag=M,t.mapTag=u,t.numberTag=r,t.objectTag=v,t.regexpTag=e,t.setTag=d,t.stringTag=n,t.symbolTag=a,t.uint16ArrayTag=C,t.uint32ArrayTag=P,t.uint8ArrayTag=w,t.uint8ClampedArrayTag=A})(TS)),TS}var AS={},YL;function oxe(){return YL||(YL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(AS)),AS}var XL;function cq(){return XL||(XL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=axe(),n=oq(),r=lq(),i=iq(),s=oxe();function a(f,m){return l(f,void 0,f,new Map,m)}function l(f,m,y,v=new Map,_=void 0){const E=_?.(f,m,y,v);if(E!==void 0)return E;if(i.isPrimitive(f))return f;if(v.has(f))return v.get(f);if(Array.isArray(f)){const w=new Array(f.length);v.set(f,w);for(let A=0;A<f.length;A++)w[A]=l(f[A],A,y,v,_);return Object.hasOwn(f,"index")&&(w.index=f.index),Object.hasOwn(f,"input")&&(w.input=f.input),w}if(f instanceof Date)return new Date(f.getTime());if(f instanceof RegExp){const w=new RegExp(f.source,f.flags);return w.lastIndex=f.lastIndex,w}if(f instanceof Map){const w=new Map;v.set(f,w);for(const[A,C]of f)w.set(A,l(C,A,y,v,_));return w}if(f instanceof Set){const w=new Set;v.set(f,w);for(const A of f)w.add(l(A,void 0,y,v,_));return w}if(typeof Buffer<"u"&&Buffer.isBuffer(f))return f.subarray();if(s.isTypedArray(f)){const w=new(Object.getPrototypeOf(f)).constructor(f.length);v.set(f,w);for(let A=0;A<f.length;A++)w[A]=l(f[A],A,y,v,_);return w}if(f instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&f instanceof SharedArrayBuffer)return f.slice(0);if(f instanceof DataView){const w=new DataView(f.buffer.slice(0),f.byteOffset,f.byteLength);return v.set(f,w),u(w,f,y,v,_),w}if(typeof File<"u"&&f instanceof File){const w=new File([f],f.name,{type:f.type});return v.set(f,w),u(w,f,y,v,_),w}if(typeof Blob<"u"&&f instanceof Blob){const w=new Blob([f],{type:f.type});return v.set(f,w),u(w,f,y,v,_),w}if(f instanceof Error){const w=new f.constructor;return v.set(f,w),w.message=f.message,w.name=f.name,w.stack=f.stack,w.cause=f.cause,u(w,f,y,v,_),w}if(f instanceof Boolean){const w=new Boolean(f.valueOf());return v.set(f,w),u(w,f,y,v,_),w}if(f instanceof Number){const w=new Number(f.valueOf());return v.set(f,w),u(w,f,y,v,_),w}if(f instanceof String){const w=new String(f.valueOf());return v.set(f,w),u(w,f,y,v,_),w}if(typeof f=="object"&&d(f)){const w=Object.create(Object.getPrototypeOf(f));return v.set(f,w),u(w,f,y,v,_),w}return f}function u(f,m,y=f,v,_){const E=[...Object.keys(m),...e.getSymbols(m)];for(let w=0;w<E.length;w++){const A=E[w],C=Object.getOwnPropertyDescriptor(f,A);(C==null||C.writable)&&(f[A]=l(m[A],A,y,v,_))}}function d(f){switch(n.getTag(f)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=a,t.cloneDeepWithImpl=l,t.copyProperties=u})(_S)),_S}var QL;function lxe(){return QL||(QL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cq();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(wS)),wS}var ZL;function cxe(){return ZL||(ZL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=aq(),n=lxe();function r(i){return i=n.cloneDeep(i),s=>e.isMatch(s,i)}t.matches=r})(pS)),pS}var NS={},CS={},PS={},JL;function uxe(){return JL||(JL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cq(),n=lq();function r(i,s){return e.cloneDeepWith(i,(a,l,u,d)=>{const f=s?.(a,l,u,d);if(f!==void 0)return f;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const m=new i.constructor(i?.valueOf());return e.copyProperties(m,i),m}case n.argumentsTag:{const m={};return e.copyProperties(m,i),m.length=i.length,m[Symbol.iterator]=i[Symbol.iterator],m}default:return}})}t.cloneDeepWith=r})(PS)),PS}var e3;function dxe(){return e3||(e3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=uxe();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(CS)),CS}var IS={},OS={},t3;function uq(){return t3||(t3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(OS)),OS}var jS={},n3;function fxe(){return n3||(n3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=oq();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(jS)),jS}var r3;function hxe(){return r3||(r3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Q7(),n=uq(),r=fxe(),i=AP();function s(a,l){let u;if(Array.isArray(l)?u=l:typeof l=="string"&&e.isDeepKey(l)&&a?.[l]==null?u=i.toPath(l):u=[l],u.length===0)return!1;let d=a;for(let f=0;f<u.length;f++){const m=u[f];if((d==null||!Object.hasOwn(d,m))&&!((Array.isArray(d)||r.isArguments(d))&&n.isIndex(m)&&m<d.length))return!1;d=d[m]}return!0}t.has=s})(IS)),IS}var i3;function mxe(){return i3||(i3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=aq(),n=TP(),r=dxe(),i=NP(),s=hxe();function a(l,u){switch(typeof l){case"object":{Object.is(l?.valueOf(),-0)&&(l="-0");break}case"number":{l=n.toKey(l);break}}return u=r.cloneDeep(u),function(d){const f=i.get(d,l);return f===void 0?s.has(d,l):u===void 0?f===void 0:e.isMatch(f,u)}}t.matchesProperty=a})(NS)),NS}var s3;function pxe(){return s3||(s3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=nq(),n=ixe(),r=cxe(),i=mxe();function s(a){if(a==null)return e.identity;switch(typeof a){case"function":return a;case"object":return Array.isArray(a)&&a.length===2?i.matchesProperty(a[0],a[1]):r.matches(a);case"string":case"symbol":case"number":return n.property(a)}}t.iteratee=s})(hS)),hS}var a3;function gxe(){return a3||(a3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=exe(),n=nq(),r=rxe(),i=pxe();function s(a,l=n.identity){return r.isArrayLikeObject(a)?e.uniqBy(Array.from(a),i.iteratee(l)):[]}t.uniqBy=s})(aS)),aS}var RS,o3;function yxe(){return o3||(o3=1,RS=gxe().uniqBy),RS}var vxe=yxe();const l3=Zo(vxe);function dq(t,e,n){return e===!0?l3(t,n):typeof e=="function"?l3(t,e):t}var kS={exports:{}},MS={},DS={exports:{}},LS={};var c3;function bxe(){if(c3)return LS;c3=1;var t=Xf();function e(m,y){return m===y&&(m!==0||1/m===1/y)||m!==m&&y!==y}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,a=t.useDebugValue;function l(m,y){var v=y(),_=r({inst:{value:v,getSnapshot:y}}),E=_[0].inst,w=_[1];return s(function(){E.value=v,E.getSnapshot=y,u(E)&&w({inst:E})},[m,v,y]),i(function(){return u(E)&&w({inst:E}),m(function(){u(E)&&w({inst:E})})},[m]),a(v),v}function u(m){var y=m.getSnapshot;m=m.value;try{var v=y();return!n(m,v)}catch{return!0}}function d(m,y){return y()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return LS.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:f,LS}var u3;function xxe(){return u3||(u3=1,DS.exports=bxe()),DS.exports}var d3;function wxe(){if(d3)return MS;d3=1;var t=Xf(),e=xxe();function n(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,a=t.useEffect,l=t.useMemo,u=t.useDebugValue;return MS.useSyncExternalStoreWithSelector=function(d,f,m,y,v){var _=s(null);if(_.current===null){var E={hasValue:!1,value:null};_.current=E}else E=_.current;_=l(function(){function A(z){if(!C){if(C=!0,P=z,z=y(z),v!==void 0&&E.hasValue){var j=E.value;if(v(j,z))return L=j}return L=z}if(j=L,r(P,z))return j;var R=y(z);return v!==void 0&&v(j,R)?(P=z,j):(P=z,L=R)}var C=!1,P,L,M=m===void 0?null:m;return[function(){return A(f())},M===null?void 0:function(){return A(M())}]},[f,m,y,v]);var w=i(d,_[0],_[1]);return a(function(){E.hasValue=!0,E.value=w},[w]),u(w),w},MS}var f3;function _xe(){return f3||(f3=1,kS.exports=wxe()),kS.exports}var Exe=_xe(),OP=T.createContext(null),Sxe=t=>t,gn=()=>{var t=T.useContext(OP);return t?t.store.dispatch:Sxe},Cv=()=>{},Txe=()=>Cv,Axe=(t,e)=>t===e;function Re(t){var e=T.useContext(OP);return Exe.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:Txe,e?e.store.getState:Cv,e?e.store.getState:Cv,e?t:Cv,Axe)}function Nxe(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function Cxe(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function Pxe(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var h3=t=>Array.isArray(t)?t:[t];function Ixe(t){const e=Array.isArray(t[0])?t[0]:t;return Pxe(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function Oxe(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var jxe=class{constructor(t){this.value=t}deref(){return this.value}},Rxe=typeof WeakRef<"u"?WeakRef:jxe,kxe=0,m3=1;function Ky(){return{s:kxe,v:void 0,o:null,p:null}}function fq(t,e={}){let n=Ky();const{resultEqualityCheck:r}=e;let i,s=0;function a(){let l=n;const{length:u}=arguments;for(let m=0,y=u;m<y;m++){const v=arguments[m];if(typeof v=="function"||typeof v=="object"&&v!==null){let _=l.o;_===null&&(l.o=_=new WeakMap);const E=_.get(v);E===void 0?(l=Ky(),_.set(v,l)):l=E}else{let _=l.p;_===null&&(l.p=_=new Map);const E=_.get(v);E===void 0?(l=Ky(),_.set(v,l)):l=E}}const d=l;let f;if(l.s===m3)f=l.v;else if(f=t.apply(null,arguments),s++,r){const m=i?.deref?.()??i;m!=null&&r(m,f)&&(f=m,s!==0&&s--),i=typeof f=="object"&&f!==null||typeof f=="function"?new Rxe(f):f}return d.s=m3,d.v=f,f}return a.clearCache=()=>{n=Ky(),a.resetResultsCount()},a.resultsCount=()=>s,a.resetResultsCount=()=>{s=0},a}function Mxe(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let s=0,a=0,l,u={},d=i.pop();typeof d=="object"&&(u=d,d=i.pop()),Nxe(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const f={...n,...u},{memoize:m,memoizeOptions:y=[],argsMemoize:v=fq,argsMemoizeOptions:_=[]}=f,E=h3(y),w=h3(_),A=Ixe(i),C=m(function(){return s++,d.apply(null,arguments)},...E),P=v(function(){a++;const M=Oxe(A,arguments);return l=C.apply(null,M),l},...w);return Object.assign(P,{resultFunc:d,memoizedResultFunc:C,dependencies:A,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>l,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:m,argsMemoize:v})};return Object.assign(r,{withTypes:()=>r}),r}var oe=Mxe(fq),Dxe=Object.assign((t,e=oe)=>{Cxe(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((a,l,u)=>(a[n[u]]=l,a),{}))},{withTypes:()=>Dxe}),VS={},US={},zS={},p3;function Lxe(){return p3||(p3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,s)=>{if(r!==i){const a=e(r),l=e(i);if(a===l&&a===0){if(r<i)return s==="desc"?1:-1;if(r>i)return s==="desc"?-1:1}return s==="desc"?l-a:a-l}return 0};t.compareValues=n})(zS)),zS}var BS={},FS={},g3;function hq(){return g3||(g3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(FS)),FS}var y3;function Vxe(){return y3||(y3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=hq(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,a){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||a!=null&&Object.hasOwn(a,s)}t.isKey=i})(BS)),BS}var v3;function Uxe(){return v3||(v3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Lxe(),n=Vxe(),r=AP();function i(s,a,l,u){if(s==null)return[];l=u?void 0:l,Array.isArray(s)||(s=Object.values(s)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(v=>String(v));const d=(v,_)=>{let E=v;for(let w=0;w<_.length&&E!=null;++w)E=E[_[w]];return E},f=(v,_)=>_==null||v==null?_:typeof v=="object"&&"key"in v?Object.hasOwn(_,v.key)?_[v.key]:d(_,v.path):typeof v=="function"?v(_):Array.isArray(v)?d(_,v):typeof _=="object"?_[v]:_,m=a.map(v=>(Array.isArray(v)&&v.length===1&&(v=v[0]),v==null||typeof v=="function"||Array.isArray(v)||n.isKey(v)?v:{key:v,path:r.toPath(v)}));return s.map(v=>({original:v,criteria:m.map(_=>f(_,v))})).slice().sort((v,_)=>{for(let E=0;E<m.length;E++){const w=e.compareValues(v.criteria[E],_.criteria[E],l[E]);if(w!==0)return w}return 0}).map(v=>v.original)}t.orderBy=i})(US)),US}var $S={},b3;function zxe(){return b3||(b3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],s=Math.floor(r),a=(l,u)=>{for(let d=0;d<l.length;d++){const f=l[d];Array.isArray(f)&&u<s?a(f,u+1):i.push(f)}};return a(n,0),i}t.flatten=e})($S)),$S}var qS={},x3;function mq(){return x3||(x3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=uq(),n=IP(),r=rq(),i=sq();function s(a,l,u){return r.isObject(u)&&(typeof l=="number"&&n.isArrayLike(u)&&e.isIndex(l)&&l<u.length||typeof l=="string"&&l in u)?i.eq(u[l],a):!1}t.isIterateeCall=s})(qS)),qS}var w3;function Bxe(){return w3||(w3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Uxe(),n=zxe(),r=mq();function i(s,...a){const l=a.length;return l>1&&r.isIterateeCall(s,a[0],a[1])?a=[]:l>2&&r.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),e.orderBy(s,n.flatten(a),["asc"])}t.sortBy=i})(VS)),VS}var HS,_3;function Fxe(){return _3||(_3=1,HS=Bxe().sortBy),HS}var $xe=Fxe();const fw=Zo($xe);var pq=t=>t.legend.settings,qxe=t=>t.legend.size,Hxe=t=>t.legend.payload,Wxe=oe([Hxe,pq],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?fw(r,n):r});function Kxe(){return Re(Wxe)}var Gy=1;function gq(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=T.useState({height:0,left:0,top:0,width:0}),r=T.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),a={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(a.height-e.height)>Gy||Math.abs(a.left-e.left)>Gy||Math.abs(a.top-e.top)>Gy||Math.abs(a.width-e.width)>Gy)&&n({height:a.height,left:a.left,top:a.top,width:a.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function Pr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Gxe=typeof Symbol=="function"&&Symbol.observable||"@@observable",E3=Gxe,WS=()=>Math.random().toString(36).substring(7).split("").join("."),Yxe={INIT:`@@redux/INIT${WS()}`,REPLACE:`@@redux/REPLACE${WS()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${WS()}`},Ib=Yxe;function jP(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function yq(t,e,n){if(typeof t!="function")throw new Error(Pr(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Pr(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Pr(1));return n(yq)(t,e)}let r=t,i=e,s=new Map,a=s,l=0,u=!1;function d(){a===s&&(a=new Map,s.forEach((w,A)=>{a.set(A,w)}))}function f(){if(u)throw new Error(Pr(3));return i}function m(w){if(typeof w!="function")throw new Error(Pr(4));if(u)throw new Error(Pr(5));let A=!0;d();const C=l++;return a.set(C,w),function(){if(A){if(u)throw new Error(Pr(6));A=!1,d(),a.delete(C),s=null}}}function y(w){if(!jP(w))throw new Error(Pr(7));if(typeof w.type>"u")throw new Error(Pr(8));if(typeof w.type!="string")throw new Error(Pr(17));if(u)throw new Error(Pr(9));try{u=!0,i=r(i,w)}finally{u=!1}return(s=a).forEach(C=>{C()}),w}function v(w){if(typeof w!="function")throw new Error(Pr(10));r=w,y({type:Ib.REPLACE})}function _(){const w=m;return{subscribe(A){if(typeof A!="object"||A===null)throw new Error(Pr(11));function C(){const L=A;L.next&&L.next(f())}return C(),{unsubscribe:w(C)}},[E3](){return this}}}return y({type:Ib.INIT}),{dispatch:y,subscribe:m,getState:f,replaceReducer:v,[E3]:_}}function Xxe(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Ib.INIT})>"u")throw new Error(Pr(12));if(typeof n(void 0,{type:Ib.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Pr(13))})}function vq(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const a=e[s];typeof t[a]=="function"&&(n[a]=t[a])}const r=Object.keys(n);let i;try{Xxe(n)}catch(s){i=s}return function(a={},l){if(i)throw i;let u=!1;const d={};for(let f=0;f<r.length;f++){const m=r[f],y=n[m],v=a[m],_=y(v,l);if(typeof _>"u")throw l&&l.type,new Error(Pr(14));d[m]=_,u=u||_!==v}return u=u||r.length!==Object.keys(a).length,u?d:a}}function Ob(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function Qxe(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(Pr(15))};const a={getState:i.getState,dispatch:(u,...d)=>s(u,...d)},l=t.map(u=>u(a));return s=Ob(...l)(i.dispatch),{...i,dispatch:s}}}function bq(t){return jP(t)&&"type"in t&&typeof t.type=="string"}var xq=Symbol.for("immer-nothing"),S3=Symbol.for("immer-draftable"),ui=Symbol.for("immer-state");function qs(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Ki=Object,Ff=Ki.getPrototypeOf,jb="constructor",hw="prototype",tN="configurable",Rb="enumerable",Pv="writable",$p="value",Wo=t=>!!t&&!!t[ui];function sa(t){return t?wq(t)||mw(t)||!!t[S3]||!!t[jb]?.[S3]||pw(t)||gw(t):!1}var Zxe=Ki[hw][jb].toString(),T3=new WeakMap;function wq(t){if(!t||!RP(t))return!1;const e=Ff(t);if(e===null||e===Ki[hw])return!0;const n=Ki.hasOwnProperty.call(e,jb)&&e[jb];if(n===Object)return!0;if(!rf(n))return!1;let r=T3.get(n);return r===void 0&&(r=Function.toString.call(n),T3.set(n,r)),r===Zxe}function Pg(t,e,n=!0){Ig(t)===0?(n?Reflect.ownKeys(t):Ki.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function Ig(t){const e=t[ui];return e?e.type_:mw(t)?1:pw(t)?2:gw(t)?3:0}var A3=(t,e,n=Ig(t))=>n===2?t.has(e):Ki[hw].hasOwnProperty.call(t,e),nN=(t,e,n=Ig(t))=>n===2?t.get(e):t[e],kb=(t,e,n,r=Ig(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function Jxe(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var mw=Array.isArray,pw=t=>t instanceof Map,gw=t=>t instanceof Set,RP=t=>typeof t=="object",rf=t=>typeof t=="function",KS=t=>typeof t=="boolean",wo=t=>t.copy_||t.base_,kP=t=>t.modified_?t.copy_:t.base_;function rN(t,e){if(pw(t))return new Map(t);if(gw(t))return new Set(t);if(mw(t))return Array[hw].slice.call(t);const n=wq(t);if(e===!0||e==="class_only"&&!n){const r=Ki.getOwnPropertyDescriptors(t);delete r[ui];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const a=i[s],l=r[a];l[Pv]===!1&&(l[Pv]=!0,l[tN]=!0),(l.get||l.set)&&(r[a]={[tN]:!0,[Pv]:!0,[Rb]:l[Rb],[$p]:t[a]})}return Ki.create(Ff(t),r)}else{const r=Ff(t);if(r!==null&&n)return{...t};const i=Ki.create(r);return Ki.assign(i,t)}}function MP(t,e=!1){return yw(t)||Wo(t)||!sa(t)||(Ig(t)>1&&Ki.defineProperties(t,{set:Yy,add:Yy,clear:Yy,delete:Yy}),Ki.freeze(t),e&&Pg(t,(n,r)=>{MP(r,!0)},!1)),t}function ewe(){qs(2)}var Yy={[$p]:ewe};function yw(t){return t===null||!RP(t)?!0:Ki.isFrozen(t)}var Mb="MapSet",iN="Patches",_q={};function $f(t){const e=_q[t];return e||qs(0,t),e}var twe=t=>!!_q[t],qp,Eq=()=>qp,nwe=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:twe(Mb)?$f(Mb):void 0});function N3(t,e){e&&(t.patchPlugin_=$f(iN),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function sN(t){aN(t),t.drafts_.forEach(rwe),t.drafts_=null}function aN(t){t===qp&&(qp=t.parent_)}var C3=t=>qp=nwe(qp,t);function rwe(t){const e=t[ui];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function P3(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[ui].modified_&&(sN(e),qs(4)),sa(t)&&(t=I3(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(n[ui].base_,t,e)}else t=I3(e,n);return iwe(e,t,!0),sN(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==xq?t:void 0}function I3(t,e){if(yw(e))return e;const n=e[ui];if(!n)return DP(e,t.handledSet_,t);if(!vw(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);Aq(n,t)}return n.copy_}function iwe(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&MP(e,n)}function Sq(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var vw=(t,e)=>t.scope_===e,swe=[];function Tq(t,e,n,r){const i=wo(t),s=t.type_;if(r!==void 0&&nN(i,r,s)===e){kb(i,r,n,s);return}if(!t.draftLocations_){const l=t.draftLocations_=new Map;Pg(i,(u,d)=>{if(Wo(d)){const f=l.get(d)||[];f.push(u),l.set(d,f)}})}const a=t.draftLocations_.get(e)??swe;for(const l of a)kb(i,l,n,s)}function awe(t,e,n){t.callbacks_.push(function(i){const s=e;if(!s||!vw(s,i))return;i.mapSetPlugin_?.fixSetContents(s);const a=kP(s);Tq(t,s.draft_??s,a,n),Aq(s,i)})}function Aq(t,e){if(t.modified_&&!t.finalized_&&(t.type_===3||(t.assigned_?.size??0)>0)){const{patchPlugin_:r}=e;if(r){const i=r.getPath(t);i&&r.generatePatches_(t,i,e)}Sq(t)}}function owe(t,e,n){const{scope_:r}=t;if(Wo(n)){const i=n[ui];vw(i,r)&&i.callbacks_.push(function(){Iv(t);const a=kP(i);Tq(t,n,a,e)})}else sa(n)&&t.callbacks_.push(function(){const s=wo(t);nN(s,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&DP(nN(t.copy_,e,t.type_),r.handledSet_,r)})}function DP(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Wo(t)||e.has(t)||!sa(t)||yw(t)||(e.add(t),Pg(t,(r,i)=>{if(Wo(i)){const s=i[ui];if(vw(s,n)){const a=kP(s);kb(t,r,a,t.type_),Sq(s)}}else sa(i)&&DP(i,e,n)})),t}function lwe(t,e){const n=mw(t),r={type_:n?1:0,scope_:e?e.scope_:Eq(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,s=LP;n&&(i=[r],s=Hp);const{revoke:a,proxy:l}=Proxy.revocable(i,s);return r.draft_=l,r.revoke_=a,[l,r]}var LP={get(t,e){if(e===ui)return t;const n=wo(t);if(!A3(n,e,t.type_))return cwe(t,n,e);const r=n[e];if(t.finalized_||!sa(r))return r;if(r===GS(t.base_,e)){Iv(t);const i=t.type_===1?+e:e,s=lN(t.scope_,r,t,i);return t.copy_[i]=s}return r},has(t,e){return e in wo(t)},ownKeys(t){return Reflect.ownKeys(wo(t))},set(t,e,n){const r=Nq(wo(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=GS(wo(t),e),s=i?.[ui];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(Jxe(n,i)&&(n!==void 0||A3(t.base_,e,t.type_)))return!0;Iv(t),oN(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),owe(t,e,n)),!0},deleteProperty(t,e){return Iv(t),GS(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),oN(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=wo(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[Pv]:!0,[tN]:t.type_!==1||e!=="length",[Rb]:r[Rb],[$p]:n[e]}},defineProperty(){qs(11)},getPrototypeOf(t){return Ff(t.base_)},setPrototypeOf(){qs(12)}},Hp={};Pg(LP,(t,e)=>{Hp[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}});Hp.deleteProperty=function(t,e){return Hp.set.call(this,t,e,void 0)};Hp.set=function(t,e,n){return LP.set.call(this,t[0],e,n,t[0])};function GS(t,e){const n=t[ui];return(n?wo(n):t)[e]}function cwe(t,e,n){const r=Nq(e,n);return r?$p in r?r[$p]:r.get?.call(t.draft_):void 0}function Nq(t,e){if(!(e in t))return;let n=Ff(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Ff(n)}}function oN(t){t.modified_||(t.modified_=!0,t.parent_&&oN(t.parent_))}function Iv(t){t.copy_||(t.assigned_=new Map,t.copy_=rN(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var uwe=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(rf(n)&&!rf(r)){const a=r;r=n;const l=this;return function(d=a,...f){return l.produce(d,m=>r.call(this,m,...f))}}rf(r)||qs(6),i!==void 0&&!rf(i)&&qs(7);let s;if(sa(n)){const a=C3(this),l=lN(a,n,void 0);let u=!0;try{s=r(l),u=!1}finally{u?sN(a):aN(a)}return N3(a,i),P3(s,a)}else if(!n||!RP(n)){if(s=r(n),s===void 0&&(s=n),s===xq&&(s=void 0),this.autoFreeze_&&MP(s,!0),i){const a=[],l=[];$f(iN).generateReplacementPatches_(n,s,{patches_:a,inversePatches_:l}),i(a,l)}return s}else qs(1,n)},this.produceWithPatches=(n,r)=>{if(rf(n))return(l,...u)=>this.produceWithPatches(l,d=>n(d,...u));let i,s;return[this.produce(n,r,(l,u)=>{i=l,s=u}),i,s]},KS(e?.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),KS(e?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),KS(e?.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){sa(e)||qs(8),Wo(e)&&(e=Zs(e));const n=C3(this),r=lN(n,e,void 0);return r[ui].isManual_=!0,aN(n),r}finishDraft(e,n){const r=e&&e[ui];(!r||!r.isManual_)&&qs(9);const{scope_:i}=r;return N3(i,n),P3(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const s=n[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(n=n.slice(r+1));const i=$f(iN).applyPatches_;return Wo(e)?i(e,n):this.produce(e,s=>i(s,n))}};function lN(t,e,n,r){const[i,s]=pw(e)?$f(Mb).proxyMap_(e,n):gw(e)?$f(Mb).proxySet_(e,n):lwe(e,n);return(n?.scope_??Eq()).drafts_.push(i),s.callbacks_=n?.callbacks_??[],s.key_=r,n&&r!==void 0?awe(n,s,r):s.callbacks_.push(function(u){u.mapSetPlugin_?.fixSetContents(s);const{patchPlugin_:d}=u;s.modified_&&d&&d.generatePatches_(s,[],u)}),i}function Zs(t){return Wo(t)||qs(10,t),Cq(t)}function Cq(t){if(!sa(t)||yw(t))return t;const e=t[ui];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=rN(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=rN(t,!0);return Pg(n,(i,s)=>{kb(n,i,Cq(s))},r),e&&(e.finalized_=!1),n}var dwe=new uwe,Pq=dwe.produce;function Iq(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var fwe=Iq(),hwe=Iq,mwe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Ob:Ob.apply(null,arguments)};function Ts(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(Yi(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>bq(r)&&r.type===t,n}var Oq=class Xm extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Xm.prototype)}static get[Symbol.species](){return Xm}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Xm(...e[0].concat(this)):new Xm(...e.concat(this))}};function O3(t){return sa(t)?Pq(t,()=>{}):t}function Xy(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function pwe(t){return typeof t=="boolean"}var gwe=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let a=new Oq;return n&&(pwe(n)?a.push(fwe):a.push(hwe(n.extraArgument))),a},jq="RTK_autoBatch",an=()=>t=>({payload:t,meta:{[jq]:!0}}),j3=t=>e=>{setTimeout(e,t)},Rq=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,a=!1;const l=new Set,u=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:j3(10):t.type==="callback"?t.queueNotification:j3(t.timeout),d=()=>{a=!1,s&&(s=!1,l.forEach(f=>f()))};return Object.assign({},r,{subscribe(f){const m=()=>i&&f(),y=r.subscribe(m);return l.add(f),()=>{y(),l.delete(f)}},dispatch(f){try{return i=!f?.meta?.[jq],s=!i,s&&(a||(a=!0,u(d))),r.dispatch(f)}finally{i=!0}}})},ywe=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new Oq(t);return r&&i.push(Rq(typeof r=="object"?r:void 0)),i};function vwe(t){const e=gwe(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:a=void 0}=t||{};let l;if(typeof n=="function")l=n;else if(jP(n))l=vq(n);else throw new Error(Yi(1));let u;typeof r=="function"?u=r(e):u=e();let d=Ob;i&&(d=mwe({trace:!1,...typeof i=="object"&&i}));const f=Qxe(...u),m=ywe(f);let y=typeof a=="function"?a(m):m();const v=d(...y);return yq(l,s,v)}function kq(t){const e={},n=[];let r;const i={addCase(s,a){const l=typeof s=="string"?s:s.type;if(!l)throw new Error(Yi(28));if(l in e)throw new Error(Yi(29));return e[l]=a,i},addAsyncThunk(s,a){return a.pending&&(e[s.pending.type]=a.pending),a.rejected&&(e[s.rejected.type]=a.rejected),a.fulfilled&&(e[s.fulfilled.type]=a.fulfilled),a.settled&&n.push({matcher:s.settled,reducer:a.settled}),i},addMatcher(s,a){return n.push({matcher:s,reducer:a}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function bwe(t){return typeof t=="function"}function xwe(t,e){let[n,r,i]=kq(e),s;if(bwe(t))s=()=>O3(t());else{const l=O3(t);s=()=>l}function a(l=s(),u){let d=[n[u.type],...r.filter(({matcher:f})=>f(u)).map(({reducer:f})=>f)];return d.filter(f=>!!f).length===0&&(d=[i]),d.reduce((f,m)=>{if(m)if(Wo(f)){const v=m(f,u);return v===void 0?f:v}else{if(sa(f))return Pq(f,y=>m(y,u));{const y=m(f,u);if(y===void 0){if(f===null)return f;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return f},l)}return a.getInitialState=s,a}var wwe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",_we=(t=21)=>{let e="",n=t;for(;n--;)e+=wwe[Math.random()*64|0];return e},Ewe=Symbol.for("rtk-slice-createasyncthunk");function Swe(t,e){return`${t}/${e}`}function Twe({creators:t}={}){const e=t?.asyncThunk?.[Ewe];return function(r){const{name:i,reducerPath:s=i}=r;if(!i)throw new Error(Yi(11));const a=(typeof r.reducers=="function"?r.reducers(Nwe()):r.reducers)||{},l=Object.keys(a),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(P,L){const M=typeof P=="string"?P:P.type;if(!M)throw new Error(Yi(12));if(M in u.sliceCaseReducersByType)throw new Error(Yi(13));return u.sliceCaseReducersByType[M]=L,d},addMatcher(P,L){return u.sliceMatchers.push({matcher:P,reducer:L}),d},exposeAction(P,L){return u.actionCreators[P]=L,d},exposeCaseReducer(P,L){return u.sliceCaseReducersByName[P]=L,d}};l.forEach(P=>{const L=a[P],M={reducerName:P,type:Swe(i,P),createNotation:typeof r.reducers=="function"};Pwe(L)?Owe(M,L,d,e):Cwe(M,L,d)});function f(){const[P={},L=[],M=void 0]=typeof r.extraReducers=="function"?kq(r.extraReducers):[r.extraReducers],z={...P,...u.sliceCaseReducersByType};return xwe(r.initialState,j=>{for(let R in z)j.addCase(R,z[R]);for(let R of u.sliceMatchers)j.addMatcher(R.matcher,R.reducer);for(let R of L)j.addMatcher(R.matcher,R.reducer);M&&j.addDefaultCase(M)})}const m=P=>P,y=new Map,v=new WeakMap;let _;function E(P,L){return _||(_=f()),_(P,L)}function w(){return _||(_=f()),_.getInitialState()}function A(P,L=!1){function M(j){let R=j[P];return typeof R>"u"&&L&&(R=Xy(v,M,w)),R}function z(j=m){const R=Xy(y,L,()=>new WeakMap);return Xy(R,j,()=>{const D={};for(const[B,V]of Object.entries(r.selectors??{}))D[B]=Awe(V,j,()=>Xy(v,j,w),L);return D})}return{reducerPath:P,getSelectors:z,get selectors(){return z(M)},selectSlice:M}}const C={name:i,reducer:E,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:w,...A(s),injectInto(P,{reducerPath:L,...M}={}){const z=L??s;return P.inject({reducerPath:z,reducer:E},M),{...C,...A(z,!0)}}};return C}}function Awe(t,e,n,r){function i(s,...a){let l=e(s);return typeof l>"u"&&r&&(l=n()),t(l,...a)}return i.unwrapped=t,i}var Ii=Twe();function Nwe(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function Cwe({type:t,reducerName:e,createNotation:n},r,i){let s,a;if("reducer"in r){if(n&&!Iwe(r))throw new Error(Yi(17));s=r.reducer,a=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,a?Ts(t,a):Ts(t))}function Pwe(t){return t._reducerDefinitionType==="asyncThunk"}function Iwe(t){return t._reducerDefinitionType==="reducerWithPrepare"}function Owe({type:t,reducerName:e},n,r,i){if(!i)throw new Error(Yi(18));const{payloadCreator:s,fulfilled:a,pending:l,rejected:u,settled:d,options:f}=n,m=i(t,s,f);r.exposeAction(e,m),a&&r.addCase(m.fulfilled,a),l&&r.addCase(m.pending,l),u&&r.addCase(m.rejected,u),d&&r.addMatcher(m.settled,d),r.exposeCaseReducer(e,{fulfilled:a||Qy,pending:l||Qy,rejected:u||Qy,settled:d||Qy})}function Qy(){}var jwe="task",Mq="listener",Dq="completed",VP="cancelled",Rwe=`task-${VP}`,kwe=`task-${Dq}`,cN=`${Mq}-${VP}`,Mwe=`${Mq}-${Dq}`,bw=class{constructor(t){this.code=t,this.message=`${jwe} ${VP} (reason: ${t})`}name="TaskAbortError";message},UP=(t,e)=>{if(typeof t!="function")throw new TypeError(Yi(32))},Db=()=>{},Lq=(t,e=Db)=>(t.catch(e),t),Vq=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Ru=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},ku=t=>{if(t.aborted){const{reason:e}=t;throw new bw(e)}};function Uq(t,e){let n=Db;return new Promise((r,i)=>{const s=()=>i(new bw(t.reason));if(t.aborted){s();return}n=Vq(t,s),e.finally(()=>n()).then(r,i)}).finally(()=>{n=Db})}var Dwe=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof bw?"cancelled":"rejected",error:n}}finally{e?.()}},Lb=t=>e=>Lq(Uq(t,e).then(n=>(ku(t),n))),zq=t=>{const e=Lb(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Nf}=Object,R3={},xw="listenerMiddleware",Lwe=(t,e)=>{const n=r=>Vq(t,()=>Ru(r,t.reason));return(r,i)=>{UP(r);const s=new AbortController;n(s);const a=Dwe(async()=>{ku(t),ku(s.signal);const l=await r({pause:Lb(s.signal),delay:zq(s.signal),signal:s.signal});return ku(s.signal),l},()=>Ru(s,kwe));return i?.autoJoin&&e.push(a.catch(Db)),{result:Lb(t)(a),cancel(){Ru(s,Rwe)}}}},Vwe=(t,e)=>{const n=async(r,i)=>{ku(e);let s=()=>{};const l=[new Promise((u,d)=>{let f=t({predicate:r,effect:(m,y)=>{y.unsubscribe(),u([m,y.getState(),y.getOriginalState()])}});s=()=>{f(),d()}})];i!=null&&l.push(new Promise(u=>setTimeout(u,i,null)));try{const u=await Uq(e,Promise.race(l));return ku(e),u}finally{s()}};return(r,i)=>Lq(n(r,i))},Bq=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:s}=t;if(e)i=Ts(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Yi(21));return UP(s),{predicate:i,type:e,effect:s}},Fq=Nf(t=>{const{type:e,predicate:n,effect:r}=Bq(t);return{id:_we(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Yi(22))}}},{withTypes:()=>Fq}),k3=(t,e)=>{const{type:n,effect:r,predicate:i}=Bq(e);return Array.from(t.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===i)&&s.effect===r)},uN=t=>{t.pending.forEach(e=>{Ru(e,cN)})},Uwe=(t,e)=>()=>{for(const n of e.keys())uN(n);t.clear()},M3=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},$q=Nf(Ts(`${xw}/add`),{withTypes:()=>$q}),zwe=Ts(`${xw}/removeAll`),qq=Nf(Ts(`${xw}/remove`),{withTypes:()=>qq}),Bwe=(...t)=>{console.error(`${xw}/error`,...t)},Og=(t={})=>{const e=new Map,n=new Map,r=v=>{const _=n.get(v)??0;n.set(v,_+1)},i=v=>{const _=n.get(v)??1;_===1?n.delete(v):n.set(v,_-1)},{extra:s,onError:a=Bwe}=t;UP(a);const l=v=>(v.unsubscribe=()=>e.delete(v.id),e.set(v.id,v),_=>{v.unsubscribe(),_?.cancelActive&&uN(v)}),u=v=>{const _=k3(e,v)??Fq(v);return l(_)};Nf(u,{withTypes:()=>u});const d=v=>{const _=k3(e,v);return _&&(_.unsubscribe(),v.cancelActive&&uN(_)),!!_};Nf(d,{withTypes:()=>d});const f=async(v,_,E,w)=>{const A=new AbortController,C=Vwe(u,A.signal),P=[];try{v.pending.add(A),r(v),await Promise.resolve(v.effect(_,Nf({},E,{getOriginalState:w,condition:(L,M)=>C(L,M).then(Boolean),take:C,delay:zq(A.signal),pause:Lb(A.signal),extra:s,signal:A.signal,fork:Lwe(A.signal,P),unsubscribe:v.unsubscribe,subscribe:()=>{e.set(v.id,v)},cancelActiveListeners:()=>{v.pending.forEach((L,M,z)=>{L!==A&&(Ru(L,cN),z.delete(L))})},cancel:()=>{Ru(A,cN),v.pending.delete(A)},throwIfCancelled:()=>{ku(A.signal)}})))}catch(L){L instanceof bw||M3(a,L,{raisedBy:"effect"})}finally{await Promise.all(P),Ru(A,Mwe),i(v),v.pending.delete(A)}},m=Uwe(e,n);return{middleware:v=>_=>E=>{if(!bq(E))return _(E);if($q.match(E))return u(E.payload);if(zwe.match(E)){m();return}if(qq.match(E))return d(E.payload);let w=v.getState();const A=()=>{if(w===R3)throw new Error(Yi(23));return w};let C;try{if(C=_(E),e.size>0){const P=v.getState(),L=Array.from(e.values());for(const M of L){let z=!1;try{z=M.predicate(E,P,w)}catch(j){z=!1,M3(a,j,{raisedBy:"predicate"})}z&&f(M,E,v,A)}}}finally{w=R3}return C},startListening:u,stopListening:d,clearListeners:m}};function Yi(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Fwe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},Hq=Ii({name:"chartLayout",initialState:Fwe,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,s;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(s=e.payload.left)!==null&&s!==void 0?s:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:$we,setLayout:qwe,setChartSize:Hwe,setScale:Wwe}=Hq.actions,Kwe=Hq.reducer;function Wq(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function D3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?D3(Object(n),!0).forEach(function(r){Gwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gwe(t,e,n){return(e=Ywe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ywe(t){var e=Xwe(t,"string");return typeof e=="symbol"?e:e+""}function Xwe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tr(t,e,n){return dn(t)||dn(e)?n:qa(e)?Bf(t,e,n):typeof e=="function"?e(t):n}var Qwe=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:s,verticalAlign:a,layout:l}=e;if((l==="vertical"||l==="horizontal"&&a==="middle")&&s!=="center"&&je(t[s]))return pf(pf({},t),{},{[s]:t[s]+(r||0)});if((l==="horizontal"||l==="vertical"&&s==="center")&&a!=="middle"&&je(t[a]))return pf(pf({},t),{},{[a]:t[a]+(i||0)})}return t},Ic=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",Kq=(t,e,n,r)=>{if(r)return t.map(l=>l.coordinate);var i,s,a=t.map(l=>(l.coordinate===e&&(i=!0),l.coordinate===n&&(s=!0),l.coordinate));return i||a.push(e),s||a.push(n),a},Gq=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:s,scale:a,realScaleType:l,isCategorical:u,categoricalDomain:d,tickCount:f,ticks:m,niceTicks:y,axisType:v}=t;if(!a)return null;var _=l==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,E=i==="category"&&a.bandwidth?a.bandwidth()/_:0;if(E=v==="angleAxis"&&s&&s.length>=2?Ni(s[0]-s[1])*2*E:E,m||y){var w=(m||y||[]).map((A,C)=>{var P=r?r.indexOf(A):A;return{coordinate:a(P)+E,value:A,offset:E,index:C}});return w.filter(A=>!ra(A.coordinate))}return u&&d?d.map((A,C)=>({coordinate:a(A)+E,value:A,index:C,offset:E})):a.ticks&&f!=null?a.ticks(f).map((A,C)=>({coordinate:a(A)+E,value:A,offset:E,index:C})):a.domain().map((A,C)=>({coordinate:a(A)+E,value:r?r[A]:A,index:C,offset:E}))},L3=1e-4,Zwe=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-L3,s=Math.max(r[0],r[1])+L3,a=t(e[0]),l=t(e[n-1]);(a<i||a>s||l<i||l>s)&&t.domain([e[0],e[n-1]])}},Jwe=(t,e)=>{if(!e||e.length!==2||!je(e[0])||!je(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!je(t[0])||t[0]<n)&&(i[0]=n),(!je(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},e_e=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,s=0,a=0;a<e;++a){var l=ra(t[a][n][1])?t[a][n][0]:t[a][n][1];l>=0?(t[a][n][0]=i,t[a][n][1]=i+l,i=t[a][n][1]):(t[a][n][0]=s,t[a][n][1]=s+l,s=t[a][n][1])}},t_e=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,s=0;s<e;++s){var a=ra(t[s][n][1])?t[s][n][0]:t[s][n][1];a>=0?(t[s][n][0]=i,t[s][n][1]=i+a,i=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},n_e={sign:e_e,expand:_be,none:zf,silhouette:Ebe,wiggle:Sbe,positive:t_e},r_e=(t,e,n)=>{var r=n_e[n],i=wbe().keys(e).value((s,a)=>Number(tr(s,a,0))).order(JA).offset(r);return i(t)};function i_e(t){return t==null?void 0:String(t)}function V3(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:s,dataKey:a}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!dn(i[e.dataKey])){var l=J7(n,"value",i[e.dataKey]);if(l)return l.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var u=tr(i,dn(a)?e.dataKey:a);return dn(u)?null:e.scale(u)}var U3=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:s,index:a}=t;if(e.type==="category")return n[a]?n[a].coordinate+r:null;var l=tr(s,e.dataKey,e.scale.domain()[a]);return dn(l)?null:e.scale(l)-i/2+r},s_e=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},a_e=t=>{var e=t.flat(2).filter(je);return[Math.min(...e),Math.max(...e)]},o_e=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],l_e=(t,e,n)=>{if(t!=null)return o_e(Object.keys(t).reduce((r,i)=>{var s=t[i],{stackedData:a}=s,l=a.reduce((u,d)=>{var f=Wq(d,e,n),m=a_e(f);return[Math.min(u[0],m[0]),Math.max(u[1],m[1])]},[1/0,-1/0]);return[Math.min(l[0],r[0]),Math.max(l[1],r[1])]},[1/0,-1/0]))},z3=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,B3=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,qf=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=fw(e,f=>f.coordinate),s=1/0,a=1,l=i.length;a<l;a++){var u=i[a],d=i[a-1];s=Math.min((u.coordinate||0)-(d.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0};function F3(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:s}=t;return pf(pf({},e),{},{dataKey:n,payload:r,value:i,name:s})}function ww(t,e){if(t)return String(t);if(typeof e=="string")return e}var c_e=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},u_e=(t,e)=>e==="centric"?t.angle:t.radius,Jo=t=>t.layout.width,el=t=>t.layout.height,d_e=t=>t.layout.scale,Yq=t=>t.layout.margin,_w=oe(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),Ew=oe(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),f_e="data-recharts-item-index",h_e="data-recharts-item-data-key",jg=60;function $3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$3(Object(n),!0).forEach(function(r){m_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function m_e(t,e,n){return(e=p_e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p_e(t){var e=g_e(t,"string");return typeof e=="symbol"?e:e+""}function g_e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var y_e=t=>t.brush.height;function v_e(t){var e=Ew(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:jg;return n+i}return n},0)}function b_e(t){var e=Ew(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:jg;return n+i}return n},0)}function x_e(t){var e=_w(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function w_e(t){var e=_w(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var wr=oe([Jo,el,Yq,y_e,v_e,b_e,x_e,w_e,pq,qxe],(t,e,n,r,i,s,a,l,u,d)=>{var f={left:(n.left||0)+i,right:(n.right||0)+s},m={top:(n.top||0)+a,bottom:(n.bottom||0)+l},y=Zy(Zy({},m),f),v=y.bottom;y.bottom+=r,y=Qwe(y,u,d);var _=t-y.left-y.right,E=e-y.top-y.bottom;return Zy(Zy({brushBottom:v},y),{},{width:Math.max(_,0),height:Math.max(E,0)})}),__e=oe(wr,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),zP=oe(Jo,el,(t,e)=>({x:0,y:0,width:t,height:e})),E_e=T.createContext(null),Yr=()=>T.useContext(E_e)!=null,Sw=t=>t.brush,Tw=oe([Sw,wr,Yq],(t,e,n)=>({height:t.height,x:je(t.x)?t.x:e.left,y:je(t.y)?t.y:e.top+e.height+e.brushBottom-(n?.bottom||0),width:je(t.width)?t.width:e.width})),YS={},XS={},QS={},q3;function S_e(){return q3||(q3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:s}={}){let a,l=null;const u=s!=null&&s.includes("leading"),d=s==null||s.includes("trailing"),f=()=>{l!==null&&(n.apply(a,l),a=void 0,l=null)},m=()=>{d&&f(),E()};let y=null;const v=()=>{y!=null&&clearTimeout(y),y=setTimeout(()=>{y=null,m()},r)},_=()=>{y!==null&&(clearTimeout(y),y=null)},E=()=>{_(),a=void 0,l=null},w=()=>{f()},A=function(...C){if(i?.aborted)return;a=this,l=C;const P=y==null;v(),u&&P&&f()};return A.schedule=v,A.cancel=E,A.flush=w,i?.addEventListener("abort",E,{once:!0}),A}t.debounce=e})(QS)),QS}var H3;function T_e(){return H3||(H3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=S_e();function n(r,i=0,s={}){typeof s!="object"&&(s={});const{leading:a=!1,trailing:l=!0,maxWait:u}=s,d=Array(2);a&&(d[0]="leading"),l&&(d[1]="trailing");let f,m=null;const y=e.debounce(function(...E){f=r.apply(this,E),m=null},i,{edges:d}),v=function(...E){return u!=null&&(m===null&&(m=Date.now()),Date.now()-m>=u)?(f=r.apply(this,E),m=Date.now(),y.cancel(),y.schedule(),f):(y.apply(this,E),f)},_=()=>(y.flush(),f);return v.cancel=y.cancel,v.flush=_,v}t.debounce=n})(XS)),XS}var W3;function A_e(){return W3||(W3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=T_e();function n(r,i=0,s={}){const{leading:a=!0,trailing:l=!0}=s;return e.debounce(r,i,{leading:a,maxWait:i,trailing:l})}t.throttle=n})(YS)),YS}var ZS,K3;function N_e(){return K3||(K3=1,ZS=A_e().throttle),ZS}var C_e=N_e();const P_e=Zo(C_e);var Vb=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=0;console.warn(n.replace(/%s/g,()=>i[a++]))}},Xq=(t,e,n)=>{var{width:r="100%",height:i="100%",aspect:s,maxHeight:a}=n,l=Ho(r)?t:Number(r),u=Ho(i)?e:Number(i);return s&&s>0&&(l?u=l/s:u&&(l=u*s),a&&u!=null&&u>a&&(u=a)),{calculatedWidth:l,calculatedHeight:u}},I_e={width:0,height:0,overflow:"visible"},O_e={width:0,overflowX:"visible"},j_e={height:0,overflowY:"visible"},R_e={},k_e=t=>{var{width:e,height:n}=t,r=Ho(e),i=Ho(n);return r&&i?I_e:r?O_e:i?j_e:R_e};function M_e(t){var{width:e,height:n,aspect:r}=t,i=e,s=n;return i===void 0&&s===void 0?(i="100%",s="100%"):i===void 0?i=r&&r>0?void 0:"100%":s===void 0&&(s=r&&r>0?void 0:"100%"),{width:i,height:s}}function On(t){return Number.isFinite(t)}function Ha(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function dN(){return dN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dN.apply(null,arguments)}function G3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Y3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G3(Object(n),!0).forEach(function(r){D_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function D_e(t,e,n){return(e=L_e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L_e(t){var e=V_e(t,"string");return typeof e=="symbol"?e:e+""}function V_e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qq=T.createContext({width:-1,height:-1});function U_e(t){return Ha(t.width)&&Ha(t.height)}function Zq(t){var{children:e,width:n,height:r}=t,i=T.useMemo(()=>({width:n,height:r}),[n,r]);return U_e(i)?T.createElement(Qq.Provider,{value:i},e):null}var BP=()=>T.useContext(Qq),z_e=T.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:s,minWidth:a=0,minHeight:l,maxHeight:u,children:d,debounce:f=0,id:m,className:y,onResize:v,style:_={}}=t,E=T.useRef(null),w=T.useRef();w.current=v,T.useImperativeHandle(e,()=>E.current);var[A,C]=T.useState({containerWidth:r.width,containerHeight:r.height}),P=T.useCallback((R,D)=>{C(B=>{var V=Math.round(R),$=Math.round(D);return B.containerWidth===V&&B.containerHeight===$?B:{containerWidth:V,containerHeight:$}})},[]);T.useEffect(()=>{if(E.current==null||typeof ResizeObserver>"u")return Cg;var R=$=>{var q,{width:xe,height:be}=$[0].contentRect;P(xe,be),(q=w.current)===null||q===void 0||q.call(w,xe,be)};f>0&&(R=P_e(R,f,{trailing:!0,leading:!1}));var D=new ResizeObserver(R),{width:B,height:V}=E.current.getBoundingClientRect();return P(B,V),D.observe(E.current),()=>{D.disconnect()}},[P,f]);var{containerWidth:L,containerHeight:M}=A;Vb(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:z,calculatedHeight:j}=Xq(L,M,{width:i,height:s,aspect:n,maxHeight:u});return Vb(z!=null&&z>0||j!=null&&j>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,z,j,i,s,a,l,n),T.createElement("div",{id:m?"".concat(m):void 0,className:Lt("recharts-responsive-container",y),style:Y3(Y3({},_),{},{width:i,height:s,minWidth:a,minHeight:l,maxHeight:u}),ref:E},T.createElement("div",{style:k_e({width:i,height:s})},T.createElement(Zq,{width:z,height:j},d)))}),B_e=T.forwardRef((t,e)=>{var n=BP();if(Ha(n.width)&&Ha(n.height))return t.children;var{width:r,height:i}=M_e({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:s,calculatedHeight:a}=Xq(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return je(s)&&je(a)?T.createElement(Zq,{width:s,height:a},t.children):T.createElement(z_e,dN({},t,{width:r,height:i,ref:e}))});function Jq(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var Aw=()=>{var t,e=Yr(),n=Re(__e),r=Re(Tw),i=(t=Re(Sw))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},F_e={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},eH=()=>{var t;return(t=Re(wr))!==null&&t!==void 0?t:F_e},FP=()=>Re(Jo),$P=()=>Re(el),$_e=()=>Re(t=>t.layout.margin),Tt=t=>t.layout.layoutType,Rg=()=>Re(Tt),q_e=()=>{var t=Rg();return t!==void 0},Nw=t=>{var e=gn(),n=Yr(),{width:r,height:i}=t,s=BP(),a=r,l=i;return s&&(a=s.width>0?s.width:r,l=s.height>0?s.height:i),T.useEffect(()=>{!n&&Ha(a)&&Ha(l)&&e(Hwe({width:a,height:l}))},[e,n,a,l]),null},tH=Symbol.for("immer-nothing"),X3=Symbol.for("immer-draftable"),Zi=Symbol.for("immer-state");function Hs(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Wp=Object.getPrototypeOf;function Hf(t){return!!t&&!!t[Zi]}function Yu(t){return t?nH(t)||Array.isArray(t)||!!t[X3]||!!t.constructor?.[X3]||kg(t)||Pw(t):!1}var H_e=Object.prototype.constructor.toString(),Q3=new WeakMap;function nH(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=Q3.get(n);return r===void 0&&(r=Function.toString.call(n),Q3.set(n,r)),r===H_e}function Ub(t,e,n=!0){Cw(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function Cw(t){const e=t[Zi];return e?e.type_:Array.isArray(t)?1:kg(t)?2:Pw(t)?3:0}function fN(t,e){return Cw(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function rH(t,e,n){const r=Cw(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function W_e(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function kg(t){return t instanceof Map}function Pw(t){return t instanceof Set}function gu(t){return t.copy_||t.base_}function hN(t,e){if(kg(t))return new Map(t);if(Pw(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=nH(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Zi];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const a=i[s],l=r[a];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(r[a]={configurable:!0,writable:!0,enumerable:l.enumerable,value:t[a]})}return Object.create(Wp(t),r)}else{const r=Wp(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function qP(t,e=!1){return Iw(t)||Hf(t)||!Yu(t)||(Cw(t)>1&&Object.defineProperties(t,{set:Jy,add:Jy,clear:Jy,delete:Jy}),Object.freeze(t),e&&Object.values(t).forEach(n=>qP(n,!0))),t}function K_e(){Hs(2)}var Jy={value:K_e};function Iw(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var G_e={};function Xu(t){const e=G_e[t];return e||Hs(0,t),e}var Kp;function iH(){return Kp}function Y_e(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Z3(t,e){e&&(Xu("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function mN(t){pN(t),t.drafts_.forEach(X_e),t.drafts_=null}function pN(t){t===Kp&&(Kp=t.parent_)}function J3(t){return Kp=Y_e(Kp,t)}function X_e(t){const e=t[Zi];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function e6(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Zi].modified_&&(mN(e),Hs(4)),Yu(t)&&(t=zb(e,t),e.parent_||Bb(e,t)),e.patches_&&Xu("Patches").generateReplacementPatches_(n[Zi].base_,t,e.patches_,e.inversePatches_)):t=zb(e,n,[]),mN(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==tH?t:void 0}function zb(t,e,n){if(Iw(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[Zi];if(!i)return Ub(e,(s,a)=>t6(t,i,e,s,a,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return Bb(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let a=s,l=!1;i.type_===3&&(a=new Set(s),s.clear(),l=!0),Ub(a,(u,d)=>t6(t,i,s,u,d,n,l),r),Bb(t,s,!1),n&&t.patches_&&Xu("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function t6(t,e,n,r,i,s,a){if(i==null||typeof i!="object"&&!a)return;const l=Iw(i);if(!(l&&!a)){if(Hf(i)){const u=s&&e&&e.type_!==3&&!fN(e.assigned_,r)?s.concat(r):void 0,d=zb(t,i,u);if(rH(n,r,d),Hf(d))t.canAutoFreeze_=!1;else return}else a&&n.add(i);if(Yu(i)&&!l){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&l)return;zb(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(kg(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Bb(t,i)}}}function Bb(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&qP(e,n)}function Q_e(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:iH(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=HP;n&&(i=[r],s=Gp);const{revoke:a,proxy:l}=Proxy.revocable(i,s);return r.draft_=l,r.revoke_=a,l}var HP={get(t,e){if(e===Zi)return t;const n=gu(t);if(!fN(n,e))return Z_e(t,n,e);const r=n[e];return t.finalized_||!Yu(r)?r:r===JS(t.base_,e)?(eT(t),t.copy_[e]=yN(r,t)):r},has(t,e){return e in gu(t)},ownKeys(t){return Reflect.ownKeys(gu(t))},set(t,e,n){const r=sH(gu(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=JS(gu(t),e),s=i?.[Zi];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(W_e(n,i)&&(n!==void 0||fN(t.base_,e)))return!0;eT(t),gN(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return JS(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,eT(t),gN(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=gu(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Hs(11)},getPrototypeOf(t){return Wp(t.base_)},setPrototypeOf(){Hs(12)}},Gp={};Ub(HP,(t,e)=>{Gp[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Gp.deleteProperty=function(t,e){return Gp.set.call(this,t,e,void 0)};Gp.set=function(t,e,n){return HP.set.call(this,t[0],e,n,t[0])};function JS(t,e){const n=t[Zi];return(n?gu(n):t)[e]}function Z_e(t,e,n){const r=sH(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function sH(t,e){if(!(e in t))return;let n=Wp(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Wp(n)}}function gN(t){t.modified_||(t.modified_=!0,t.parent_&&gN(t.parent_))}function eT(t){t.copy_||(t.copy_=hN(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var J_e=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const a=this;return function(u=s,...d){return a.produce(u,f=>n.call(this,f,...d))}}typeof n!="function"&&Hs(6),r!==void 0&&typeof r!="function"&&Hs(7);let i;if(Yu(e)){const s=J3(this),a=yN(e,void 0);let l=!0;try{i=n(a),l=!1}finally{l?mN(s):pN(s)}return Z3(s,r),e6(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===tH&&(i=void 0),this.autoFreeze_&&qP(i,!0),r){const s=[],a=[];Xu("Patches").generateReplacementPatches_(e,i,s,a),r(s,a)}return i}else Hs(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(a,...l)=>this.produceWithPatches(a,u=>e(u,...l));let r,i;return[this.produce(e,n,(a,l)=>{r=a,i=l}),r,i]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof t?.useStrictIteration=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Yu(t)||Hs(8),Hf(t)&&(t=e1e(t));const e=J3(this),n=yN(t,void 0);return n[Zi].isManual_=!0,pN(e),n}finishDraft(t,e){const n=t&&t[Zi];(!n||!n.isManual_)&&Hs(9);const{scope_:r}=n;return Z3(r,e),e6(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Xu("Patches").applyPatches_;return Hf(t)?r(t,e):this.produce(t,i=>r(i,e))}};function yN(t,e){const n=kg(t)?Xu("MapSet").proxyMap_(t,e):Pw(t)?Xu("MapSet").proxySet_(t,e):Q_e(t,e);return(e?e.scope_:iH()).drafts_.push(n),n}function e1e(t){return Hf(t)||Hs(10,t),aH(t)}function aH(t){if(!Yu(t)||Iw(t))return t;const e=t[Zi];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=hN(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=hN(t,!0);return Ub(n,(i,s)=>{rH(n,i,aH(s))},r),e&&(e.finalized_=!1),n}var t1e=new J_e;t1e.produce;var n1e={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},oH=Ii({name:"legend",initialState:n1e,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:an()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Zs(t).payload.indexOf(n);i>-1&&(t.payload[i]=r)},prepare:an()},removeLegendPayload:{reducer(t,e){var n=Zs(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:an()}}}),{setLegendSize:n6,setLegendSettings:r1e,addLegendPayload:i1e,replaceLegendPayload:s1e,removeLegendPayload:a1e}=oH.actions,o1e=oH.reducer,l1e=["contextPayload"];function vN(){return vN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vN.apply(null,arguments)}function r6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?r6(Object(n),!0).forEach(function(r){c1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function c1e(t,e,n){return(e=u1e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u1e(t){var e=d1e(t,"string");return typeof e=="symbol"?e:e+""}function d1e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function f1e(t,e){if(t==null)return{};var n,r,i=h1e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function h1e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function m1e(t){return t.value}function p1e(t){var{contextPayload:e}=t,n=f1e(t,l1e),r=dq(e,t.payloadUniqBy,m1e),i=Wf(Wf({},n),{},{payload:r});return T.isValidElement(t.content)?T.cloneElement(t.content,i):typeof t.content=="function"?T.createElement(t.content,i):T.createElement(Jbe,i)}function g1e(t,e,n,r,i,s){var{layout:a,align:l,verticalAlign:u}=e,d,f;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(l==="center"&&a==="vertical"?d={left:((r||0)-s.width)/2}:d=l==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(u==="middle"?f={top:((i||0)-s.height)/2}:f=u==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),Wf(Wf({},d),f)}function y1e(t){var e=gn();return T.useEffect(()=>{e(r1e(t))},[e,t]),null}function v1e(t){var e=gn();return T.useEffect(()=>(e(n6(t)),()=>{e(n6({width:0,height:0}))}),[e,t]),null}function b1e(t,e,n,r){return t==="vertical"&&je(e)?{height:e}:t==="horizontal"?{width:n||r}:null}var x1e={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function lH(t){var e=Mr(t,x1e),n=Kxe(),r=Hve(),i=$_e(),{width:s,height:a,wrapperStyle:l,portal:u}=e,[d,f]=gq([n]),m=FP(),y=$P();if(m==null||y==null)return null;var v=m-(i?.left||0)-(i?.right||0),_=b1e(e.layout,a,s,v),E=u?l:Wf(Wf({position:"absolute",width:_?.width||s||"auto",height:_?.height||a||"auto"},g1e(l,e,i,m,y,d)),l),w=u??r;if(w==null||n==null)return null;var A=T.createElement("div",{className:"recharts-legend-wrapper",style:E,ref:f},T.createElement(y1e,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),!u&&T.createElement(v1e,{width:d.width,height:d.height}),T.createElement(p1e,vN({},e,_,{margin:i,chartWidth:m,chartHeight:y,contextPayload:n})));return iC.createPortal(A,w)}lH.displayName="Legend";function bN(){return bN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bN.apply(null,arguments)}function i6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?i6(Object(n),!0).forEach(function(r){w1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function w1e(t,e,n){return(e=_1e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _1e(t){var e=E1e(t,"string");return typeof e=="symbol"?e:e+""}function E1e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function S1e(t){return Array.isArray(t)&&qa(t[0])&&qa(t[1])?t.join(" ~ "):t}var T1e=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:s,formatter:a,itemSorter:l,wrapperClassName:u,labelClassName:d,label:f,labelFormatter:m,accessibilityLayer:y=!1}=t,v=()=>{if(s&&s.length){var M={padding:0,margin:0},z=(l?fw(s,l):s).map((j,R)=>{if(j.type==="none")return null;var D=j.formatter||a||S1e,{value:B,name:V}=j,$=B,q=V;if(D){var xe=D(B,V,j,R,s);if(Array.isArray(xe))[$,q]=xe;else if(xe!=null)$=xe;else return null}var be=tT({display:"block",paddingTop:4,paddingBottom:4,color:j.color||"#000"},r);return T.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(R),style:be},qa(q)?T.createElement("span",{className:"recharts-tooltip-item-name"},q):null,qa(q)?T.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,T.createElement("span",{className:"recharts-tooltip-item-value"},$),T.createElement("span",{className:"recharts-tooltip-item-unit"},j.unit||""))});return T.createElement("ul",{className:"recharts-tooltip-item-list",style:M},z)}return null},_=tT({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),E=tT({margin:0},i),w=!dn(f),A=w?f:"",C=Lt("recharts-default-tooltip",u),P=Lt("recharts-tooltip-label",d);w&&m&&s!==void 0&&s!==null&&(A=m(f,s));var L=y?{role:"status","aria-live":"assertive"}:{};return T.createElement("div",bN({className:C,style:_},L),T.createElement("p",{className:P,style:E},T.isValidElement(A)?A:"".concat(A)),v())},jm="recharts-tooltip-wrapper",A1e={visibility:"hidden"};function N1e(t){var{coordinate:e,translateX:n,translateY:r}=t;return Lt(jm,{["".concat(jm,"-right")]:je(n)&&e&&je(e.x)&&n>=e.x,["".concat(jm,"-left")]:je(n)&&e&&je(e.x)&&n<e.x,["".concat(jm,"-bottom")]:je(r)&&e&&je(e.y)&&r>=e.y,["".concat(jm,"-top")]:je(r)&&e&&je(e.y)&&r<e.y})}function s6(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:s,reverseDirection:a,tooltipDimension:l,viewBox:u,viewBoxDimension:d}=t;if(s&&je(s[r]))return s[r];var f=n[r]-l-(i>0?i:0),m=n[r]+i;if(e[r])return a[r]?f:m;var y=u[r];if(y==null)return 0;if(a[r]){var v=f,_=y;return v<_?Math.max(m,y):Math.max(f,y)}if(d==null)return 0;var E=m+l,w=y+d;return E>w?Math.max(f,y):Math.max(m,y)}function C1e(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function P1e(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:s,tooltipBox:a,useTranslate3d:l,viewBox:u}=t,d,f,m;return a.height>0&&a.width>0&&n?(f=s6({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.width,viewBox:u,viewBoxDimension:u.width}),m=s6({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.height,viewBox:u,viewBoxDimension:u.height}),d=C1e({translateX:f,translateY:m,useTranslate3d:l})):d=A1e,{cssProperties:d,cssClasses:N1e({translateX:f,translateY:m,coordinate:n})}}function a6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ev(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a6(Object(n),!0).forEach(function(r){xN(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xN(t,e,n){return(e=I1e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function I1e(t){var e=O1e(t,"string");return typeof e=="symbol"?e:e+""}function O1e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class j1e extends T.PureComponent{constructor(){super(...arguments),xN(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),xN(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:s,coordinate:a,hasPayload:l,isAnimationActive:u,offset:d,position:f,reverseDirection:m,useTranslate3d:y,viewBox:v,wrapperStyle:_,lastBoundingBox:E,innerRef:w,hasPortalFromProps:A}=this.props,{cssClasses:C,cssProperties:P}=P1e({allowEscapeViewBox:n,coordinate:a,offsetTopLeft:d,position:f,reverseDirection:m,tooltipBox:{height:E.height,width:E.width},useTranslate3d:y,viewBox:v}),L=A?{}:ev(ev({transition:u&&e?"transform ".concat(r,"ms ").concat(i):void 0},P),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&l?"visible":"hidden",position:"absolute",top:0,left:0}),M=ev(ev({},L),{},{visibility:!this.state.dismissed&&e&&l?"visible":"hidden"},_);return T.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:C,style:M,ref:w},s)}}var cH=()=>{var t;return(t=Re(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function wN(){return wN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wN.apply(null,arguments)}function o6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function l6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o6(Object(n),!0).forEach(function(r){R1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function R1e(t,e,n){return(e=k1e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k1e(t){var e=M1e(t,"string");return typeof e=="symbol"?e:e+""}function M1e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var c6={curveBasisClosed:ube,curveBasisOpen:dbe,curveBasis:cbe,curveBumpX:Yve,curveBumpY:Xve,curveLinearClosed:fbe,curveLinear:cw,curveMonotoneX:hbe,curveMonotoneY:mbe,curveNatural:pbe,curveStep:gbe,curveStepAfter:vbe,curveStepBefore:ybe},Fb=t=>On(t.x)&&On(t.y),u6=t=>t.base!=null&&Fb(t.base)&&Fb(t),Rm=t=>t.x,km=t=>t.y,D1e=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(Ng(t));return(n==="curveMonotone"||n==="curveBump")&&e?c6["".concat(n).concat(e==="vertical"?"Y":"X")]:c6[n]||cw},L1e=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:s=!1}=t,a=D1e(e,i),l=s?n.filter(Fb):n,u;if(Array.isArray(r)){var d=n.map((v,_)=>l6(l6({},v),{},{base:r[_]}));i==="vertical"?u=Wy().y(km).x1(Rm).x0(v=>v.base.x):u=Wy().x(Rm).y1(km).y0(v=>v.base.y);var f=u.defined(u6).curve(a),m=s?d.filter(u6):d;return f(m)}i==="vertical"&&je(r)?u=Wy().y(km).x1(Rm).x0(r):je(r)?u=Wy().x(Rm).y1(km).y0(r):u=z7().x(Rm).y(km);var y=u.defined(Fb).curve(a);return y(l)},uH=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var s=n&&n.length?L1e(t):r;return T.createElement("path",wN({},na(t),PP(t),{className:Lt("recharts-curve",e),d:s===null?void 0:s,ref:i}))},V1e=["x","y","top","left","width","height","className"];function _N(){return _N=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_N.apply(null,arguments)}function d6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function U1e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?d6(Object(n),!0).forEach(function(r){z1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function z1e(t,e,n){return(e=B1e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function B1e(t){var e=F1e(t,"string");return typeof e=="symbol"?e:e+""}function F1e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $1e(t,e){if(t==null)return{};var n,r,i=q1e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function q1e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var H1e=(t,e,n,r,i,s)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(s,",").concat(e,"h").concat(n),W1e=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:s=0,height:a=0,className:l}=t,u=$1e(t,V1e),d=U1e({x:e,y:n,top:r,left:i,width:s,height:a},u);return!je(e)||!je(n)||!je(s)||!je(a)||!je(r)||!je(i)?null:T.createElement("path",_N({},ci(d),{className:Lt("recharts-cross",l),d:H1e(e,n,s,a,r,i)}))};function K1e(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function f6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function h6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?f6(Object(n),!0).forEach(function(r){G1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function G1e(t,e,n){return(e=Y1e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Y1e(t){var e=X1e(t,"string");return typeof e=="symbol"?e:e+""}function X1e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Q1e=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),dH=(t,e,n)=>t.map(r=>"".concat(Q1e(r)," ").concat(e,"ms ").concat(n)).join(","),Z1e=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),Yp=(t,e)=>Object.keys(e).reduce((n,r)=>h6(h6({},n),{},{[r]:t(r,e[r])}),{});function m6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?m6(Object(n),!0).forEach(function(r){J1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function J1e(t,e,n){return(e=eEe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eEe(t){var e=tEe(t,"string");return typeof e=="symbol"?e:e+""}function tEe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $b=(t,e,n)=>t+(e-t)*n,EN=t=>{var{from:e,to:n}=t;return e!==n},fH=(t,e,n)=>{var r=Yp((i,s)=>{if(EN(s)){var[a,l]=t(s.from,s.to,s.velocity);return Qn(Qn({},s),{},{from:a,velocity:l})}return s},e);return n<1?Yp((i,s)=>EN(s)?Qn(Qn({},s),{},{velocity:$b(s.velocity,r[i].velocity,n),from:$b(s.from,r[i].from,n)}):s,e):fH(t,r,n-1)};function nEe(t,e,n,r,i,s){var a,l=r.reduce((y,v)=>Qn(Qn({},y),{},{[v]:{from:t[v],velocity:0,to:e[v]}}),{}),u=()=>Yp((y,v)=>v.from,l),d=()=>!Object.values(l).filter(EN).length,f=null,m=y=>{a||(a=y);var v=y-a,_=v/n.dt;l=fH(n,l,_),i(Qn(Qn(Qn({},t),e),u())),a=y,d()||(f=s.setTimeout(m))};return()=>(f=s.setTimeout(m),()=>{var y;(y=f)===null||y===void 0||y()})}function rEe(t,e,n,r,i,s,a){var l=null,u=i.reduce((m,y)=>Qn(Qn({},m),{},{[y]:[t[y],e[y]]}),{}),d,f=m=>{d||(d=m);var y=(m-d)/r,v=Yp((E,w)=>$b(...w,n(y)),u);if(s(Qn(Qn(Qn({},t),e),v)),y<1)l=a.setTimeout(f);else{var _=Yp((E,w)=>$b(...w,n(1)),u);s(Qn(Qn(Qn({},t),e),_))}};return()=>(l=a.setTimeout(f),()=>{var m;(m=l)===null||m===void 0||m()})}const iEe=(t,e,n,r,i,s)=>{var a=Z1e(t,e);return n==null?()=>(i(Qn(Qn({},t),e)),()=>{}):n.isStepper===!0?nEe(t,e,n,a,i,s):rEe(t,e,n,r,a,i,s)};var qb=1e-4,hH=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],mH=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),p6=(t,e)=>n=>{var r=hH(t,e);return mH(r,n)},sEe=(t,e)=>n=>{var r=hH(t,e),i=[...r.map((s,a)=>s*a).slice(1),0];return mH(i,n)},aEe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,s=n[0].split("(");if(s[0]==="cubic-bezier"&&((i=s[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var a=s[1].split(")")[0].split(",").map(l=>parseFloat(l));return[a[0],a[1],a[2],a[3]]}}}return n.length===4?n:[0,0,1,1]},oEe=(t,e,n,r)=>{var i=p6(t,n),s=p6(e,r),a=sEe(t,n),l=d=>d>1?1:d<0?0:d,u=d=>{for(var f=d>1?1:d,m=f,y=0;y<8;++y){var v=i(m)-f,_=a(m);if(Math.abs(v-f)<qb||_<qb)return s(m);m=l(m-v/_)}return s(m)};return u.isStepper=!1,u},g6=function(){return oEe(...aEe(...arguments))},lEe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,s=(a,l,u)=>{var d=-(a-l)*n,f=u*r,m=u+(d-f)*i/1e3,y=u*i/1e3+a;return Math.abs(y-l)<qb&&Math.abs(m)<qb?[l,0]:[y,m]};return s.isStepper=!0,s.dt=i,s},cEe=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return g6(t);case"spring":return lEe();default:if(t.split("(")[0]==="cubic-bezier")return g6(t)}return typeof t=="function"?t:null};function uEe(t){var e,n=()=>null,r=!1,i=null,s=a=>{if(!r){if(Array.isArray(a)){if(!a.length)return;var l=a,[u,...d]=l;if(typeof u=="number"){i=t.setTimeout(s.bind(null,d),u);return}s(u),i=t.setTimeout(s.bind(null,d));return}typeof a=="string"&&(e=a,n(e)),typeof a=="object"&&(e=a,n(e)),typeof a=="function"&&a()}};return{stop:()=>{r=!0},start:a=>{r=!1,i&&(i(),i=null),s(a)},subscribe:a=>(n=a,()=>{n=()=>null}),getTimeoutController:()=>t}}class dEe{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,s=a=>{a-r>=n?e(a):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{i!=null&&cancelAnimationFrame(i)}}}function fEe(){return uEe(new dEe)}var hEe=T.createContext(fEe);function mEe(t,e){var n=T.useContext(hEe);return T.useMemo(()=>e??n(t),[t,e,n])}var pEe=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Mg={devToolsEnabled:!1,isSsr:pEe()},gEe={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},y6={t:0},nT={t:1};function Ow(t){var e=Mr(t,gEe),{isActive:n,canBegin:r,duration:i,easing:s,begin:a,onAnimationEnd:l,onAnimationStart:u,children:d}=e,f=n==="auto"?!Mg.isSsr:n,m=mEe(e.animationId,e.animationManager),[y,v]=T.useState(f?y6:nT),_=T.useRef(null);return T.useEffect(()=>{f||v(nT)},[f]),T.useEffect(()=>{if(!f||!r)return Cg;var E=iEe(y6,nT,cEe(s),i,v,m.getTimeoutController()),w=()=>{_.current=E()};return m.start([u,a,w,i,l]),()=>{m.stop(),_.current&&_.current(),l()}},[f,r,i,s,a,u,l,m]),d(y.t)}function jw(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=T.useRef(Fp(e)),r=T.useRef(t);return r.current!==t&&(n.current=Fp(e),r.current=t),n.current}var yEe=["radius"],vEe=["radius"];function v6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function b6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?v6(Object(n),!0).forEach(function(r){bEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bEe(t,e,n){return(e=xEe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xEe(t){var e=wEe(t,"string");return typeof e=="symbol"?e:e+""}function wEe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hb(){return Hb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hb.apply(null,arguments)}function x6(t,e){if(t==null)return{};var n,r,i=_Ee(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function _Ee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var w6=(t,e,n,r,i)=>{var s=Math.min(Math.abs(n)/2,Math.abs(r)/2),a=r>=0?1:-1,l=n>=0?1:-1,u=r>=0&&n>=0||r<0&&n<0?1:0,d;if(s>0&&i instanceof Array){for(var f=[0,0,0,0],m=0,y=4;m<y;m++)f[m]=i[m]>s?s:i[m];d="M".concat(t,",").concat(e+a*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+l*f[0],",").concat(e)),d+="L ".concat(t+n-l*f[1],",").concat(e),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(e+a*f[1])),d+="L ".concat(t+n,",").concat(e+r-a*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-l*f[2],",").concat(e+r)),d+="L ".concat(t+l*f[3],",").concat(e+r),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(e+r-a*f[3])),d+="Z"}else if(s>0&&i===+i&&i>0){var v=Math.min(s,i);d="M ".concat(t,",").concat(e+a*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+l*v,",").concat(e,`
            L `).concat(t+n-l*v,",").concat(e,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+n,",").concat(e+a*v,`
            L `).concat(t+n,",").concat(e+r-a*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+n-l*v,",").concat(e+r,`
            L `).concat(t+l*v,",").concat(e+r,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t,",").concat(e+r-a*v," Z")}else d="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return d},_6={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},pH=t=>{var e=Mr(t,_6),n=T.useRef(null),[r,i]=T.useState(-1);T.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var ee=n.current.getTotalLength();ee&&i(ee)}catch{}},[]);var{x:s,y:a,width:l,height:u,radius:d,className:f}=e,{animationEasing:m,animationDuration:y,animationBegin:v,isAnimationActive:_,isUpdateAnimationActive:E}=e,w=T.useRef(l),A=T.useRef(u),C=T.useRef(s),P=T.useRef(a),L=T.useMemo(()=>({x:s,y:a,width:l,height:u,radius:d}),[s,a,l,u,d]),M=jw(L,"rectangle-");if(s!==+s||a!==+a||l!==+l||u!==+u||l===0||u===0)return null;var z=Lt("recharts-rectangle",f);if(!E){var j=ci(e),{radius:R}=j,D=x6(j,yEe);return T.createElement("path",Hb({},D,{radius:typeof d=="number"?d:void 0,className:z,d:w6(s,a,l,u,d)}))}var B=w.current,V=A.current,$=C.current,q=P.current,xe="0px ".concat(r===-1?1:r,"px"),be="".concat(r,"px 0px"),X=dH(["strokeDasharray"],y,typeof m=="string"?m:_6.animationEasing);return T.createElement(Ow,{animationId:M,key:M,canBegin:r>0,duration:y,easing:m,isActive:E,begin:v},ee=>{var he=xn(B,l,ee),Y=xn(V,u,ee),H=xn($,s,ee),k=xn(q,a,ee);n.current&&(w.current=he,A.current=Y,C.current=H,P.current=k);var K;_?ee>0?K={transition:X,strokeDasharray:be}:K={strokeDasharray:xe}:K={strokeDasharray:be};var re=ci(e),{radius:ce}=re,se=x6(re,vEe);return T.createElement("path",Hb({},se,{radius:typeof d=="number"?d:void 0,className:z,d:w6(H,k,he,Y,d),ref:n,style:b6(b6({},K),e.style)}))})};function E6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function S6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?E6(Object(n),!0).forEach(function(r){EEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function EEe(t,e,n){return(e=SEe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SEe(t){var e=TEe(t,"string");return typeof e=="symbol"?e:e+""}function TEe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Wb=Math.PI/180,AEe=t=>t*180/Math.PI,kr=(t,e,n,r)=>({x:t+Math.cos(-Wb*r)*n,y:e+Math.sin(-Wb*r)*n}),NEe=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},CEe=(t,e)=>{var{x:n,y:r}=t,{x:i,y:s}=e;return Math.sqrt((n-i)**2+(r-s)**2)},PEe=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:s}=e,a=CEe({x:n,y:r},{x:i,y:s});if(a<=0)return{radius:a,angle:0};var l=(n-i)/a,u=Math.acos(l);return r>s&&(u=2*Math.PI-u),{radius:a,angle:AEe(u),angleInRadian:u}},IEe=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),s=Math.min(r,i);return{startAngle:e-s*360,endAngle:n-s*360}},OEe=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),s=Math.floor(r/360),a=Math.min(i,s);return t+a*360},jEe=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:s}=PEe({x:n,y:r},e),{innerRadius:a,outerRadius:l}=e;if(i<a||i>l||i===0)return null;var{startAngle:u,endAngle:d}=IEe(e),f=s,m;if(u<=d){for(;f>d;)f-=360;for(;f<u;)f+=360;m=f>=u&&f<=d}else{for(;f>u;)f-=360;for(;f<d;)f+=360;m=f>=d&&f<=u}return m?S6(S6({},e),{},{radius:i,angle:OEe(f,e)}):null};function gH(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:s}=t,a=kr(e,n,r,i),l=kr(e,n,r,s);return{points:[a,l],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}function SN(){return SN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},SN.apply(null,arguments)}var REe=(t,e)=>{var n=Ni(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},tv=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:s,isExternal:a,cornerRadius:l,cornerIsExternal:u}=t,d=l*(a?1:-1)+r,f=Math.asin(l/d)/Wb,m=u?i:i+s*f,y=kr(e,n,d,m),v=kr(e,n,r,m),_=u?i-s*f:i,E=kr(e,n,d*Math.cos(f*Wb),_);return{center:y,circleTangency:v,lineTangency:E,theta:f}},yH=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:s,endAngle:a}=t,l=REe(s,a),u=s+l,d=kr(e,n,i,s),f=kr(e,n,i,u),m="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(r>0){var y=kr(e,n,r,s),v=kr(e,n,r,u);m+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=u),`,
            `).concat(y.x,",").concat(y.y," Z")}else m+="L ".concat(e,",").concat(n," Z");return m},kEe=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:s,forceCornerRadius:a,cornerIsExternal:l,startAngle:u,endAngle:d}=t,f=Ni(d-u),{circleTangency:m,lineTangency:y,theta:v}=tv({cx:e,cy:n,radius:i,angle:u,sign:f,cornerRadius:s,cornerIsExternal:l}),{circleTangency:_,lineTangency:E,theta:w}=tv({cx:e,cy:n,radius:i,angle:d,sign:-f,cornerRadius:s,cornerIsExternal:l}),A=l?Math.abs(u-d):Math.abs(u-d)-v-w;if(A<0)return a?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):yH({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:u,endAngle:d});var C="M ".concat(y.x,",").concat(y.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(A>180),",").concat(+(f<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(E.x,",").concat(E.y,`
  `);if(r>0){var{circleTangency:P,lineTangency:L,theta:M}=tv({cx:e,cy:n,radius:r,angle:u,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),{circleTangency:z,lineTangency:j,theta:R}=tv({cx:e,cy:n,radius:r,angle:d,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),D=l?Math.abs(u-d):Math.abs(u-d)-M-R;if(D<0&&s===0)return"".concat(C,"L").concat(e,",").concat(n,"Z");C+="L".concat(j.x,",").concat(j.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(z.x,",").concat(z.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(D>180),",").concat(+(f>0),",").concat(P.x,",").concat(P.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(L.x,",").concat(L.y,"Z")}else C+="L".concat(e,",").concat(n,"Z");return C},MEe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},vH=t=>{var e=Mr(t,MEe),{cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:a,forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:f,className:m}=e;if(s<i||d===f)return null;var y=Lt("recharts-sector",m),v=s-i,_=ia(a,v,0,!0),E;return _>0&&Math.abs(d-f)<360?E=kEe({cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:Math.min(_,v/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:f}):E=yH({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:d,endAngle:f}),T.createElement("path",SN({},ci(e),{className:y,d:E}))};function DEe(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(tq(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:s,outerRadius:a,angle:l}=e,u=kr(r,i,s,l),d=kr(r,i,a,l);return[{x:u.x,y:u.y},{x:d.x,y:d.y}]}return gH(e)}}var rT={},iT={},sT={},T6;function LEe(){return T6||(T6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=hq();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(sT)),sT}var A6;function VEe(){return A6||(A6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=LEe();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(iT)),iT}var N6;function UEe(){return N6||(N6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mq(),n=VEe();function r(i,s,a){a&&typeof a!="number"&&e.isIterateeCall(i,s,a)&&(s=a=void 0),i=n.toFinite(i),s===void 0?(s=i,i=0):s=n.toFinite(s),a=a===void 0?i<s?1:-1:n.toFinite(a);const l=Math.max(Math.ceil((s-i)/(a||1)),0),u=new Array(l);for(let d=0;d<l;d++)u[d]=i,i+=a;return u}t.range=r})(rT)),rT}var aT,C6;function zEe(){return C6||(C6=1,aT=UEe().range),aT}var BEe=zEe();const bH=Zo(BEe);function ic(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function FEe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function WP(t){let e,n,r;t.length!==2?(e=ic,n=(l,u)=>ic(t(l),u),r=(l,u)=>t(l)-u):(e=t===ic||t===FEe?t:$Ee,n=t,r=t);function i(l,u,d=0,f=l.length){if(d<f){if(e(u,u)!==0)return f;do{const m=d+f>>>1;n(l[m],u)<0?d=m+1:f=m}while(d<f)}return d}function s(l,u,d=0,f=l.length){if(d<f){if(e(u,u)!==0)return f;do{const m=d+f>>>1;n(l[m],u)<=0?d=m+1:f=m}while(d<f)}return d}function a(l,u,d=0,f=l.length){const m=i(l,u,d,f-1);return m>d&&r(l[m-1],u)>-r(l[m],u)?m-1:m}return{left:i,center:a,right:s}}function $Ee(){return 0}function xH(t){return t===null?NaN:+t}function*qEe(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const HEe=WP(ic),Dg=HEe.right;WP(xH).center;class P6 extends Map{constructor(e,n=GEe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(I6(this,e))}has(e){return super.has(I6(this,e))}set(e,n){return super.set(WEe(this,e),n)}delete(e){return super.delete(KEe(this,e))}}function I6({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function WEe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function KEe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function GEe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function YEe(t=ic){if(t===ic)return wH;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function wH(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const XEe=Math.sqrt(50),QEe=Math.sqrt(10),ZEe=Math.sqrt(2);function Kb(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),a=s>=XEe?10:s>=QEe?5:s>=ZEe?2:1;let l,u,d;return i<0?(d=Math.pow(10,-i)/a,l=Math.round(t*d),u=Math.round(e*d),l/d<t&&++l,u/d>e&&--u,d=-d):(d=Math.pow(10,i)*a,l=Math.round(t/d),u=Math.round(e/d),l*d<t&&++l,u*d>e&&--u),u<l&&.5<=n&&n<2?Kb(t,e,n*2):[l,u,d]}function TN(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,a]=r?Kb(e,t,n):Kb(t,e,n);if(!(s>=i))return[];const l=s-i+1,u=new Array(l);if(r)if(a<0)for(let d=0;d<l;++d)u[d]=(s-d)/-a;else for(let d=0;d<l;++d)u[d]=(s-d)*a;else if(a<0)for(let d=0;d<l;++d)u[d]=(i+d)/-a;else for(let d=0;d<l;++d)u[d]=(i+d)*a;return u}function AN(t,e,n){return e=+e,t=+t,n=+n,Kb(t,e,n)[2]}function NN(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?AN(e,t,n):AN(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function O6(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function j6(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function _H(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?wH:YEe(i);r>n;){if(r-n>600){const u=r-n+1,d=e-n+1,f=Math.log(u),m=.5*Math.exp(2*f/3),y=.5*Math.sqrt(f*m*(u-m)/u)*(d-u/2<0?-1:1),v=Math.max(n,Math.floor(e-d*m/u+y)),_=Math.min(r,Math.floor(e+(u-d)*m/u+y));_H(t,e,v,_,i)}const s=t[e];let a=n,l=r;for(Mm(t,n,e),i(t[r],s)>0&&Mm(t,n,r);a<l;){for(Mm(t,a,l),++a,--l;i(t[a],s)<0;)++a;for(;i(t[l],s)>0;)--l}i(t[n],s)===0?Mm(t,n,l):(++l,Mm(t,l,r)),l<=e&&(n=l+1),e<=l&&(r=l-1)}return t}function Mm(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function JEe(t,e,n){if(t=Float64Array.from(qEe(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return j6(t);if(e>=1)return O6(t);var r,i=(r-1)*e,s=Math.floor(i),a=O6(_H(t,s).subarray(0,s+1)),l=j6(t.subarray(s+1));return a+(l-a)*(i-s)}}function eSe(t,e,n=xH){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),a=+n(t[s],s,t),l=+n(t[s+1],s+1,t);return a+(l-a)*(i-s)}}function tSe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function Ps(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function tl(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const CN=Symbol("implicit");function KP(){var t=new P6,e=[],n=[],r=CN;function i(s){let a=t.get(s);if(a===void 0){if(r!==CN)return r;t.set(s,a=e.push(s)-1)}return n[a%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new P6;for(const a of s)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return KP(e,n).unknown(r)},Ps.apply(i,arguments),i}function GP(){var t=KP().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,a,l=!1,u=0,d=0,f=.5;delete t.unknown;function m(){var y=e().length,v=i<r,_=v?i:r,E=v?r:i;s=(E-_)/Math.max(1,y-u+d*2),l&&(s=Math.floor(s)),_+=(E-_-s*(y-u))*f,a=s*(1-u),l&&(_=Math.round(_),a=Math.round(a));var w=tSe(y).map(function(A){return _+s*A});return n(v?w.reverse():w)}return t.domain=function(y){return arguments.length?(e(y),m()):e()},t.range=function(y){return arguments.length?([r,i]=y,r=+r,i=+i,m()):[r,i]},t.rangeRound=function(y){return[r,i]=y,r=+r,i=+i,l=!0,m()},t.bandwidth=function(){return a},t.step=function(){return s},t.round=function(y){return arguments.length?(l=!!y,m()):l},t.padding=function(y){return arguments.length?(u=Math.min(1,d=+y),m()):u},t.paddingInner=function(y){return arguments.length?(u=Math.min(1,y),m()):u},t.paddingOuter=function(y){return arguments.length?(d=+y,m()):d},t.align=function(y){return arguments.length?(f=Math.max(0,Math.min(1,y)),m()):f},t.copy=function(){return GP(e(),[r,i]).round(l).paddingInner(u).paddingOuter(d).align(f)},Ps.apply(m(),arguments)}function EH(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return EH(e())},t}function nSe(){return EH(GP.apply(null,arguments).paddingInner(1))}function YP(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function SH(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Lg(){}var Xp=.7,Gb=1/Xp,Cf="\\s*([+-]?\\d+)\\s*",Qp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ba="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",rSe=/^#([0-9a-f]{3,8})$/,iSe=new RegExp(`^rgb\\(${Cf},${Cf},${Cf}\\)$`),sSe=new RegExp(`^rgb\\(${Ba},${Ba},${Ba}\\)$`),aSe=new RegExp(`^rgba\\(${Cf},${Cf},${Cf},${Qp}\\)$`),oSe=new RegExp(`^rgba\\(${Ba},${Ba},${Ba},${Qp}\\)$`),lSe=new RegExp(`^hsl\\(${Qp},${Ba},${Ba}\\)$`),cSe=new RegExp(`^hsla\\(${Qp},${Ba},${Ba},${Qp}\\)$`),R6={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};YP(Lg,Zp,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:k6,formatHex:k6,formatHex8:uSe,formatHsl:dSe,formatRgb:M6,toString:M6});function k6(){return this.rgb().formatHex()}function uSe(){return this.rgb().formatHex8()}function dSe(){return TH(this).formatHsl()}function M6(){return this.rgb().formatRgb()}function Zp(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=rSe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?D6(e):n===3?new Ci(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?nv(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?nv(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=iSe.exec(t))?new Ci(e[1],e[2],e[3],1):(e=sSe.exec(t))?new Ci(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=aSe.exec(t))?nv(e[1],e[2],e[3],e[4]):(e=oSe.exec(t))?nv(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=lSe.exec(t))?U6(e[1],e[2]/100,e[3]/100,1):(e=cSe.exec(t))?U6(e[1],e[2]/100,e[3]/100,e[4]):R6.hasOwnProperty(t)?D6(R6[t]):t==="transparent"?new Ci(NaN,NaN,NaN,0):null}function D6(t){return new Ci(t>>16&255,t>>8&255,t&255,1)}function nv(t,e,n,r){return r<=0&&(t=e=n=NaN),new Ci(t,e,n,r)}function fSe(t){return t instanceof Lg||(t=Zp(t)),t?(t=t.rgb(),new Ci(t.r,t.g,t.b,t.opacity)):new Ci}function PN(t,e,n,r){return arguments.length===1?fSe(t):new Ci(t,e,n,r??1)}function Ci(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}YP(Ci,PN,SH(Lg,{brighter(t){return t=t==null?Gb:Math.pow(Gb,t),new Ci(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Xp:Math.pow(Xp,t),new Ci(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ci(Mu(this.r),Mu(this.g),Mu(this.b),Yb(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:L6,formatHex:L6,formatHex8:hSe,formatRgb:V6,toString:V6}));function L6(){return`#${Au(this.r)}${Au(this.g)}${Au(this.b)}`}function hSe(){return`#${Au(this.r)}${Au(this.g)}${Au(this.b)}${Au((isNaN(this.opacity)?1:this.opacity)*255)}`}function V6(){const t=Yb(this.opacity);return`${t===1?"rgb(":"rgba("}${Mu(this.r)}, ${Mu(this.g)}, ${Mu(this.b)}${t===1?")":`, ${t})`}`}function Yb(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Mu(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Au(t){return t=Mu(t),(t<16?"0":"")+t.toString(16)}function U6(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ws(t,e,n,r)}function TH(t){if(t instanceof Ws)return new Ws(t.h,t.s,t.l,t.opacity);if(t instanceof Lg||(t=Zp(t)),!t)return new Ws;if(t instanceof Ws)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),a=NaN,l=s-i,u=(s+i)/2;return l?(e===s?a=(n-r)/l+(n<r)*6:n===s?a=(r-e)/l+2:a=(e-n)/l+4,l/=u<.5?s+i:2-s-i,a*=60):l=u>0&&u<1?0:a,new Ws(a,l,u,t.opacity)}function mSe(t,e,n,r){return arguments.length===1?TH(t):new Ws(t,e,n,r??1)}function Ws(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}YP(Ws,mSe,SH(Lg,{brighter(t){return t=t==null?Gb:Math.pow(Gb,t),new Ws(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Xp:Math.pow(Xp,t),new Ws(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Ci(oT(t>=240?t-240:t+120,i,r),oT(t,i,r),oT(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Ws(z6(this.h),rv(this.s),rv(this.l),Yb(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Yb(this.opacity);return`${t===1?"hsl(":"hsla("}${z6(this.h)}, ${rv(this.s)*100}%, ${rv(this.l)*100}%${t===1?")":`, ${t})`}`}}));function z6(t){return t=(t||0)%360,t<0?t+360:t}function rv(t){return Math.max(0,Math.min(1,t||0))}function oT(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const XP=t=>()=>t;function pSe(t,e){return function(n){return t+n*e}}function gSe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function ySe(t){return(t=+t)==1?AH:function(e,n){return n-e?gSe(e,n,t):XP(isNaN(e)?n:e)}}function AH(t,e){var n=e-t;return n?pSe(t,n):XP(isNaN(t)?e:t)}const B6=(function t(e){var n=ySe(e);function r(i,s){var a=n((i=PN(i)).r,(s=PN(s)).r),l=n(i.g,s.g),u=n(i.b,s.b),d=AH(i.opacity,s.opacity);return function(f){return i.r=a(f),i.g=l(f),i.b=u(f),i.opacity=d(f),i+""}}return r.gamma=t,r})(1);function vSe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function bSe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function xSe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),a;for(a=0;a<r;++a)i[a]=ph(t[a],e[a]);for(;a<n;++a)s[a]=e[a];return function(l){for(a=0;a<r;++a)s[a]=i[a](l);return s}}function wSe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Xb(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function _Se(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=ph(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var IN=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,lT=new RegExp(IN.source,"g");function ESe(t){return function(){return t}}function SSe(t){return function(e){return t(e)+""}}function TSe(t,e){var n=IN.lastIndex=lT.lastIndex=0,r,i,s,a=-1,l=[],u=[];for(t=t+"",e=e+"";(r=IN.exec(t))&&(i=lT.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),l[a]?l[a]+=s:l[++a]=s),(r=r[0])===(i=i[0])?l[a]?l[a]+=i:l[++a]=i:(l[++a]=null,u.push({i:a,x:Xb(r,i)})),n=lT.lastIndex;return n<e.length&&(s=e.slice(n),l[a]?l[a]+=s:l[++a]=s),l.length<2?u[0]?SSe(u[0].x):ESe(e):(e=u.length,function(d){for(var f=0,m;f<e;++f)l[(m=u[f]).i]=m.x(d);return l.join("")})}function ph(t,e){var n=typeof e,r;return e==null||n==="boolean"?XP(e):(n==="number"?Xb:n==="string"?(r=Zp(e))?(e=r,B6):TSe:e instanceof Zp?B6:e instanceof Date?wSe:bSe(e)?vSe:Array.isArray(e)?xSe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?_Se:Xb)(t,e)}function QP(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function ASe(t,e){e===void 0&&(e=t,t=ph);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(a){var l=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return s[l](a-l)}}function NSe(t){return function(){return t}}function Qb(t){return+t}var F6=[0,1];function si(t){return t}function ON(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:NSe(isNaN(e)?NaN:.5)}function CSe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function PSe(t,e,n){var r=t[0],i=t[1],s=e[0],a=e[1];return i<r?(r=ON(i,r),s=n(a,s)):(r=ON(r,i),s=n(s,a)),function(l){return s(r(l))}}function ISe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=ON(t[a],t[a+1]),s[a]=n(e[a],e[a+1]);return function(l){var u=Dg(t,l,1,r)-1;return s[u](i[u](l))}}function Vg(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Rw(){var t=F6,e=F6,n=ph,r,i,s,a=si,l,u,d;function f(){var y=Math.min(t.length,e.length);return a!==si&&(a=CSe(t[0],t[y-1])),l=y>2?ISe:PSe,u=d=null,m}function m(y){return y==null||isNaN(y=+y)?s:(u||(u=l(t.map(r),e,n)))(r(a(y)))}return m.invert=function(y){return a(i((d||(d=l(e,t.map(r),Xb)))(y)))},m.domain=function(y){return arguments.length?(t=Array.from(y,Qb),f()):t.slice()},m.range=function(y){return arguments.length?(e=Array.from(y),f()):e.slice()},m.rangeRound=function(y){return e=Array.from(y),n=QP,f()},m.clamp=function(y){return arguments.length?(a=y?!0:si,f()):a!==si},m.interpolate=function(y){return arguments.length?(n=y,f()):n},m.unknown=function(y){return arguments.length?(s=y,m):s},function(y,v){return r=y,i=v,f()}}function ZP(){return Rw()(si,si)}function OSe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Zb(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Kf(t){return t=Zb(Math.abs(t)),t?t[1]:NaN}function jSe(t,e){return function(n,r){for(var i=n.length,s=[],a=0,l=t[0],u=0;i>0&&l>0&&(u+l+1>r&&(l=Math.max(1,r-u)),s.push(n.substring(i-=l,i+l)),!((u+=l+1)>r));)l=t[a=(a+1)%t.length];return s.reverse().join(e)}}function RSe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var kSe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Jp(t){if(!(e=kSe.exec(t)))throw new Error("invalid format: "+t);var e;return new JP({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Jp.prototype=JP.prototype;function JP(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}JP.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function MSe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var NH;function DSe(t,e){var n=Zb(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(NH=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return s===a?r:s>a?r+new Array(s-a+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+Zb(t,Math.max(0,e+s-1))[0]}function $6(t,e){var n=Zb(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const q6={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:OSe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>$6(t*100,e),r:$6,s:DSe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function H6(t){return t}var W6=Array.prototype.map,K6=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function LSe(t){var e=t.grouping===void 0||t.thousands===void 0?H6:jSe(W6.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?H6:RSe(W6.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function d(m){m=Jp(m);var y=m.fill,v=m.align,_=m.sign,E=m.symbol,w=m.zero,A=m.width,C=m.comma,P=m.precision,L=m.trim,M=m.type;M==="n"?(C=!0,M="g"):q6[M]||(P===void 0&&(P=12),L=!0,M="g"),(w||y==="0"&&v==="=")&&(w=!0,y="0",v="=");var z=E==="$"?n:E==="#"&&/[boxX]/.test(M)?"0"+M.toLowerCase():"",j=E==="$"?r:/[%p]/.test(M)?a:"",R=q6[M],D=/[defgprs%]/.test(M);P=P===void 0?6:/[gprs]/.test(M)?Math.max(1,Math.min(21,P)):Math.max(0,Math.min(20,P));function B(V){var $=z,q=j,xe,be,X;if(M==="c")q=R(V)+q,V="";else{V=+V;var ee=V<0||1/V<0;if(V=isNaN(V)?u:R(Math.abs(V),P),L&&(V=MSe(V)),ee&&+V==0&&_!=="+"&&(ee=!1),$=(ee?_==="("?_:l:_==="-"||_==="("?"":_)+$,q=(M==="s"?K6[8+NH/3]:"")+q+(ee&&_==="("?")":""),D){for(xe=-1,be=V.length;++xe<be;)if(X=V.charCodeAt(xe),48>X||X>57){q=(X===46?i+V.slice(xe+1):V.slice(xe))+q,V=V.slice(0,xe);break}}}C&&!w&&(V=e(V,1/0));var he=$.length+V.length+q.length,Y=he<A?new Array(A-he+1).join(y):"";switch(C&&w&&(V=e(Y+V,Y.length?A-q.length:1/0),Y=""),v){case"<":V=$+V+q+Y;break;case"=":V=$+Y+V+q;break;case"^":V=Y.slice(0,he=Y.length>>1)+$+V+q+Y.slice(he);break;default:V=Y+$+V+q;break}return s(V)}return B.toString=function(){return m+""},B}function f(m,y){var v=d((m=Jp(m),m.type="f",m)),_=Math.max(-8,Math.min(8,Math.floor(Kf(y)/3)))*3,E=Math.pow(10,-_),w=K6[8+_/3];return function(A){return v(E*A)+w}}return{format:d,formatPrefix:f}}var iv,eI,CH;VSe({thousands:",",grouping:[3],currency:["$",""]});function VSe(t){return iv=LSe(t),eI=iv.format,CH=iv.formatPrefix,iv}function USe(t){return Math.max(0,-Kf(Math.abs(t)))}function zSe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Kf(e)/3)))*3-Kf(Math.abs(t)))}function BSe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Kf(e)-Kf(t))+1}function PH(t,e,n,r){var i=NN(t,e,n),s;switch(r=Jp(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=zSe(i,a))&&(r.precision=s),CH(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=BSe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=USe(i))&&(r.precision=s-(r.type==="%")*2);break}}return eI(r)}function Oc(t){var e=t.domain;return t.ticks=function(n){var r=e();return TN(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return PH(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,a=r[i],l=r[s],u,d,f=10;for(l<a&&(d=a,a=l,l=d,d=i,i=s,s=d);f-- >0;){if(d=AN(a,l,n),d===u)return r[i]=a,r[s]=l,e(r);if(d>0)a=Math.floor(a/d)*d,l=Math.ceil(l/d)*d;else if(d<0)a=Math.ceil(a*d)/d,l=Math.floor(l*d)/d;else break;u=d}return t},t}function IH(){var t=ZP();return t.copy=function(){return Vg(t,IH())},Ps.apply(t,arguments),Oc(t)}function OH(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Qb),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return OH(t).unknown(e)},t=arguments.length?Array.from(t,Qb):[0,1],Oc(n)}function jH(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],a;return s<i&&(a=n,n=r,r=a,a=i,i=s,s=a),t[n]=e.floor(i),t[r]=e.ceil(s),t}function G6(t){return Math.log(t)}function Y6(t){return Math.exp(t)}function FSe(t){return-Math.log(-t)}function $Se(t){return-Math.exp(-t)}function qSe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function HSe(t){return t===10?qSe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function WSe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function X6(t){return(e,n)=>-t(-e,n)}function tI(t){const e=t(G6,Y6),n=e.domain;let r=10,i,s;function a(){return i=WSe(r),s=HSe(r),n()[0]<0?(i=X6(i),s=X6(s),t(FSe,$Se)):t(G6,Y6),e}return e.base=function(l){return arguments.length?(r=+l,a()):r},e.domain=function(l){return arguments.length?(n(l),a()):n()},e.ticks=l=>{const u=n();let d=u[0],f=u[u.length-1];const m=f<d;m&&([d,f]=[f,d]);let y=i(d),v=i(f),_,E;const w=l==null?10:+l;let A=[];if(!(r%1)&&v-y<w){if(y=Math.floor(y),v=Math.ceil(v),d>0){for(;y<=v;++y)for(_=1;_<r;++_)if(E=y<0?_/s(-y):_*s(y),!(E<d)){if(E>f)break;A.push(E)}}else for(;y<=v;++y)for(_=r-1;_>=1;--_)if(E=y>0?_/s(-y):_*s(y),!(E<d)){if(E>f)break;A.push(E)}A.length*2<w&&(A=TN(d,f,w))}else A=TN(y,v,Math.min(v-y,w)).map(s);return m?A.reverse():A},e.tickFormat=(l,u)=>{if(l==null&&(l=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=Jp(u)).precision==null&&(u.trim=!0),u=eI(u)),l===1/0)return u;const d=Math.max(1,r*l/e.ticks().length);return f=>{let m=f/s(Math.round(i(f)));return m*r<r-.5&&(m*=r),m<=d?u(f):""}},e.nice=()=>n(jH(n(),{floor:l=>s(Math.floor(i(l))),ceil:l=>s(Math.ceil(i(l)))})),e}function RH(){const t=tI(Rw()).domain([1,10]);return t.copy=()=>Vg(t,RH()).base(t.base()),Ps.apply(t,arguments),t}function Q6(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Z6(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function nI(t){var e=1,n=t(Q6(e),Z6(e));return n.constant=function(r){return arguments.length?t(Q6(e=+r),Z6(e)):e},Oc(n)}function kH(){var t=nI(Rw());return t.copy=function(){return Vg(t,kH()).constant(t.constant())},Ps.apply(t,arguments)}function J6(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function KSe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function GSe(t){return t<0?-t*t:t*t}function rI(t){var e=t(si,si),n=1;function r(){return n===1?t(si,si):n===.5?t(KSe,GSe):t(J6(n),J6(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Oc(e)}function iI(){var t=rI(Rw());return t.copy=function(){return Vg(t,iI()).exponent(t.exponent())},Ps.apply(t,arguments),t}function YSe(){return iI.apply(null,arguments).exponent(.5)}function eV(t){return Math.sign(t)*t*t}function XSe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function MH(){var t=ZP(),e=[0,1],n=!1,r;function i(s){var a=XSe(t(s));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(s){return t.invert(eV(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,Qb)).map(eV)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return MH(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Ps.apply(i,arguments),Oc(i)}function DH(){var t=[],e=[],n=[],r;function i(){var a=0,l=Math.max(1,e.length);for(n=new Array(l-1);++a<l;)n[a-1]=eSe(t,a/l);return s}function s(a){return a==null||isNaN(a=+a)?r:e[Dg(n,a)]}return s.invertExtent=function(a){var l=e.indexOf(a);return l<0?[NaN,NaN]:[l>0?n[l-1]:t[0],l<n.length?n[l]:t[t.length-1]]},s.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let l of a)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(ic),i()},s.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},s.unknown=function(a){return arguments.length?(r=a,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return DH().domain(t).range(e).unknown(r)},Ps.apply(s,arguments)}function LH(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function a(u){return u!=null&&u<=u?i[Dg(r,u,0,n)]:s}function l(){var u=-1;for(r=new Array(n);++u<n;)r[u]=((u+1)*e-(u-n)*t)/(n+1);return a}return a.domain=function(u){return arguments.length?([t,e]=u,t=+t,e=+e,l()):[t,e]},a.range=function(u){return arguments.length?(n=(i=Array.from(u)).length-1,l()):i.slice()},a.invertExtent=function(u){var d=i.indexOf(u);return d<0?[NaN,NaN]:d<1?[t,r[0]]:d>=n?[r[n-1],e]:[r[d-1],r[d]]},a.unknown=function(u){return arguments.length&&(s=u),a},a.thresholds=function(){return r.slice()},a.copy=function(){return LH().domain([t,e]).range(i).unknown(s)},Ps.apply(Oc(a),arguments)}function VH(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[Dg(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var a=e.indexOf(s);return[t[a-1],t[a]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return VH().domain(t).range(e).unknown(n)},Ps.apply(i,arguments)}const cT=new Date,uT=new Date;function nr(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const a=i(s),l=i.ceil(s);return s-a<l-s?a:l},i.offset=(s,a)=>(e(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,l)=>{const u=[];if(s=i.ceil(s),l=l==null?1:Math.floor(l),!(s<a)||!(l>0))return u;let d;do u.push(d=new Date(+s)),e(s,l),t(s);while(d<s&&s<a);return u},i.filter=s=>nr(a=>{if(a>=a)for(;t(a),!s(a);)a.setTime(a-1)},(a,l)=>{if(a>=a)if(l<0)for(;++l<=0;)for(;e(a,-1),!s(a););else for(;--l>=0;)for(;e(a,1),!s(a););}),n&&(i.count=(s,a)=>(cT.setTime(+s),uT.setTime(+a),t(cT),t(uT),Math.floor(n(cT,uT))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?a=>r(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const Jb=nr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Jb.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?nr(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Jb);Jb.range;const Co=1e3,ws=Co*60,Po=ws*60,Ko=Po*24,sI=Ko*7,tV=Ko*30,dT=Ko*365,Nu=nr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Co)},(t,e)=>(e-t)/Co,t=>t.getUTCSeconds());Nu.range;const aI=nr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Co)},(t,e)=>{t.setTime(+t+e*ws)},(t,e)=>(e-t)/ws,t=>t.getMinutes());aI.range;const oI=nr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ws)},(t,e)=>(e-t)/ws,t=>t.getUTCMinutes());oI.range;const lI=nr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Co-t.getMinutes()*ws)},(t,e)=>{t.setTime(+t+e*Po)},(t,e)=>(e-t)/Po,t=>t.getHours());lI.range;const cI=nr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Po)},(t,e)=>(e-t)/Po,t=>t.getUTCHours());cI.range;const Ug=nr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ws)/Ko,t=>t.getDate()-1);Ug.range;const kw=nr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ko,t=>t.getUTCDate()-1);kw.range;const UH=nr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ko,t=>Math.floor(t/Ko));UH.range;function ad(t){return nr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*ws)/sI)}const Mw=ad(0),ex=ad(1),QSe=ad(2),ZSe=ad(3),Gf=ad(4),JSe=ad(5),eTe=ad(6);Mw.range;ex.range;QSe.range;ZSe.range;Gf.range;JSe.range;eTe.range;function od(t){return nr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/sI)}const Dw=od(0),tx=od(1),tTe=od(2),nTe=od(3),Yf=od(4),rTe=od(5),iTe=od(6);Dw.range;tx.range;tTe.range;nTe.range;Yf.range;rTe.range;iTe.range;const uI=nr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());uI.range;const dI=nr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());dI.range;const Go=nr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Go.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:nr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Go.range;const Yo=nr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Yo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:nr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Yo.range;function zH(t,e,n,r,i,s){const a=[[Nu,1,Co],[Nu,5,5*Co],[Nu,15,15*Co],[Nu,30,30*Co],[s,1,ws],[s,5,5*ws],[s,15,15*ws],[s,30,30*ws],[i,1,Po],[i,3,3*Po],[i,6,6*Po],[i,12,12*Po],[r,1,Ko],[r,2,2*Ko],[n,1,sI],[e,1,tV],[e,3,3*tV],[t,1,dT]];function l(d,f,m){const y=f<d;y&&([d,f]=[f,d]);const v=m&&typeof m.range=="function"?m:u(d,f,m),_=v?v.range(d,+f+1):[];return y?_.reverse():_}function u(d,f,m){const y=Math.abs(f-d)/m,v=WP(([,,w])=>w).right(a,y);if(v===a.length)return t.every(NN(d/dT,f/dT,m));if(v===0)return Jb.every(Math.max(NN(d,f,m),1));const[_,E]=a[y/a[v-1][2]<a[v][2]/y?v-1:v];return _.every(E)}return[l,u]}const[sTe,aTe]=zH(Yo,dI,Dw,UH,cI,oI),[oTe,lTe]=zH(Go,uI,Mw,Ug,lI,aI);function fT(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function hT(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Dm(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function cTe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,a=t.shortDays,l=t.months,u=t.shortMonths,d=Lm(i),f=Vm(i),m=Lm(s),y=Vm(s),v=Lm(a),_=Vm(a),E=Lm(l),w=Vm(l),A=Lm(u),C=Vm(u),P={a:ee,A:he,b:Y,B:H,c:null,d:oV,e:oV,f:jTe,g:FTe,G:qTe,H:PTe,I:ITe,j:OTe,L:BH,m:RTe,M:kTe,p:k,q:K,Q:uV,s:dV,S:MTe,u:DTe,U:LTe,V:VTe,w:UTe,W:zTe,x:null,X:null,y:BTe,Y:$Te,Z:HTe,"%":cV},L={a:re,A:ce,b:se,B:ye,c:null,d:lV,e:lV,f:YTe,g:sAe,G:oAe,H:WTe,I:KTe,j:GTe,L:$H,m:XTe,M:QTe,p:de,q:Se,Q:uV,s:dV,S:ZTe,u:JTe,U:eAe,V:tAe,w:nAe,W:rAe,x:null,X:null,y:iAe,Y:aAe,Z:lAe,"%":cV},M={a:B,A:V,b:$,B:q,c:xe,d:sV,e:sV,f:TTe,g:iV,G:rV,H:aV,I:aV,j:wTe,L:STe,m:xTe,M:_Te,p:D,q:bTe,Q:NTe,s:CTe,S:ETe,u:mTe,U:pTe,V:gTe,w:hTe,W:yTe,x:be,X,y:iV,Y:rV,Z:vTe,"%":ATe};P.x=z(n,P),P.X=z(r,P),P.c=z(e,P),L.x=z(n,L),L.X=z(r,L),L.c=z(e,L);function z(Z,Ee){return function(Ae){var fe=[],Ke=-1,_e=0,Me=Z.length,ze,it,Gt;for(Ae instanceof Date||(Ae=new Date(+Ae));++Ke<Me;)Z.charCodeAt(Ke)===37&&(fe.push(Z.slice(_e,Ke)),(it=nV[ze=Z.charAt(++Ke)])!=null?ze=Z.charAt(++Ke):it=ze==="e"?" ":"0",(Gt=Ee[ze])&&(ze=Gt(Ae,it)),fe.push(ze),_e=Ke+1);return fe.push(Z.slice(_e,Ke)),fe.join("")}}function j(Z,Ee){return function(Ae){var fe=Dm(1900,void 0,1),Ke=R(fe,Z,Ae+="",0),_e,Me;if(Ke!=Ae.length)return null;if("Q"in fe)return new Date(fe.Q);if("s"in fe)return new Date(fe.s*1e3+("L"in fe?fe.L:0));if(Ee&&!("Z"in fe)&&(fe.Z=0),"p"in fe&&(fe.H=fe.H%12+fe.p*12),fe.m===void 0&&(fe.m="q"in fe?fe.q:0),"V"in fe){if(fe.V<1||fe.V>53)return null;"w"in fe||(fe.w=1),"Z"in fe?(_e=hT(Dm(fe.y,0,1)),Me=_e.getUTCDay(),_e=Me>4||Me===0?tx.ceil(_e):tx(_e),_e=kw.offset(_e,(fe.V-1)*7),fe.y=_e.getUTCFullYear(),fe.m=_e.getUTCMonth(),fe.d=_e.getUTCDate()+(fe.w+6)%7):(_e=fT(Dm(fe.y,0,1)),Me=_e.getDay(),_e=Me>4||Me===0?ex.ceil(_e):ex(_e),_e=Ug.offset(_e,(fe.V-1)*7),fe.y=_e.getFullYear(),fe.m=_e.getMonth(),fe.d=_e.getDate()+(fe.w+6)%7)}else("W"in fe||"U"in fe)&&("w"in fe||(fe.w="u"in fe?fe.u%7:"W"in fe?1:0),Me="Z"in fe?hT(Dm(fe.y,0,1)).getUTCDay():fT(Dm(fe.y,0,1)).getDay(),fe.m=0,fe.d="W"in fe?(fe.w+6)%7+fe.W*7-(Me+5)%7:fe.w+fe.U*7-(Me+6)%7);return"Z"in fe?(fe.H+=fe.Z/100|0,fe.M+=fe.Z%100,hT(fe)):fT(fe)}}function R(Z,Ee,Ae,fe){for(var Ke=0,_e=Ee.length,Me=Ae.length,ze,it;Ke<_e;){if(fe>=Me)return-1;if(ze=Ee.charCodeAt(Ke++),ze===37){if(ze=Ee.charAt(Ke++),it=M[ze in nV?Ee.charAt(Ke++):ze],!it||(fe=it(Z,Ae,fe))<0)return-1}else if(ze!=Ae.charCodeAt(fe++))return-1}return fe}function D(Z,Ee,Ae){var fe=d.exec(Ee.slice(Ae));return fe?(Z.p=f.get(fe[0].toLowerCase()),Ae+fe[0].length):-1}function B(Z,Ee,Ae){var fe=v.exec(Ee.slice(Ae));return fe?(Z.w=_.get(fe[0].toLowerCase()),Ae+fe[0].length):-1}function V(Z,Ee,Ae){var fe=m.exec(Ee.slice(Ae));return fe?(Z.w=y.get(fe[0].toLowerCase()),Ae+fe[0].length):-1}function $(Z,Ee,Ae){var fe=A.exec(Ee.slice(Ae));return fe?(Z.m=C.get(fe[0].toLowerCase()),Ae+fe[0].length):-1}function q(Z,Ee,Ae){var fe=E.exec(Ee.slice(Ae));return fe?(Z.m=w.get(fe[0].toLowerCase()),Ae+fe[0].length):-1}function xe(Z,Ee,Ae){return R(Z,e,Ee,Ae)}function be(Z,Ee,Ae){return R(Z,n,Ee,Ae)}function X(Z,Ee,Ae){return R(Z,r,Ee,Ae)}function ee(Z){return a[Z.getDay()]}function he(Z){return s[Z.getDay()]}function Y(Z){return u[Z.getMonth()]}function H(Z){return l[Z.getMonth()]}function k(Z){return i[+(Z.getHours()>=12)]}function K(Z){return 1+~~(Z.getMonth()/3)}function re(Z){return a[Z.getUTCDay()]}function ce(Z){return s[Z.getUTCDay()]}function se(Z){return u[Z.getUTCMonth()]}function ye(Z){return l[Z.getUTCMonth()]}function de(Z){return i[+(Z.getUTCHours()>=12)]}function Se(Z){return 1+~~(Z.getUTCMonth()/3)}return{format:function(Z){var Ee=z(Z+="",P);return Ee.toString=function(){return Z},Ee},parse:function(Z){var Ee=j(Z+="",!1);return Ee.toString=function(){return Z},Ee},utcFormat:function(Z){var Ee=z(Z+="",L);return Ee.toString=function(){return Z},Ee},utcParse:function(Z){var Ee=j(Z+="",!0);return Ee.toString=function(){return Z},Ee}}}var nV={"-":"",_:" ",0:"0"},_r=/^\s*\d+/,uTe=/^%/,dTe=/[\\^$*+?|[\]().{}]/g;function bt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function fTe(t){return t.replace(dTe,"\\$&")}function Lm(t){return new RegExp("^(?:"+t.map(fTe).join("|")+")","i")}function Vm(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function hTe(t,e,n){var r=_r.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function mTe(t,e,n){var r=_r.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function pTe(t,e,n){var r=_r.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function gTe(t,e,n){var r=_r.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function yTe(t,e,n){var r=_r.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function rV(t,e,n){var r=_r.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function iV(t,e,n){var r=_r.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function vTe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function bTe(t,e,n){var r=_r.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function xTe(t,e,n){var r=_r.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function sV(t,e,n){var r=_r.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function wTe(t,e,n){var r=_r.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function aV(t,e,n){var r=_r.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function _Te(t,e,n){var r=_r.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function ETe(t,e,n){var r=_r.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function STe(t,e,n){var r=_r.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function TTe(t,e,n){var r=_r.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function ATe(t,e,n){var r=uTe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function NTe(t,e,n){var r=_r.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function CTe(t,e,n){var r=_r.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function oV(t,e){return bt(t.getDate(),e,2)}function PTe(t,e){return bt(t.getHours(),e,2)}function ITe(t,e){return bt(t.getHours()%12||12,e,2)}function OTe(t,e){return bt(1+Ug.count(Go(t),t),e,3)}function BH(t,e){return bt(t.getMilliseconds(),e,3)}function jTe(t,e){return BH(t,e)+"000"}function RTe(t,e){return bt(t.getMonth()+1,e,2)}function kTe(t,e){return bt(t.getMinutes(),e,2)}function MTe(t,e){return bt(t.getSeconds(),e,2)}function DTe(t){var e=t.getDay();return e===0?7:e}function LTe(t,e){return bt(Mw.count(Go(t)-1,t),e,2)}function FH(t){var e=t.getDay();return e>=4||e===0?Gf(t):Gf.ceil(t)}function VTe(t,e){return t=FH(t),bt(Gf.count(Go(t),t)+(Go(t).getDay()===4),e,2)}function UTe(t){return t.getDay()}function zTe(t,e){return bt(ex.count(Go(t)-1,t),e,2)}function BTe(t,e){return bt(t.getFullYear()%100,e,2)}function FTe(t,e){return t=FH(t),bt(t.getFullYear()%100,e,2)}function $Te(t,e){return bt(t.getFullYear()%1e4,e,4)}function qTe(t,e){var n=t.getDay();return t=n>=4||n===0?Gf(t):Gf.ceil(t),bt(t.getFullYear()%1e4,e,4)}function HTe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+bt(e/60|0,"0",2)+bt(e%60,"0",2)}function lV(t,e){return bt(t.getUTCDate(),e,2)}function WTe(t,e){return bt(t.getUTCHours(),e,2)}function KTe(t,e){return bt(t.getUTCHours()%12||12,e,2)}function GTe(t,e){return bt(1+kw.count(Yo(t),t),e,3)}function $H(t,e){return bt(t.getUTCMilliseconds(),e,3)}function YTe(t,e){return $H(t,e)+"000"}function XTe(t,e){return bt(t.getUTCMonth()+1,e,2)}function QTe(t,e){return bt(t.getUTCMinutes(),e,2)}function ZTe(t,e){return bt(t.getUTCSeconds(),e,2)}function JTe(t){var e=t.getUTCDay();return e===0?7:e}function eAe(t,e){return bt(Dw.count(Yo(t)-1,t),e,2)}function qH(t){var e=t.getUTCDay();return e>=4||e===0?Yf(t):Yf.ceil(t)}function tAe(t,e){return t=qH(t),bt(Yf.count(Yo(t),t)+(Yo(t).getUTCDay()===4),e,2)}function nAe(t){return t.getUTCDay()}function rAe(t,e){return bt(tx.count(Yo(t)-1,t),e,2)}function iAe(t,e){return bt(t.getUTCFullYear()%100,e,2)}function sAe(t,e){return t=qH(t),bt(t.getUTCFullYear()%100,e,2)}function aAe(t,e){return bt(t.getUTCFullYear()%1e4,e,4)}function oAe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Yf(t):Yf.ceil(t),bt(t.getUTCFullYear()%1e4,e,4)}function lAe(){return"+0000"}function cV(){return"%"}function uV(t){return+t}function dV(t){return Math.floor(+t/1e3)}var Qd,HH,WH;cAe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function cAe(t){return Qd=cTe(t),HH=Qd.format,Qd.parse,WH=Qd.utcFormat,Qd.utcParse,Qd}function uAe(t){return new Date(t)}function dAe(t){return t instanceof Date?+t:+new Date(+t)}function fI(t,e,n,r,i,s,a,l,u,d){var f=ZP(),m=f.invert,y=f.domain,v=d(".%L"),_=d(":%S"),E=d("%I:%M"),w=d("%I %p"),A=d("%a %d"),C=d("%b %d"),P=d("%B"),L=d("%Y");function M(z){return(u(z)<z?v:l(z)<z?_:a(z)<z?E:s(z)<z?w:r(z)<z?i(z)<z?A:C:n(z)<z?P:L)(z)}return f.invert=function(z){return new Date(m(z))},f.domain=function(z){return arguments.length?y(Array.from(z,dAe)):y().map(uAe)},f.ticks=function(z){var j=y();return t(j[0],j[j.length-1],z??10)},f.tickFormat=function(z,j){return j==null?M:d(j)},f.nice=function(z){var j=y();return(!z||typeof z.range!="function")&&(z=e(j[0],j[j.length-1],z??10)),z?y(jH(j,z)):f},f.copy=function(){return Vg(f,fI(t,e,n,r,i,s,a,l,u,d))},f}function fAe(){return Ps.apply(fI(oTe,lTe,Go,uI,Mw,Ug,lI,aI,Nu,HH).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function hAe(){return Ps.apply(fI(sTe,aTe,Yo,dI,Dw,kw,cI,oI,Nu,WH).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Lw(){var t=0,e=1,n,r,i,s,a=si,l=!1,u;function d(m){return m==null||isNaN(m=+m)?u:a(i===0?.5:(m=(s(m)-n)*i,l?Math.max(0,Math.min(1,m)):m))}d.domain=function(m){return arguments.length?([t,e]=m,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),d):[t,e]},d.clamp=function(m){return arguments.length?(l=!!m,d):l},d.interpolator=function(m){return arguments.length?(a=m,d):a};function f(m){return function(y){var v,_;return arguments.length?([v,_]=y,a=m(v,_),d):[a(0),a(1)]}}return d.range=f(ph),d.rangeRound=f(QP),d.unknown=function(m){return arguments.length?(u=m,d):u},function(m){return s=m,n=m(t),r=m(e),i=n===r?0:1/(r-n),d}}function jc(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function KH(){var t=Oc(Lw()(si));return t.copy=function(){return jc(t,KH())},tl.apply(t,arguments)}function GH(){var t=tI(Lw()).domain([1,10]);return t.copy=function(){return jc(t,GH()).base(t.base())},tl.apply(t,arguments)}function YH(){var t=nI(Lw());return t.copy=function(){return jc(t,YH()).constant(t.constant())},tl.apply(t,arguments)}function hI(){var t=rI(Lw());return t.copy=function(){return jc(t,hI()).exponent(t.exponent())},tl.apply(t,arguments)}function mAe(){return hI.apply(null,arguments).exponent(.5)}function XH(){var t=[],e=si;function n(r){if(r!=null&&!isNaN(r=+r))return e((Dg(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(ic),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>JEe(t,s/r))},n.copy=function(){return XH(e).domain(t)},tl.apply(n,arguments)}function Vw(){var t=0,e=.5,n=1,r=1,i,s,a,l,u,d=si,f,m=!1,y;function v(E){return isNaN(E=+E)?y:(E=.5+((E=+f(E))-s)*(r*E<r*s?l:u),d(m?Math.max(0,Math.min(1,E)):E))}v.domain=function(E){return arguments.length?([t,e,n]=E,i=f(t=+t),s=f(e=+e),a=f(n=+n),l=i===s?0:.5/(s-i),u=s===a?0:.5/(a-s),r=s<i?-1:1,v):[t,e,n]},v.clamp=function(E){return arguments.length?(m=!!E,v):m},v.interpolator=function(E){return arguments.length?(d=E,v):d};function _(E){return function(w){var A,C,P;return arguments.length?([A,C,P]=w,d=ASe(E,[A,C,P]),v):[d(0),d(.5),d(1)]}}return v.range=_(ph),v.rangeRound=_(QP),v.unknown=function(E){return arguments.length?(y=E,v):y},function(E){return f=E,i=E(t),s=E(e),a=E(n),l=i===s?0:.5/(s-i),u=s===a?0:.5/(a-s),r=s<i?-1:1,v}}function QH(){var t=Oc(Vw()(si));return t.copy=function(){return jc(t,QH())},tl.apply(t,arguments)}function ZH(){var t=tI(Vw()).domain([.1,1,10]);return t.copy=function(){return jc(t,ZH()).base(t.base())},tl.apply(t,arguments)}function JH(){var t=nI(Vw());return t.copy=function(){return jc(t,JH()).constant(t.constant())},tl.apply(t,arguments)}function mI(){var t=rI(Vw());return t.copy=function(){return jc(t,mI()).exponent(t.exponent())},tl.apply(t,arguments)}function pAe(){return mI.apply(null,arguments).exponent(.5)}const Qm=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:GP,scaleDiverging:QH,scaleDivergingLog:ZH,scaleDivergingPow:mI,scaleDivergingSqrt:pAe,scaleDivergingSymlog:JH,scaleIdentity:OH,scaleImplicit:CN,scaleLinear:IH,scaleLog:RH,scaleOrdinal:KP,scalePoint:nSe,scalePow:iI,scaleQuantile:DH,scaleQuantize:LH,scaleRadial:MH,scaleSequential:KH,scaleSequentialLog:GH,scaleSequentialPow:hI,scaleSequentialQuantile:XH,scaleSequentialSqrt:mAe,scaleSequentialSymlog:YH,scaleSqrt:YSe,scaleSymlog:kH,scaleThreshold:VH,scaleTime:fAe,scaleUtc:hAe,tickFormat:PH},Symbol.toStringTag,{value:"Module"}));var Rc=t=>t.chartData,gAe=oe([Rc],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),Uw=(t,e,n,r)=>r?gAe(t):Rc(t);function bc(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(On(e)&&On(n))return!0}return!1}function fV(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function eW(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,s;if(On(n))i=n;else if(typeof n=="function")return;if(On(r))s=r;else if(typeof r=="function")return;var a=[i,s];if(bc(a))return a}}function yAe(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(bc(r))return fV(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,s]=t,a,l;if(i==="auto")e!=null&&(a=Math.min(...e));else if(je(i))a=i;else if(typeof i=="function")try{e!=null&&(a=i(e?.[0]))}catch{}else if(typeof i=="string"&&z3.test(i)){var u=z3.exec(i);if(u==null||e==null)a=void 0;else{var d=+u[1];a=e[0]-d}}else a=e?.[0];if(s==="auto")e!=null&&(l=Math.max(...e));else if(je(s))l=s;else if(typeof s=="function")try{e!=null&&(l=s(e?.[1]))}catch{}else if(typeof s=="string"&&B3.test(s)){var f=B3.exec(s);if(f==null||e==null)l=void 0;else{var m=+f[1];l=e[1]+m}}else l=e?.[1];var y=[a,l];if(bc(y))return e==null?y:fV(y,e,n)}}}var gh=1e9,vAe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},gI,cn=!0,As="[DecimalError] ",Du=As+"Invalid argument: ",pI=As+"Exponent out of range: ",yh=Math.floor,yu=Math.pow,bAe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,qi,pr=1e7,Zt=7,tW=9007199254740991,nx=yh(tW/Zt),Ce={};Ce.absoluteValue=Ce.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ce.comparedTo=Ce.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};Ce.decimalPlaces=Ce.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Zt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Ce.dividedBy=Ce.div=function(t){return ko(this,new this.constructor(t))};Ce.dividedToIntegerBy=Ce.idiv=function(t){var e=this,n=e.constructor;return Ht(ko(e,new n(t),0,1),n.precision)};Ce.equals=Ce.eq=function(t){return!this.cmp(t)};Ce.exponent=function(){return Wn(this)};Ce.greaterThan=Ce.gt=function(t){return this.cmp(t)>0};Ce.greaterThanOrEqualTo=Ce.gte=function(t){return this.cmp(t)>=0};Ce.isInteger=Ce.isint=function(){return this.e>this.d.length-2};Ce.isNegative=Ce.isneg=function(){return this.s<0};Ce.isPositive=Ce.ispos=function(){return this.s>0};Ce.isZero=function(){return this.s===0};Ce.lessThan=Ce.lt=function(t){return this.cmp(t)<0};Ce.lessThanOrEqualTo=Ce.lte=function(t){return this.cmp(t)<1};Ce.logarithm=Ce.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(qi))throw Error(As+"NaN");if(n.s<1)throw Error(As+(n.s?"NaN":"-Infinity"));return n.eq(qi)?new r(0):(cn=!1,e=ko(eg(n,s),eg(t,s),s),cn=!0,Ht(e,i))};Ce.minus=Ce.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?iW(e,t):nW(e,(t.s=-t.s,t))};Ce.modulo=Ce.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(As+"NaN");return n.s?(cn=!1,e=ko(n,t,0,1).times(t),cn=!0,n.minus(e)):Ht(new r(n),i)};Ce.naturalExponential=Ce.exp=function(){return rW(this)};Ce.naturalLogarithm=Ce.ln=function(){return eg(this)};Ce.negated=Ce.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ce.plus=Ce.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?nW(e,t):iW(e,(t.s=-t.s,t))};Ce.precision=Ce.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Du+t);if(e=Wn(i)+1,r=i.d.length-1,n=r*Zt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Ce.squareRoot=Ce.sqrt=function(){var t,e,n,r,i,s,a,l=this,u=l.constructor;if(l.s<1){if(!l.s)return new u(0);throw Error(As+"NaN")}for(t=Wn(l),cn=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=Ra(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=yh((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new u(e)):r=new u(i.toString()),n=u.precision,i=a=n+3;;)if(s=r,r=s.plus(ko(l,s,a+2)).times(.5),Ra(s.d).slice(0,a)===(e=Ra(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(Ht(s,n+1,0),s.times(s).eq(l)){r=s;break}}else if(e!="9999")break;a+=4}return cn=!0,Ht(r,n)};Ce.times=Ce.mul=function(t){var e,n,r,i,s,a,l,u,d,f=this,m=f.constructor,y=f.d,v=(t=new m(t)).d;if(!f.s||!t.s)return new m(0);for(t.s*=f.s,n=f.e+t.e,u=y.length,d=v.length,u<d&&(s=y,y=v,v=s,a=u,u=d,d=a),s=[],a=u+d,r=a;r--;)s.push(0);for(r=d;--r>=0;){for(e=0,i=u+r;i>r;)l=s[i]+v[r]*y[i-r-1]+e,s[i--]=l%pr|0,e=l/pr|0;s[i]=(s[i]+e)%pr|0}for(;!s[--a];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,cn?Ht(t,m.precision):t};Ce.toDecimalPlaces=Ce.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Wa(t,0,gh),e===void 0?e=r.rounding:Wa(e,0,8),Ht(n,t+Wn(n)+1,e))};Ce.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Qu(r,!0):(Wa(t,0,gh),e===void 0?e=i.rounding:Wa(e,0,8),r=Ht(new i(r),t+1,e),n=Qu(r,!0,t+1)),n};Ce.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?Qu(i):(Wa(t,0,gh),e===void 0?e=s.rounding:Wa(e,0,8),r=Ht(new s(i),t+Wn(i)+1,e),n=Qu(r.abs(),!1,t+Wn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Ce.toInteger=Ce.toint=function(){var t=this,e=t.constructor;return Ht(new e(t),Wn(t)+1,e.rounding)};Ce.toNumber=function(){return+this};Ce.toPower=Ce.pow=function(t){var e,n,r,i,s,a,l=this,u=l.constructor,d=12,f=+(t=new u(t));if(!t.s)return new u(qi);if(l=new u(l),!l.s){if(t.s<1)throw Error(As+"Infinity");return l}if(l.eq(qi))return l;if(r=u.precision,t.eq(qi))return Ht(l,r);if(e=t.e,n=t.d.length-1,a=e>=n,s=l.s,a){if((n=f<0?-f:f)<=tW){for(i=new u(qi),e=Math.ceil(r/Zt+4),cn=!1;n%2&&(i=i.times(l),mV(i.d,e)),n=yh(n/2),n!==0;)l=l.times(l),mV(l.d,e);return cn=!0,t.s<0?new u(qi).div(i):Ht(i,r)}}else if(s<0)throw Error(As+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,l.s=1,cn=!1,i=t.times(eg(l,r+d)),cn=!0,i=rW(i),i.s=s,i};Ce.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=Wn(i),r=Qu(i,n<=s.toExpNeg||n>=s.toExpPos)):(Wa(t,1,gh),e===void 0?e=s.rounding:Wa(e,0,8),i=Ht(new s(i),t,e),n=Wn(i),r=Qu(i,t<=n||n<=s.toExpNeg,t)),r};Ce.toSignificantDigits=Ce.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Wa(t,1,gh),e===void 0?e=r.rounding:Wa(e,0,8)),Ht(new r(n),t,e)};Ce.toString=Ce.valueOf=Ce.val=Ce.toJSON=Ce[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Wn(t),n=t.constructor;return Qu(t,e<=n.toExpNeg||e>=n.toExpPos)};function nW(t,e){var n,r,i,s,a,l,u,d,f=t.constructor,m=f.precision;if(!t.s||!e.s)return e.s||(e=new f(t)),cn?Ht(e,m):e;if(u=t.d,d=e.d,a=t.e,i=e.e,u=u.slice(),s=a-i,s){for(s<0?(r=u,s=-s,l=d.length):(r=d,i=a,l=u.length),a=Math.ceil(m/Zt),l=a>l?a+1:l+1,s>l&&(s=l,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(l=u.length,s=d.length,l-s<0&&(s=l,r=d,d=u,u=r),n=0;s;)n=(u[--s]=u[s]+d[s]+n)/pr|0,u[s]%=pr;for(n&&(u.unshift(n),++i),l=u.length;u[--l]==0;)u.pop();return e.d=u,e.e=i,cn?Ht(e,m):e}function Wa(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Du+t)}function Ra(t){var e,n,r,i=t.length-1,s="",a=t[0];if(i>0){for(s+=a,e=1;e<i;e++)r=t[e]+"",n=Zt-r.length,n&&(s+=Ul(n)),s+=r;a=t[e],r=a+"",n=Zt-r.length,n&&(s+=Ul(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var ko=(function(){function t(r,i){var s,a=0,l=r.length;for(r=r.slice();l--;)s=r[l]*i+a,r[l]=s%pr|0,a=s/pr|0;return a&&r.unshift(a),r}function e(r,i,s,a){var l,u;if(s!=a)u=s>a?1:-1;else for(l=u=0;l<s;l++)if(r[l]!=i[l]){u=r[l]>i[l]?1:-1;break}return u}function n(r,i,s){for(var a=0;s--;)r[s]-=a,a=r[s]<i[s]?1:0,r[s]=a*pr+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,a){var l,u,d,f,m,y,v,_,E,w,A,C,P,L,M,z,j,R,D=r.constructor,B=r.s==i.s?1:-1,V=r.d,$=i.d;if(!r.s)return new D(r);if(!i.s)throw Error(As+"Division by zero");for(u=r.e-i.e,j=$.length,M=V.length,v=new D(B),_=v.d=[],d=0;$[d]==(V[d]||0);)++d;if($[d]>(V[d]||0)&&--u,s==null?C=s=D.precision:a?C=s+(Wn(r)-Wn(i))+1:C=s,C<0)return new D(0);if(C=C/Zt+2|0,d=0,j==1)for(f=0,$=$[0],C++;(d<M||f)&&C--;d++)P=f*pr+(V[d]||0),_[d]=P/$|0,f=P%$|0;else{for(f=pr/($[0]+1)|0,f>1&&($=t($,f),V=t(V,f),j=$.length,M=V.length),L=j,E=V.slice(0,j),w=E.length;w<j;)E[w++]=0;R=$.slice(),R.unshift(0),z=$[0],$[1]>=pr/2&&++z;do f=0,l=e($,E,j,w),l<0?(A=E[0],j!=w&&(A=A*pr+(E[1]||0)),f=A/z|0,f>1?(f>=pr&&(f=pr-1),m=t($,f),y=m.length,w=E.length,l=e(m,E,y,w),l==1&&(f--,n(m,j<y?R:$,y))):(f==0&&(l=f=1),m=$.slice()),y=m.length,y<w&&m.unshift(0),n(E,m,w),l==-1&&(w=E.length,l=e($,E,j,w),l<1&&(f++,n(E,j<w?R:$,w))),w=E.length):l===0&&(f++,E=[0]),_[d++]=f,l&&E[0]?E[w++]=V[L]||0:(E=[V[L]],w=1);while((L++<M||E[0]!==void 0)&&C--)}return _[0]||_.shift(),v.e=u,Ht(v,a?s+Wn(v)+1:s)}})();function rW(t,e){var n,r,i,s,a,l,u=0,d=0,f=t.constructor,m=f.precision;if(Wn(t)>16)throw Error(pI+Wn(t));if(!t.s)return new f(qi);for(cn=!1,l=m,a=new f(.03125);t.abs().gte(.1);)t=t.times(a),d+=5;for(r=Math.log(yu(2,d))/Math.LN10*2+5|0,l+=r,n=i=s=new f(qi),f.precision=l;;){if(i=Ht(i.times(t),l),n=n.times(++u),a=s.plus(ko(i,n,l)),Ra(a.d).slice(0,l)===Ra(s.d).slice(0,l)){for(;d--;)s=Ht(s.times(s),l);return f.precision=m,e==null?(cn=!0,Ht(s,m)):s}s=a}}function Wn(t){for(var e=t.e*Zt,n=t.d[0];n>=10;n/=10)e++;return e}function mT(t,e,n){if(e>t.LN10.sd())throw cn=!0,n&&(t.precision=n),Error(As+"LN10 precision limit exceeded");return Ht(new t(t.LN10),e)}function Ul(t){for(var e="";t--;)e+="0";return e}function eg(t,e){var n,r,i,s,a,l,u,d,f,m=1,y=10,v=t,_=v.d,E=v.constructor,w=E.precision;if(v.s<1)throw Error(As+(v.s?"NaN":"-Infinity"));if(v.eq(qi))return new E(0);if(e==null?(cn=!1,d=w):d=e,v.eq(10))return e==null&&(cn=!0),mT(E,d);if(d+=y,E.precision=d,n=Ra(_),r=n.charAt(0),s=Wn(v),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)v=v.times(t),n=Ra(v.d),r=n.charAt(0),m++;s=Wn(v),r>1?(v=new E("0."+n),s++):v=new E(r+"."+n.slice(1))}else return u=mT(E,d+2,w).times(s+""),v=eg(new E(r+"."+n.slice(1)),d-y).plus(u),E.precision=w,e==null?(cn=!0,Ht(v,w)):v;for(l=a=v=ko(v.minus(qi),v.plus(qi),d),f=Ht(v.times(v),d),i=3;;){if(a=Ht(a.times(f),d),u=l.plus(ko(a,new E(i),d)),Ra(u.d).slice(0,d)===Ra(l.d).slice(0,d))return l=l.times(2),s!==0&&(l=l.plus(mT(E,d+2,w).times(s+""))),l=ko(l,new E(m),d),E.precision=w,e==null?(cn=!0,Ht(l,w)):l;l=u,i+=2}}function hV(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=yh(n/Zt),t.d=[],r=(n+1)%Zt,n<0&&(r+=Zt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Zt;r<i;)t.d.push(+e.slice(r,r+=Zt));e=e.slice(r),r=Zt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),cn&&(t.e>nx||t.e<-nx))throw Error(pI+n)}else t.s=0,t.e=0,t.d=[0];return t}function Ht(t,e,n){var r,i,s,a,l,u,d,f,m=t.d;for(a=1,s=m[0];s>=10;s/=10)a++;if(r=e-a,r<0)r+=Zt,i=e,d=m[f=0];else{if(f=Math.ceil((r+1)/Zt),s=m.length,f>=s)return t;for(d=s=m[f],a=1;s>=10;s/=10)a++;r%=Zt,i=r-Zt+a}if(n!==void 0&&(s=yu(10,a-i-1),l=d/s%10|0,u=e<0||m[f+1]!==void 0||d%s,u=n<4?(l||u)&&(n==0||n==(t.s<0?3:2)):l>5||l==5&&(n==4||u||n==6&&(r>0?i>0?d/yu(10,a-i):0:m[f-1])%10&1||n==(t.s<0?8:7))),e<1||!m[0])return u?(s=Wn(t),m.length=1,e=e-s-1,m[0]=yu(10,(Zt-e%Zt)%Zt),t.e=yh(-e/Zt)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(r==0?(m.length=f,s=1,f--):(m.length=f+1,s=yu(10,Zt-r),m[f]=i>0?(d/yu(10,a-i)%yu(10,i)|0)*s:0),u)for(;;)if(f==0){(m[0]+=s)==pr&&(m[0]=1,++t.e);break}else{if(m[f]+=s,m[f]!=pr)break;m[f--]=0,s=1}for(r=m.length;m[--r]===0;)m.pop();if(cn&&(t.e>nx||t.e<-nx))throw Error(pI+Wn(t));return t}function iW(t,e){var n,r,i,s,a,l,u,d,f,m,y=t.constructor,v=y.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new y(t),cn?Ht(e,v):e;if(u=t.d,m=e.d,r=e.e,d=t.e,u=u.slice(),a=d-r,a){for(f=a<0,f?(n=u,a=-a,l=m.length):(n=m,r=d,l=u.length),i=Math.max(Math.ceil(v/Zt),l)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=u.length,l=m.length,f=i<l,f&&(l=i),i=0;i<l;i++)if(u[i]!=m[i]){f=u[i]<m[i];break}a=0}for(f&&(n=u,u=m,m=n,e.s=-e.s),l=u.length,i=m.length-l;i>0;--i)u[l++]=0;for(i=m.length;i>a;){if(u[--i]<m[i]){for(s=i;s&&u[--s]===0;)u[s]=pr-1;--u[s],u[i]+=pr}u[i]-=m[i]}for(;u[--l]===0;)u.pop();for(;u[0]===0;u.shift())--r;return u[0]?(e.d=u,e.e=r,cn?Ht(e,v):e):new y(0)}function Qu(t,e,n){var r,i=Wn(t),s=Ra(t.d),a=s.length;return e?(n&&(r=n-a)>0?s=s.charAt(0)+"."+s.slice(1)+Ul(r):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Ul(-i-1)+s,n&&(r=n-a)>0&&(s+=Ul(r))):i>=a?(s+=Ul(i+1-a),n&&(r=n-i-1)>0&&(s=s+"."+Ul(r))):((r=i+1)<a&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(s+="."),s+=Ul(r))),t.s<0?"-"+s:s}function mV(t,e){if(t.length>e)return t.length=e,!0}function sW(t){var e,n,r;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Du+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return hV(a,s.toString())}else if(typeof s!="string")throw Error(Du+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,bAe.test(s))hV(a,s);else throw Error(Du+s)}if(i.prototype=Ce,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=sW,i.config=i.set=xAe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function xAe(t){if(!t||typeof t!="object")throw Error(As+"Object expected");var e,n,r,i=["precision",1,gh,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(yh(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Du+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Du+n+": "+r);return this}var gI=sW(vAe);qi=new gI(1);const Mt=gI;var wAe=t=>t,aW={},oW=t=>t===aW,pV=t=>function e(){return arguments.length===0||arguments.length===1&&oW(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},lW=(t,e)=>t===1?e:pV(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var s=r.filter(a=>a!==aW).length;return s>=t?e(...r):lW(t-s,pV(function(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];var d=r.map(f=>oW(f)?l.shift():f);return e(...d,...l)}))}),_Ae=t=>lW(t.length,t),jN=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},EAe=_Ae((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),SAe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return wAe;var i=n.reverse(),s=i[0],a=i.slice(1);return function(){return a.reduce((l,u)=>u(l),s(...arguments))}},RN=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join("");function cW(t){var e;return t===0?e=1:e=Math.floor(new Mt(t).abs().log(10).toNumber())+1,e}function uW(t,e,n){for(var r=new Mt(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var dW=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},fW=(t,e,n)=>{if(t.lte(0))return new Mt(0);var r=cW(t.toNumber()),i=new Mt(10).pow(r),s=t.div(i),a=r!==1?.05:.1,l=new Mt(Math.ceil(s.div(a).toNumber())).add(n).mul(a),u=l.mul(i);return e?new Mt(u.toNumber()):new Mt(Math.ceil(u.toNumber()))},TAe=(t,e,n)=>{var r=new Mt(1),i=new Mt(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new Mt(10).pow(cW(t)-1),i=new Mt(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new Mt(Math.floor(t)))}else t===0?i=new Mt(Math.floor((e-1)/2)):n||(i=new Mt(Math.floor(t)));var a=Math.floor((e-1)/2),l=SAe(EAe(u=>i.add(new Mt(u-a).mul(r)).toNumber()),jN);return l(0,e)},hW=function(e,n,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new Mt(0),tickMin:new Mt(0),tickMax:new Mt(0)};var a=fW(new Mt(n).sub(e).div(r-1),i,s),l;e<=0&&n>=0?l=new Mt(0):(l=new Mt(e).add(n).div(2),l=l.sub(new Mt(l).mod(a)));var u=Math.ceil(l.sub(e).div(a).toNumber()),d=Math.ceil(new Mt(n).sub(l).div(a).toNumber()),f=u+d+1;return f>r?hW(e,n,r,i,s+1):(f<r&&(d=n>0?d+(r-f):d,u=n>0?u:u+(r-f)),{step:a,tickMin:l.sub(new Mt(u).mul(a)),tickMax:l.add(new Mt(d).mul(a))})},AAe=function(e){var[n,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),[l,u]=dW([n,r]);if(l===-1/0||u===1/0){var d=u===1/0?[l,...jN(0,i-1).map(()=>1/0)]:[...jN(0,i-1).map(()=>-1/0),u];return n>r?RN(d):d}if(l===u)return TAe(l,i,s);var{step:f,tickMin:m,tickMax:y}=hW(l,u,a,s,0),v=uW(m,y.add(new Mt(.1).mul(f)),f);return n>r?RN(v):v},NAe=function(e,n){var[r,i]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,l]=dW([r,i]);if(a===-1/0||l===1/0)return[r,i];if(a===l)return[a];var u=Math.max(n,2),d=fW(new Mt(l).sub(a).div(u-1),s,0),f=[...uW(new Mt(a),new Mt(l),d),l];return s===!1&&(f=f.map(m=>Math.round(m))),r>i?RN(f):f},mW=t=>t.rootProps.maxBarSize,CAe=t=>t.rootProps.barGap,pW=t=>t.rootProps.barCategoryGap,PAe=t=>t.rootProps.barSize,zw=t=>t.rootProps.stackOffset,gW=t=>t.rootProps.reverseStackOrder,yI=t=>t.options.chartName,vI=t=>t.rootProps.syncId,yW=t=>t.rootProps.syncMethod,bI=t=>t.options.eventEmitter,yr={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Eo={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Fi={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Bw=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},IAe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Eo.angleAxisId,includeHidden:!1,name:void 0,reversed:Eo.reversed,scale:Eo.scale,tick:Eo.tick,tickCount:void 0,ticks:void 0,type:Eo.type,unit:void 0},OAe={allowDataOverflow:Fi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Fi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Fi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Fi.scale,tick:Fi.tick,tickCount:Fi.tickCount,ticks:void 0,type:Fi.type,unit:void 0},jAe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Eo.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Eo.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Eo.scale,tick:Eo.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},RAe={allowDataOverflow:Fi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Fi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Fi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Fi.scale,tick:Fi.tick,tickCount:Fi.tickCount,ticks:void 0,type:"category",unit:void 0},xI=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?jAe:IAe,wI=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?RAe:OAe,Fw=t=>t.polarOptions,_I=oe([Jo,el,wr],NEe),vW=oe([Fw,_I],(t,e)=>{if(t!=null)return ia(t.innerRadius,e,0)}),bW=oe([Fw,_I],(t,e)=>{if(t!=null)return ia(t.outerRadius,e,e*.8)}),kAe=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},xW=oe([Fw],kAe);oe([xI,xW],Bw);var wW=oe([_I,vW,bW],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});oe([wI,wW],Bw);var _W=oe([Tt,Fw,vW,bW,Jo,el],(t,e,n,r,i,s)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:a,cy:l,startAngle:u,endAngle:d}=e;return{cx:ia(a,i,i/2),cy:ia(l,s,s/2),innerRadius:n,outerRadius:r,startAngle:u,endAngle:d,clockWise:!1}}}),rr=(t,e)=>e,$w=(t,e,n)=>n;function EI(t){return t?.id}function EW(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:s}=n,a=new Map;return t.forEach(l=>{var u,d=(u=l.data)!==null&&u!==void 0?u:r;if(!(d==null||d.length===0)){var f=EI(l);d.forEach((m,y)=>{var v=s==null||i?y:String(tr(m,s,null)),_=tr(m,l.dataKey,0),E;a.has(v)?E=a.get(v):E={},Object.assign(E,{[f]:_}),a.set(v,E)})}}),Array.from(a.values())}function qw(t){return t.stackId!=null&&t.dataKey!=null}var Hw=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function Ww(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function MAe(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var ir=t=>{var e=Tt(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},vh=t=>t.tooltip.settings.axisId;function gV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gV(Object(n),!0).forEach(function(r){DAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DAe(t,e,n){return(e=LAe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LAe(t){var e=VAe(t,"string");return typeof e=="symbol"?e:e+""}function VAe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kN=[0,"auto"],fr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},SW=(t,e)=>t.cartesianAxis.xAxis[e],nl=(t,e)=>{var n=SW(t,e);return n??fr},hr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:kN,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:jg},TW=(t,e)=>t.cartesianAxis.yAxis[e],rl=(t,e)=>{var n=TW(t,e);return n??hr},UAe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},SI=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??UAe},di=(t,e,n)=>{switch(e){case"xAxis":return nl(t,n);case"yAxis":return rl(t,n);case"zAxis":return SI(t,n);case"angleAxis":return xI(t,n);case"radiusAxis":return wI(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},zAe=(t,e,n)=>{switch(e){case"xAxis":return nl(t,n);case"yAxis":return rl(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},zg=(t,e,n)=>{switch(e){case"xAxis":return nl(t,n);case"yAxis":return rl(t,n);case"angleAxis":return xI(t,n);case"radiusAxis":return wI(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},AW=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function NW(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var Kw=t=>t.graphicalItems.cartesianItems,BAe=oe([rr,$w],NW),CW=(t,e,n)=>t.filter(n).filter(r=>e?.includeHidden===!0?!0:!r.hide),Bg=oe([Kw,di,BAe],CW,{memoizeOptions:{resultEqualityCheck:Ww}}),PW=oe([Bg],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(qw)),IW=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),FAe=oe([Bg],IW),OW=t=>t.map(e=>e.data).filter(Boolean).flat(1),$Ae=oe([Bg],OW,{memoizeOptions:{resultEqualityCheck:Ww}}),jW=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},TI=oe([$Ae,Uw],jW),RW=(t,e,n)=>e?.dataKey!=null?t.map(r=>({value:tr(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:tr(i,r)}))):t.map(r=>({value:r})),Gw=oe([TI,di,Bg],RW);function kW(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Ov(t){if(qa(t)||t instanceof Date){var e=Number(t);if(On(e))return e}}function yV(t){if(Array.isArray(t)){var e=[Ov(t[0]),Ov(t[1])];return bc(e)?e:void 0}var n=Ov(t);if(n!=null)return[n,n]}function Xo(t){return t.map(Ov).filter(Ibe)}function qAe(t,e,n){return!n||typeof e!="number"||ra(e)?[]:n.length?Xo(n.flatMap(r=>{var i=tr(t,r.dataKey),s,a;if(Array.isArray(i)?[s,a]=i:s=a=i,!(!On(s)||!On(a)))return[e-s,e+a]})):[]}var sr=t=>{var e=ir(t),n=vh(t);return zg(t,e,n)},Fg=oe([sr],t=>t?.dataKey),HAe=oe([PW,Uw,sr],EW),MW=(t,e,n,r)=>{var i={},s=e.reduce((a,l)=>(l.stackId==null||(a[l.stackId]==null&&(a[l.stackId]=[]),a[l.stackId].push(l)),a),i);return Object.fromEntries(Object.entries(s).map(a=>{var[l,u]=a,d=r?[...u].reverse():u,f=d.map(EI);return[l,{stackedData:r_e(t,f,n),graphicalItems:d}]}))},MN=oe([HAe,PW,zw,gW],MW),DW=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:s}=e;if(r==null&&n!=="zAxis"){var a=l_e(t,i,s);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},WAe=oe([di],t=>t.allowDataOverflow),AI=t=>{var e;if(t==null||!("domain"in t))return kN;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=Xo(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:kN},LW=oe([di],AI),VW=oe([LW,WAe],eW),KAe=oe([MN,Rc,rr,VW],DW,{memoizeOptions:{resultEqualityCheck:Hw}}),NI=t=>t.errorBars,GAe=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>kW(n,r)),ix=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var s=i.flat(),a=Math.min(...s),l=Math.max(...s);return[a,l]}},UW=(t,e,n,r,i)=>{var s,a;if(n.length>0&&t.forEach(l=>{n.forEach(u=>{var d,f,m=(d=r[u.id])===null||d===void 0?void 0:d.filter(A=>kW(i,A)),y=tr(l,(f=e.dataKey)!==null&&f!==void 0?f:u.dataKey),v=qAe(l,y,m);if(v.length>=2){var _=Math.min(...v),E=Math.max(...v);(s==null||_<s)&&(s=_),(a==null||E>a)&&(a=E)}var w=yV(y);w!=null&&(s=s==null?w[0]:Math.min(s,w[0]),a=a==null?w[1]:Math.max(a,w[1]))})}),e?.dataKey!=null&&t.forEach(l=>{var u=yV(tr(l,e.dataKey));u!=null&&(s=s==null?u[0]:Math.min(s,u[0]),a=a==null?u[1]:Math.max(a,u[1]))}),On(s)&&On(a))return[s,a]},YAe=oe([TI,di,FAe,NI,rr],UW,{memoizeOptions:{resultEqualityCheck:Hw}});function XAe(t){var{value:e}=t;if(qa(e)||e instanceof Date)return e}var QAe=(t,e,n)=>{var r=t.map(XAe).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&Z7(r))?bH(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},zW=t=>t.referenceElements.dots,bh=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),ZAe=oe([zW,rr,$w],bh),BW=t=>t.referenceElements.areas,JAe=oe([BW,rr,$w],bh),FW=t=>t.referenceElements.lines,eNe=oe([FW,rr,$w],bh),$W=(t,e)=>{var n=Xo(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},tNe=oe(ZAe,rr,$W),qW=(t,e)=>{var n=Xo(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},nNe=oe([JAe,rr],qW);function rNe(t){var e;if(t.x!=null)return Xo([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:Xo(n)}function iNe(t){var e;if(t.y!=null)return Xo([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:Xo(n)}var HW=(t,e)=>{var n=t.flatMap(r=>e==="xAxis"?rNe(r):iNe(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},sNe=oe([eNe,rr],HW),aNe=oe(tNe,sNe,nNe,(t,e,n)=>ix(t,n,e)),WW=(t,e,n,r,i,s,a,l)=>{if(n!=null)return n;var u=a==="vertical"&&l==="xAxis"||a==="horizontal"&&l==="yAxis",d=u?ix(r,s,i):ix(s,i);return yAe(e,d,t.allowDataOverflow)},oNe=oe([di,LW,VW,KAe,YAe,aNe,Tt,rr],WW,{memoizeOptions:{resultEqualityCheck:Hw}}),lNe=[0,1],KW=(t,e,n,r,i,s,a)=>{if(!((t==null||n==null||n.length===0)&&a===void 0)){var{dataKey:l,type:u}=t,d=Ic(e,s);if(d&&l==null){var f;return bH(0,(f=n?.length)!==null&&f!==void 0?f:0)}return u==="category"?QAe(r,t,d):i==="expand"?lNe:a}},CI=oe([di,Tt,TI,Gw,zw,rr,oNe],KW),GW=(t,e,n,r,i)=>{if(t!=null){var{scale:s,type:a}=t;if(s==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":a==="category"?"band":"linear";if(typeof s=="string"){var l="scale".concat(Ng(s));return l in Qm?l:"point"}}},$g=oe([di,Tt,AW,yI,rr],GW);function cNe(t){if(t!=null){if(t in Qm)return Qm[t]();var e="scale".concat(Ng(t));if(e in Qm)return Qm[e]()}}function PI(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=cNe(e);if(i!=null){var s=i.domain(n).range(r);return Zwe(s),s}}}var YW=(t,e,n)=>{var r=AI(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&bc(t))return AAe(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&bc(t))return NAe(t,e.tickCount,e.allowDecimals)}},II=oe([CI,zg,$g],YW),XW=(t,e,n,r)=>{if(r!=="angleAxis"&&t?.type==="number"&&bc(e)&&Array.isArray(n)&&n.length>0){var i=e[0],s=n[0],a=e[1],l=n[n.length-1];return[Math.min(i,s),Math.max(a,l)]}return e},uNe=oe([di,CI,II,rr],XW),dNe=oe(Gw,di,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Xo(t.map(l=>l.value))).sort((l,u)=>l-u);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var s=0;s<r.length-1;s++){var a=r[s+1]-r[s];n=Math.min(n,a)}return n/i}}),QW=oe(dNe,Tt,pW,wr,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!On(t))return 0;var s=e==="vertical"?r.height:r.width;if(i==="gap")return t*s/2;if(i==="no-gap"){var a=ia(n,t*s),l=t*s/2;return l-a-(l-a)/s*a}return 0}),fNe=(t,e)=>{var n=nl(t,e);return n==null||typeof n.padding!="string"?0:QW(t,"xAxis",e,n.padding)},hNe=(t,e)=>{var n=rl(t,e);return n==null||typeof n.padding!="string"?0:QW(t,"yAxis",e,n.padding)},mNe=oe(nl,fNe,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),pNe=oe(rl,hNe,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),gNe=oe([wr,mNe,Tw,Sw,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:s}=r;return i?[s.left,n.width-s.right]:[t.left+e.left,t.left+t.width-e.right]}),yNe=oe([wr,Tt,pNe,Tw,Sw,(t,e,n)=>n],(t,e,n,r,i,s)=>{var{padding:a}=i;return s?[r.height-a.bottom,a.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),qg=(t,e,n,r)=>{var i;switch(e){case"xAxis":return gNe(t,n,r);case"yAxis":return yNe(t,n,r);case"zAxis":return(i=SI(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return xW(t);case"radiusAxis":return wW(t,n);default:return}},ZW=oe([di,qg],Bw),xh=oe([di,$g,uNe,ZW],PI);oe([Bg,NI,rr],GAe);function JW(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var Yw=(t,e)=>e,Xw=(t,e,n)=>n,vNe=oe(_w,Yw,Xw,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(JW)),bNe=oe(Ew,Yw,Xw,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(JW)),eK=(t,e)=>({width:t.width,height:e.height}),xNe=(t,e)=>{var n=typeof e.width=="number"?e.width:jg;return{width:n,height:t.height}},tK=oe(wr,nl,eK),wNe=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},_Ne=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},ENe=oe(el,wr,vNe,Yw,Xw,(t,e,n,r,i)=>{var s={},a;return n.forEach(l=>{var u=eK(e,l);a==null&&(a=wNe(e,r,t));var d=r==="top"&&!i||r==="bottom"&&i;s[l.id]=a-Number(d)*u.height,a+=(d?-1:1)*u.height}),s}),SNe=oe(Jo,wr,bNe,Yw,Xw,(t,e,n,r,i)=>{var s={},a;return n.forEach(l=>{var u=xNe(e,l);a==null&&(a=_Ne(e,r,t));var d=r==="left"&&!i||r==="right"&&i;s[l.id]=a-Number(d)*u.width,a+=(d?-1:1)*u.width}),s}),TNe=(t,e)=>{var n=nl(t,e);if(n!=null)return ENe(t,n.orientation,n.mirror)},ANe=oe([wr,nl,TNe,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),NNe=(t,e)=>{var n=rl(t,e);if(n!=null)return SNe(t,n.orientation,n.mirror)},CNe=oe([wr,rl,NNe,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),nK=oe(wr,rl,(t,e)=>{var n=typeof e.width=="number"?e.width:jg;return{width:n,height:t.height}}),vV=(t,e,n)=>{switch(e){case"xAxis":return tK(t,n).width;case"yAxis":return nK(t,n).height;default:return}},rK=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:s,dataKey:a}=n,l=Ic(t,r),u=e.map(d=>d.value);if(a&&l&&s==="category"&&i&&Z7(u))return u}},OI=oe([Tt,Gw,di,rr],rK),iK=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:s}=n,a=Ic(t,r);if(a&&(i==="number"||s!=="auto"))return e.map(l=>l.value)}},jI=oe([Tt,Gw,zg,rr],iK),bV=oe([Tt,zAe,$g,xh,OI,jI,qg,II,rr],(t,e,n,r,i,s,a,l,u)=>{if(e!=null){var d=Ic(t,u);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:u,categoricalDomain:s,duplicateDomain:i,isCategorical:d,niceTicks:l,range:a,realScaleType:n,scale:r}}}),PNe=(t,e,n,r,i,s,a,l,u)=>{if(!(e==null||r==null)){var d=Ic(t,u),{type:f,ticks:m,tickCount:y}=e,v=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,_=f==="category"&&r.bandwidth?r.bandwidth()/v:0;_=u==="angleAxis"&&s!=null&&s.length>=2?Ni(s[0]-s[1])*2*_:_;var E=m||i;if(E){var w=E.map((A,C)=>{var P=a?a.indexOf(A):A;return{index:C,coordinate:r(P)+_,value:A,offset:_}});return w.filter(A=>On(A.coordinate))}return d&&l?l.map((A,C)=>({coordinate:r(A)+_,value:A,index:C,offset:_})).filter(A=>On(A.coordinate)):r.ticks?r.ticks(y).map(A=>({coordinate:r(A)+_,value:A,offset:_})):r.domain().map((A,C)=>({coordinate:r(A)+_,value:a?a[A]:A,index:C,offset:_}))}},sK=oe([Tt,zg,$g,xh,II,qg,OI,jI,rr],PNe),INe=(t,e,n,r,i,s,a)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var l=Ic(t,a),{tickCount:u}=e,d=0;return d=a==="angleAxis"&&r?.length>=2?Ni(r[0]-r[1])*2*d:d,l&&s?s.map((f,m)=>({coordinate:n(f)+d,value:f,index:m,offset:d})):n.ticks?n.ticks(u).map(f=>({coordinate:n(f)+d,value:f,offset:d})):n.domain().map((f,m)=>({coordinate:n(f)+d,value:i?i[f]:f,index:m,offset:d}))}},xc=oe([Tt,zg,xh,qg,OI,jI,rr],INe),wc=oe(di,xh,(t,e)=>{if(!(t==null||e==null))return rx(rx({},t),{},{scale:e})}),ONe=oe([di,$g,CI,ZW],PI);oe((t,e,n)=>SI(t,n),ONe,(t,e)=>{if(!(t==null||e==null))return rx(rx({},t),{},{scale:e})});var jNe=oe([Tt,_w,Ew],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),aK=t=>t.options.defaultTooltipEventType,oK=t=>t.options.validateTooltipEventTypes;function lK(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function RI(t,e){var n=aK(t),r=oK(t);return lK(e,n,r)}function RNe(t){return Re(e=>RI(e,t))}var cK=(t,e)=>{var n,r=Number(e);if(!(ra(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},kNe=t=>t.tooltip.settings,Kl={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},MNe={itemInteraction:{click:Kl,hover:Kl},axisInteraction:{click:Kl,hover:Kl},keyboardInteraction:Kl,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},uK=Ii({name:"tooltip",initialState:MNe,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:an()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Zs(t).tooltipItemPayloads.indexOf(n);i>-1&&(t.tooltipItemPayloads[i]=r)},prepare:an()},removeTooltipEntrySettings:{reducer(t,e){var n=Zs(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:an()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:DNe,replaceTooltipEntrySettings:LNe,removeTooltipEntrySettings:VNe,setTooltipSettingsState:UNe,setActiveMouseOverItemIndex:dK,mouseLeaveItem:zNe,mouseLeaveChart:fK,setActiveClickItemIndex:BNe,setMouseOverAxisIndex:hK,setMouseClickAxisIndex:FNe,setSyncInteraction:DN,setKeyboardInteraction:LN}=uK.actions,$Ne=uK.reducer;function xV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xV(Object(n),!0).forEach(function(r){qNe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qNe(t,e,n){return(e=HNe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HNe(t){var e=WNe(t,"string");return typeof e=="symbol"?e:e+""}function WNe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function KNe(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function GNe(t){return t.index!=null}var mK=(t,e,n,r)=>{if(e==null)return Kl;var i=KNe(t,e,n);if(i==null)return Kl;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var s=t.settings.active===!0;if(GNe(i)){if(s)return sv(sv({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return sv(sv({},Kl),{},{coordinate:i.coordinate})};function YNe(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function XNe(t,e){var n=YNe(t),r=e[0],i=e[1];if(n===void 0)return!1;var s=Math.min(r,i),a=Math.max(r,i);return n>=s&&n<=a}function QNe(t,e,n){if(n==null||e==null)return!0;var r=tr(t,e);return r==null||!bc(n)?!0:XNe(r,n)}var kI=(t,e,n,r)=>{var i=t?.index;if(i==null)return null;var s=Number(i);if(!On(s))return i;var a=0,l=1/0;e.length>0&&(l=e.length-1);var u=Math.max(a,Math.min(s,l)),d=e[u];return d==null||QNe(d,n,r)?String(u):null},pK=(t,e,n,r,i,s,a,l)=>{if(!(s==null||l==null)){var u=a[0],d=u==null?void 0:l(u.positions,s);if(d!=null)return d;var f=i?.[Number(s)];if(f)switch(n){case"horizontal":return{x:f.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:f.coordinate}}}},gK=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(s=>{var a;return((a=s.settings)===null||a===void 0?void 0:a.dataKey)===i})},Hg=t=>t.options.tooltipPayloadSearcher,wh=t=>t.tooltip;function wV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _V(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wV(Object(n),!0).forEach(function(r){ZNe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZNe(t,e,n){return(e=JNe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JNe(t){var e=eCe(t,"string");return typeof e=="symbol"?e:e+""}function eCe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tCe(t,e){return t??e}var yK=(t,e,n,r,i,s,a)=>{if(!(e==null||s==null)){var{chartData:l,computedData:u,dataStartIndex:d,dataEndIndex:f}=n,m=[];return t.reduce((y,v)=>{var _,{dataDefinedOnItem:E,settings:w}=v,A=tCe(E,l),C=Array.isArray(A)?Wq(A,d,f):A,P=(_=w?.dataKey)!==null&&_!==void 0?_:r,L=w?.nameKey,M;if(r&&Array.isArray(C)&&!Array.isArray(C[0])&&a==="axis"?M=J7(C,r,i):M=s(C,e,u,L),Array.isArray(M))M.forEach(j=>{var R=_V(_V({},w),{},{name:j.name,unit:j.unit,color:void 0,fill:void 0});y.push(F3({tooltipEntrySettings:R,dataKey:j.dataKey,payload:j.payload,value:tr(j.payload,j.dataKey),name:j.name}))});else{var z;y.push(F3({tooltipEntrySettings:w,dataKey:P,payload:M,value:tr(M,P),name:(z=tr(M,L))!==null&&z!==void 0?z:w?.name}))}return y},m)}},MI=oe([sr,Tt,AW,yI,ir],GW),nCe=oe([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),rCe=oe([ir,vh],NW),Wg=oe([nCe,sr,rCe],CW,{memoizeOptions:{resultEqualityCheck:Ww}}),iCe=oe([Wg],t=>t.filter(qw)),sCe=oe([Wg],OW,{memoizeOptions:{resultEqualityCheck:Ww}}),_h=oe([sCe,Rc],jW),aCe=oe([iCe,Rc,sr],EW),DI=oe([_h,sr,Wg],RW),vK=oe([sr],AI),oCe=oe([sr],t=>t.allowDataOverflow),bK=oe([vK,oCe],eW),lCe=oe([Wg],t=>t.filter(qw)),cCe=oe([aCe,lCe,zw,gW],MW),uCe=oe([cCe,Rc,ir,bK],DW),dCe=oe([Wg],IW),fCe=oe([_h,sr,dCe,NI,ir],UW,{memoizeOptions:{resultEqualityCheck:Hw}}),hCe=oe([zW,ir,vh],bh),mCe=oe([hCe,ir],$W),pCe=oe([BW,ir,vh],bh),gCe=oe([pCe,ir],qW),yCe=oe([FW,ir,vh],bh),vCe=oe([yCe,ir],HW),bCe=oe([mCe,vCe,gCe],ix),xCe=oe([sr,vK,bK,uCe,fCe,bCe,Tt,ir],WW),Kg=oe([sr,Tt,_h,DI,zw,ir,xCe],KW),wCe=oe([Kg,sr,MI],YW),_Ce=oe([sr,Kg,wCe,ir],XW),xK=t=>{var e=ir(t),n=vh(t),r=!1;return qg(t,e,n,r)},wK=oe([sr,xK],Bw),_K=oe([sr,MI,_Ce,wK],PI),ECe=oe([Tt,DI,sr,ir],rK),SCe=oe([Tt,DI,sr,ir],iK),TCe=(t,e,n,r,i,s,a,l)=>{if(e){var{type:u}=e,d=Ic(t,l);if(r){var f=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,m=u==="category"&&r.bandwidth?r.bandwidth()/f:0;return m=l==="angleAxis"&&i!=null&&i?.length>=2?Ni(i[0]-i[1])*2*m:m,d&&a?a.map((y,v)=>({coordinate:r(y)+m,value:y,index:v,offset:m})):r.domain().map((y,v)=>({coordinate:r(y)+m,value:s?s[y]:y,index:v,offset:m}))}}},il=oe([Tt,sr,MI,_K,xK,ECe,SCe,ir],TCe),LI=oe([aK,oK,kNe],(t,e,n)=>lK(n.shared,t,e)),EK=t=>t.tooltip.settings.trigger,VI=t=>t.tooltip.settings.defaultIndex,Gg=oe([wh,LI,EK,VI],mK),Zu=oe([Gg,_h,Fg,Kg],kI),SK=oe([il,Zu],cK),TK=oe([Gg],t=>{if(t)return t.dataKey});oe([Gg],t=>{if(t)return t.graphicalItemId});var AK=oe([wh,LI,EK,VI],gK),ACe=oe([Jo,el,Tt,wr,il,VI,AK,Hg],pK),NCe=oe([Gg,ACe],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),CCe=oe([Gg],t=>t.active),PCe=oe([AK,Zu,Rc,Fg,SK,Hg,LI],yK),ICe=oe([PCe],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function EV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function SV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EV(Object(n),!0).forEach(function(r){OCe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function OCe(t,e,n){return(e=jCe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jCe(t){var e=RCe(t,"string");return typeof e=="symbol"?e:e+""}function RCe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kCe=()=>Re(sr),MCe=()=>{var t=kCe(),e=Re(il),n=Re(_K);return qf(!t||!n?void 0:SV(SV({},t),{},{scale:n}),e)};function TV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TV(Object(n),!0).forEach(function(r){DCe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DCe(t,e,n){return(e=LCe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LCe(t){var e=VCe(t,"string");return typeof e=="symbol"?e:e+""}function VCe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var UCe=(t,e,n,r)=>{var i=e.find(s=>s&&s.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},zCe=(t,e,n,r)=>{var i=e.find(d=>d&&d.index===n);if(i){if(t==="centric"){var s=i.coordinate,{radius:a}=r;return Zd(Zd(Zd({},r),kr(r.cx,r.cy,a,s)),{},{angle:s,radius:a})}var l=i.coordinate,{angle:u}=r;return Zd(Zd(Zd({},r),kr(r.cx,r.cy,l,u)),{},{angle:u,radius:l})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function BCe(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var NK=(t,e,n,r,i)=>{var s,a=-1,l=(s=e?.length)!==null&&s!==void 0?s:0;if(l<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var u=0;u<l;u++){var d=u>0?n[u-1].coordinate:n[l-1].coordinate,f=n[u].coordinate,m=u>=l-1?n[0].coordinate:n[u+1].coordinate,y=void 0;if(Ni(f-d)!==Ni(m-f)){var v=[];if(Ni(m-f)===Ni(i[1]-i[0])){y=m;var _=f+i[1]-i[0];v[0]=Math.min(_,(_+d)/2),v[1]=Math.max(_,(_+d)/2)}else{y=d;var E=m+i[1]-i[0];v[0]=Math.min(f,(E+f)/2),v[1]=Math.max(f,(E+f)/2)}var w=[Math.min(f,(y+f)/2),Math.max(f,(y+f)/2)];if(t>w[0]&&t<=w[1]||t>=v[0]&&t<=v[1]){({index:a}=n[u]);break}}else{var A=Math.min(d,m),C=Math.max(d,m);if(t>(A+f)/2&&t<=(C+f)/2){({index:a}=n[u]);break}}}else if(e){for(var P=0;P<l;P++)if(P===0&&t<=(e[P].coordinate+e[P+1].coordinate)/2||P>0&&P<l-1&&t>(e[P].coordinate+e[P-1].coordinate)/2&&t<=(e[P].coordinate+e[P+1].coordinate)/2||P===l-1&&t>(e[P].coordinate+e[P-1].coordinate)/2){({index:a}=e[P]);break}}return a},FCe=()=>Re(yI),UI=(t,e)=>e,CK=(t,e,n)=>n,zI=(t,e,n,r)=>r,$Ce=oe(il,t=>fw(t,e=>e.coordinate)),BI=oe([wh,UI,CK,zI],mK),FI=oe([BI,_h,Fg,Kg],kI),qCe=(t,e,n)=>{if(e!=null){var r=wh(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},PK=oe([wh,UI,CK,zI],gK),sx=oe([Jo,el,Tt,wr,il,zI,PK,Hg],pK),HCe=oe([BI,sx],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),IK=oe([il,FI],cK),WCe=oe([PK,FI,Rc,Fg,IK,Hg,UI],yK),KCe=oe([BI,FI],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),GCe=(t,e,n,r,i,s,a)=>{if(!(!t||!n||!r||!i)&&BCe(t,a)){var l=c_e(t,e),u=NK(l,s,i,n,r),d=UCe(e,i,u,t);return{activeIndex:String(u),activeCoordinate:d}}},YCe=(t,e,n,r,i,s,a)=>{if(!(!t||!r||!i||!s||!n)){var l=jEe(t,n);if(l){var u=u_e(l,e),d=NK(u,a,s,r,i),f=zCe(e,s,d,l);return{activeIndex:String(d),activeCoordinate:f}}}},XCe=(t,e,n,r,i,s,a,l)=>{if(!(!t||!e||!r||!i||!s))return e==="horizontal"||e==="vertical"?GCe(t,e,r,i,s,a,l):YCe(t,e,n,r,i,s,a)},QCe=oe(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElementId:r.elementId}}),ZCe=oe(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(yr)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:MAe}});function AV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function NV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AV(Object(n),!0).forEach(function(r){JCe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JCe(t,e,n){return(e=e2e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e2e(t){var e=t2e(t,"string");return typeof e=="symbol"?e:e+""}function t2e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var n2e={},r2e={zIndexMap:Object.values(yr).reduce((t,e)=>NV(NV({},t),{},{[e]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),n2e)},i2e=new Set(Object.values(yr));function s2e(t){return i2e.has(t)}var OK=Ii({name:"zIndex",initialState:r2e,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:an()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!s2e(n)&&delete t.zIndexMap[n])},prepare:an()},registerZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n,elementId:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElementId=r:t.zIndexMap[n].elementId=r:t.zIndexMap[n]={consumers:0,elementId:i?void 0:r,panoramaElementId:i?r:void 0}},prepare:an()},unregisterZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElementId=void 0:t.zIndexMap[n].elementId=void 0)},prepare:an()}}}),{registerZIndexPortal:a2e,unregisterZIndexPortal:o2e,registerZIndexPortalId:l2e,unregisterZIndexPortalId:c2e}=OK.actions,u2e=OK.reducer;function Is(t){var{zIndex:e,children:n}=t,r=q_e(),i=r&&e!==void 0&&e!==0,s=Yr(),a=gn();T.useLayoutEffect(()=>i?(a(a2e({zIndex:e})),()=>{a(o2e({zIndex:e}))}):Cg,[a,e,i]);var l=Re(d=>QCe(d,e,s));if(!i)return n;if(!l)return null;var u=document.getElementById(l);return u?iC.createPortal(n,u):null}function VN(){return VN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},VN.apply(null,arguments)}function CV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function av(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CV(Object(n),!0).forEach(function(r){d2e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function d2e(t,e,n){return(e=f2e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f2e(t){var e=h2e(t,"string");return typeof e=="symbol"?e:e+""}function h2e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function m2e(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return T.isValidElement(e)?T.cloneElement(e,r):T.createElement(n,r)}function p2e(t){var e,{coordinate:n,payload:r,index:i,offset:s,tooltipAxisBandSize:a,layout:l,cursor:u,tooltipEventType:d,chartName:f}=t,m=n,y=r,v=i;if(!u||!m||f!=="ScatterChart"&&d!=="axis")return null;var _,E,w;if(f==="ScatterChart")_=m,E=W1e,w=yr.cursorLine;else if(f==="BarChart")_=K1e(l,m,s,a),E=pH,w=yr.cursorRectangle;else if(l==="radial"&&tq(m)){var{cx:A,cy:C,radius:P,startAngle:L,endAngle:M}=gH(m);_={cx:A,cy:C,startAngle:L,endAngle:M,innerRadius:P,outerRadius:P},E=vH,w=yr.cursorLine}else _={points:DEe(l,m,s)},E=uH,w=yr.cursorLine;var z=typeof u=="object"&&"className"in u?u.className:void 0,j=av(av(av(av({stroke:"#ccc",pointerEvents:"none"},s),_),Ag(u)),{},{payload:y,payloadIndex:v,className:Lt("recharts-tooltip-cursor",z)});return T.createElement(Is,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:w},T.createElement(m2e,{cursor:u,cursorComp:E,cursorProps:j}))}function g2e(t){var e=MCe(),n=eH(),r=Rg(),i=FCe();return e==null||n==null||r==null||i==null?null:T.createElement(p2e,VN({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var jK=T.createContext(null),y2e=()=>T.useContext(jK),pT={exports:{}},PV;function v2e(){return PV||(PV=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(u,d,f){this.fn=u,this.context=d,this.once=f||!1}function s(u,d,f,m,y){if(typeof f!="function")throw new TypeError("The listener must be a function");var v=new i(f,m||u,y),_=n?n+d:d;return u._events[_]?u._events[_].fn?u._events[_]=[u._events[_],v]:u._events[_].push(v):(u._events[_]=v,u._eventsCount++),u}function a(u,d){--u._eventsCount===0?u._events=new r:delete u._events[d]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],f,m;if(this._eventsCount===0)return d;for(m in f=this._events)e.call(f,m)&&d.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(f)):d},l.prototype.listeners=function(d){var f=n?n+d:d,m=this._events[f];if(!m)return[];if(m.fn)return[m.fn];for(var y=0,v=m.length,_=new Array(v);y<v;y++)_[y]=m[y].fn;return _},l.prototype.listenerCount=function(d){var f=n?n+d:d,m=this._events[f];return m?m.fn?1:m.length:0},l.prototype.emit=function(d,f,m,y,v,_){var E=n?n+d:d;if(!this._events[E])return!1;var w=this._events[E],A=arguments.length,C,P;if(w.fn){switch(w.once&&this.removeListener(d,w.fn,void 0,!0),A){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,f),!0;case 3:return w.fn.call(w.context,f,m),!0;case 4:return w.fn.call(w.context,f,m,y),!0;case 5:return w.fn.call(w.context,f,m,y,v),!0;case 6:return w.fn.call(w.context,f,m,y,v,_),!0}for(P=1,C=new Array(A-1);P<A;P++)C[P-1]=arguments[P];w.fn.apply(w.context,C)}else{var L=w.length,M;for(P=0;P<L;P++)switch(w[P].once&&this.removeListener(d,w[P].fn,void 0,!0),A){case 1:w[P].fn.call(w[P].context);break;case 2:w[P].fn.call(w[P].context,f);break;case 3:w[P].fn.call(w[P].context,f,m);break;case 4:w[P].fn.call(w[P].context,f,m,y);break;default:if(!C)for(M=1,C=new Array(A-1);M<A;M++)C[M-1]=arguments[M];w[P].fn.apply(w[P].context,C)}}return!0},l.prototype.on=function(d,f,m){return s(this,d,f,m,!1)},l.prototype.once=function(d,f,m){return s(this,d,f,m,!0)},l.prototype.removeListener=function(d,f,m,y){var v=n?n+d:d;if(!this._events[v])return this;if(!f)return a(this,v),this;var _=this._events[v];if(_.fn)_.fn===f&&(!y||_.once)&&(!m||_.context===m)&&a(this,v);else{for(var E=0,w=[],A=_.length;E<A;E++)(_[E].fn!==f||y&&!_[E].once||m&&_[E].context!==m)&&w.push(_[E]);w.length?this._events[v]=w.length===1?w[0]:w:a(this,v)}return this},l.prototype.removeAllListeners=function(d){var f;return d?(f=n?n+d:d,this._events[f]&&a(this,f)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l})(pT)),pT.exports}var b2e=v2e();const x2e=Zo(b2e);var tg=new x2e,UN="recharts.syncEvent.tooltip",IV="recharts.syncEvent.brush";function w2e(t,e){if(e){var n=Number.parseInt(e,10);if(!ra(n))return t?.[n]}}var _2e={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},RK=Ii({name:"options",initialState:_2e,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),E2e=RK.reducer,{createEventEmitter:S2e}=RK.actions;function T2e(t){return t.tooltip.syncInteraction}var A2e={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},kK=Ii({name:"chartData",initialState:A2e,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:OV,setDataStartEndIndexes:N2e,setComputedData:DMe}=kK.actions,C2e=kK.reducer,P2e=["x","y"];function jV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jV(Object(n),!0).forEach(function(r){I2e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function I2e(t,e,n){return(e=O2e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function O2e(t){var e=j2e(t,"string");return typeof e=="symbol"?e:e+""}function j2e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function R2e(t,e){if(t==null)return{};var n,r,i=k2e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function k2e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function M2e(){var t=Re(vI),e=Re(bI),n=gn(),r=Re(yW),i=Re(il),s=Rg(),a=Aw(),l=Re(u=>u.rootProps.className);T.useEffect(()=>{if(t==null)return Cg;var u=(d,f,m)=>{if(e!==m&&t===d){if(r==="index"){var y;if(a&&f!==null&&f!==void 0&&(y=f.payload)!==null&&y!==void 0&&y.coordinate&&f.payload.sourceViewBox){var v=f.payload.coordinate,{x:_,y:E}=v,w=R2e(v,P2e),{x:A,y:C,width:P,height:L}=f.payload.sourceViewBox,M=Jd(Jd({},w),{},{x:a.x+(P?(_-A)/P:0)*a.width,y:a.y+(L?(E-C)/L:0)*a.height});n(Jd(Jd({},f),{},{payload:Jd(Jd({},f.payload),{},{coordinate:M})}))}else n(f);return}if(i!=null){var z;if(typeof r=="function"){var j={activeTooltipIndex:f.payload.index==null?void 0:Number(f.payload.index),isTooltipActive:f.payload.active,activeIndex:f.payload.index==null?void 0:Number(f.payload.index),activeLabel:f.payload.label,activeDataKey:f.payload.dataKey,activeCoordinate:f.payload.coordinate},R=r(i,j);z=i[R]}else r==="value"&&(z=i.find(X=>String(X.value)===f.payload.label));var{coordinate:D}=f.payload;if(z==null||f.payload.active===!1||D==null||a==null){n(DN({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:B,y:V}=D,$=Math.min(B,a.x+a.width),q=Math.min(V,a.y+a.height),xe={x:s==="horizontal"?z.coordinate:$,y:s==="horizontal"?q:z.coordinate},be=DN({active:f.payload.active,coordinate:xe,dataKey:f.payload.dataKey,index:String(z.index),label:f.payload.label,sourceViewBox:f.payload.sourceViewBox,graphicalItemId:f.payload.graphicalItemId});n(be)}}};return tg.on(UN,u),()=>{tg.off(UN,u)}},[l,n,e,t,r,i,s,a])}function D2e(){var t=Re(vI),e=Re(bI),n=gn();T.useEffect(()=>{if(t==null)return Cg;var r=(i,s,a)=>{e!==a&&t===i&&n(N2e(s))};return tg.on(IV,r),()=>{tg.off(IV,r)}},[n,e,t])}function L2e(){var t=gn();T.useEffect(()=>{t(S2e())},[t]),M2e(),D2e()}function V2e(t,e,n,r,i,s){var a=Re(v=>qCe(v,t,e)),l=Re(bI),u=Re(vI),d=Re(yW),f=Re(T2e),m=f?.active,y=Aw();T.useEffect(()=>{if(!m&&u!=null&&l!=null){var v=DN({active:s,coordinate:n,dataKey:a,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:y,graphicalItemId:void 0});tg.emit(UN,u,v,l)}},[m,n,a,i,r,l,u,d,s,y])}function RV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RV(Object(n),!0).forEach(function(r){U2e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function U2e(t,e,n){return(e=z2e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function z2e(t){var e=B2e(t,"string");return typeof e=="symbol"?e:e+""}function B2e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function F2e(t){return t.dataKey}function $2e(t,e){return T.isValidElement(t)?T.cloneElement(t,e):typeof t=="function"?T.createElement(t,e):T.createElement(T1e,e)}var MV=[],q2e={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function H2e(t){var e,n,r=Mr(t,q2e),{active:i,allowEscapeViewBox:s,animationDuration:a,animationEasing:l,content:u,filterNull:d,isAnimationActive:f,offset:m,payloadUniqBy:y,position:v,reverseDirection:_,useTranslate3d:E,wrapperStyle:w,cursor:A,shared:C,trigger:P,defaultIndex:L,portal:M,axisId:z}=r,j=gn(),R=typeof L=="number"?String(L):L;T.useEffect(()=>{j(UNe({shared:C,trigger:P,axisId:z,active:i,defaultIndex:R}))},[j,C,P,z,i,R]);var D=Aw(),B=cH(),V=RNe(C),{activeIndex:$,isActive:q}=(e=Re(de=>KCe(de,V,P,R)))!==null&&e!==void 0?e:{},xe=Re(de=>WCe(de,V,P,R)),be=Re(de=>IK(de,V,P,R)),X=Re(de=>HCe(de,V,P,R)),ee=xe,he=y2e(),Y=(n=i??q)!==null&&n!==void 0?n:!1,[H,k]=gq([ee,Y]),K=V==="axis"?be:void 0;V2e(V,P,X,K,$,Y);var re=M??he;if(re==null||D==null||V==null)return null;var ce=ee??MV;Y||(ce=MV),d&&ce.length&&(ce=dq(ce.filter(de=>de.value!=null&&(de.hide!==!0||r.includeHidden)),y,F2e));var se=ce.length>0,ye=T.createElement(j1e,{allowEscapeViewBox:s,animationDuration:a,animationEasing:l,isAnimationActive:f,active:Y,coordinate:X,hasPayload:se,offset:m,position:v,reverseDirection:_,useTranslate3d:E,viewBox:D,wrapperStyle:w,lastBoundingBox:H,innerRef:k,hasPortalFromProps:!!M},$2e(u,kV(kV({},r),{},{payload:ce,label:K,active:Y,activeIndex:$,coordinate:X,accessibilityLayer:B})));return T.createElement(T.Fragment,null,iC.createPortal(ye,re),Y&&T.createElement(g2e,{cursor:A,tooltipEventType:V,coordinate:X,payload:ce,index:$}))}var MK=t=>null;MK.displayName="Cell";function W2e(t,e,n){return(e=K2e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function K2e(t){var e=G2e(t,"string");return typeof e=="symbol"?e:e+""}function G2e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Y2e{constructor(e){W2e(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function DV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function X2e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DV(Object(n),!0).forEach(function(r){Q2e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Q2e(t,e,n){return(e=Z2e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Z2e(t){var e=J2e(t,"string");return typeof e=="symbol"?e:e+""}function J2e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ePe={cacheSize:2e3,enableCache:!0},DK=X2e({},ePe),LV=new Y2e(DK.cacheSize),tPe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},VV="recharts_measurement_span";function nPe(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",s=e.fontStyle||"",a=e.letterSpacing||"",l=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(s,"|").concat(a,"|").concat(l)}var UV=(t,e)=>{try{var n=document.getElementById(VV);n||(n=document.createElement("span"),n.setAttribute("id",VV),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,tPe,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},yp=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Mg.isSsr)return{width:0,height:0};if(!DK.enableCache)return UV(e,n);var r=nPe(e,n),i=LV.get(r);if(i)return i;var s=UV(e,n);return LV.set(r,s),s},zV=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,BV=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,rPe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,iPe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,LK={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},sPe=Object.keys(LK),gf="NaN";function aPe(t,e){return t*LK[e]}class wi{static parse(e){var n,[,r,i]=(n=iPe.exec(e))!==null&&n!==void 0?n:[];return new wi(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,ra(e)&&(this.unit=""),n!==""&&!rPe.test(n)&&(this.num=NaN,this.unit=""),sPe.includes(n)&&(this.num=aPe(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new wi(NaN,""):new wi(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new wi(NaN,""):new wi(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new wi(NaN,""):new wi(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new wi(NaN,""):new wi(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ra(this.num)}}function VK(t){if(t.includes(gf))return gf;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,s]=(n=zV.exec(e))!==null&&n!==void 0?n:[],a=wi.parse(r??""),l=wi.parse(s??""),u=i==="*"?a.multiply(l):a.divide(l);if(u.isNaN())return gf;e=e.replace(zV,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,[,f,m,y]=(d=BV.exec(e))!==null&&d!==void 0?d:[],v=wi.parse(f??""),_=wi.parse(y??""),E=m==="+"?v.add(_):v.subtract(_);if(E.isNaN())return gf;e=e.replace(BV,E.toString())}return e}var FV=/\(([^()]*)\)/;function oPe(t){for(var e=t,n;(n=FV.exec(e))!=null;){var[,r]=n;e=e.replace(FV,VK(r))}return e}function lPe(t){var e=t.replace(/\s+/g,"");return e=oPe(e),e=VK(e),e}function cPe(t){try{return lPe(t)}catch{return gf}}function gT(t){var e=cPe(t.slice(5,-1));return e===gf?"":e}var uPe=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],dPe=["dx","dy","angle","className","breakAll"];function zN(){return zN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zN.apply(null,arguments)}function $V(t,e){if(t==null)return{};var n,r,i=fPe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function fPe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var UK=/[ \f\n\r\t\v\u2028\u2029]+/,zK=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];dn(e)||(n?i=e.toString().split(""):i=e.toString().split(UK));var s=i.map(l=>({word:l,width:yp(l,r).width})),a=n?0:yp("",r).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}};function hPe(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var BK=(t,e,n,r)=>t.reduce((i,s)=>{var{word:a,width:l}=s,u=i[i.length-1];if(u&&l!=null&&(e==null||r||u.width+l+n<Number(e)))u.words.push(a),u.width+=l+n;else{var d={words:[a],width:l};i.push(d)}return i},[]),FK=t=>t.reduce((e,n)=>e.width>n.width?e:n),mPe="",qV=(t,e,n,r,i,s,a,l)=>{var u=t.slice(0,e),d=zK({breakAll:n,style:r,children:u+mPe});if(!d)return[!1,[]];var f=BK(d.wordsWithComputedWidth,s,a,l),m=f.length>i||FK(f).width>Number(s);return[m,f]},pPe=(t,e,n,r,i)=>{var{maxLines:s,children:a,style:l,breakAll:u}=t,d=je(s),f=String(a),m=BK(e,r,n,i);if(!d||i)return m;var y=m.length>s||FK(m).width>Number(r);if(!y)return m;for(var v=0,_=f.length-1,E=0,w;v<=_&&E<=f.length-1;){var A=Math.floor((v+_)/2),C=A-1,[P,L]=qV(f,C,u,l,s,r,n,i),[M]=qV(f,A,u,l,s,r,n,i);if(!P&&!M&&(v=A+1),P&&M&&(_=A-1),!P&&M){w=L;break}E++}return w||m},HV=t=>{var e=dn(t)?[]:t.toString().split(UK);return[{words:e,width:void 0}]},gPe=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:s,maxLines:a}=t;if((e||n)&&!Mg.isSsr){var l,u,d=zK({breakAll:s,children:r,style:i});if(d){var{wordsWithComputedWidth:f,spaceWidth:m}=d;l=f,u=m}else return HV(r);return pPe({breakAll:s,children:r,maxLines:a,style:i},l,u,e,!!n)}return HV(r)},$K="#808080",yPe={angle:0,breakAll:!1,capHeight:"0.71em",fill:$K,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},$I=T.forwardRef((t,e)=>{var n=Mr(t,yPe),{x:r,y:i,lineHeight:s,capHeight:a,fill:l,scaleToFit:u,textAnchor:d,verticalAnchor:f}=n,m=$V(n,uPe),y=T.useMemo(()=>gPe({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:u,style:m.style,width:m.width}),[m.breakAll,m.children,m.maxLines,u,m.style,m.width]),{dx:v,dy:_,angle:E,className:w,breakAll:A}=m,C=$V(m,dPe);if(!qa(r)||!qa(i)||y.length===0)return null;var P=Number(r)+(je(v)?v:0),L=Number(i)+(je(_)?_:0);if(!On(P)||!On(L))return null;var M;switch(f){case"start":M=gT("calc(".concat(a,")"));break;case"middle":M=gT("calc(".concat((y.length-1)/2," * -").concat(s," + (").concat(a," / 2))"));break;default:M=gT("calc(".concat(y.length-1," * -").concat(s,")"));break}var z=[];if(u){var j=y[0].width,{width:R}=m;z.push("scale(".concat(je(R)&&je(j)?R/j:1,")"))}return E&&z.push("rotate(".concat(E,", ").concat(P,", ").concat(L,")")),z.length&&(C.transform=z.join(" ")),T.createElement("text",zN({},ci(C),{ref:e,x:P,y:L,className:Lt("recharts-text",w),textAnchor:d,fill:l.includes("url")?$K:l}),y.map((D,B)=>{var V=D.words.join(A?"":" ");return T.createElement("tspan",{x:P,dy:B===0?M:s,key:"".concat(V,"-").concat(B)},V)}))});$I.displayName="Text";var vPe=["labelRef"];function bPe(t,e){if(t==null)return{};var n,r,i=xPe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function xPe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function WV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WV(Object(n),!0).forEach(function(r){wPe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wPe(t,e,n){return(e=_Pe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _Pe(t){var e=EPe(t,"string");return typeof e=="symbol"?e:e+""}function EPe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function So(){return So=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},So.apply(null,arguments)}var qK=T.createContext(null),SPe=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:s,height:a,children:l}=t,u=T.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:s,height:a}),[e,n,r,i,s,a]);return T.createElement(qK.Provider,{value:u},l)},HK=()=>{var t=T.useContext(qK),e=Aw();return t||Jq(e)},TPe=T.createContext(null),APe=()=>{var t=T.useContext(TPe),e=Re(_W);return t||e},NPe=t=>{var{value:e,formatter:n}=t,r=dn(t.children)?e:t.children;return typeof n=="function"?n(r):r},qI=t=>t!=null&&typeof t=="function",CPe=(t,e)=>{var n=Ni(e-t),r=Math.min(Math.abs(e-t),360);return n*r},PPe=(t,e,n,r,i)=>{var{offset:s,className:a}=t,{cx:l,cy:u,innerRadius:d,outerRadius:f,startAngle:m,endAngle:y,clockWise:v}=i,_=(d+f)/2,E=CPe(m,y),w=E>=0?1:-1,A,C;switch(e){case"insideStart":A=m+w*s,C=v;break;case"insideEnd":A=y-w*s,C=!v;break;case"end":A=y+w*s,C=v;break;default:throw new Error("Unsupported position ".concat(e))}C=E<=0?C:!C;var P=kr(l,u,_,A),L=kr(l,u,_,A+(C?1:-1)*359),M="M".concat(P.x,",").concat(P.y,`
    A`).concat(_,",").concat(_,",0,1,").concat(C?0:1,`,
    `).concat(L.x,",").concat(L.y),z=dn(t.id)?Fp("recharts-radial-line-"):t.id;return T.createElement("text",So({},r,{dominantBaseline:"central",className:Lt("recharts-radial-bar-label",a)}),T.createElement("defs",null,T.createElement("path",{id:z,d:M})),T.createElement("textPath",{xlinkHref:"#".concat(z)},n))},IPe=(t,e,n)=>{var{cx:r,cy:i,innerRadius:s,outerRadius:a,startAngle:l,endAngle:u}=t,d=(l+u)/2;if(n==="outside"){var{x:f,y:m}=kr(r,i,a+e,d);return{x:f,y:m,textAnchor:f>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var y=(s+a)/2,{x:v,y:_}=kr(r,i,y,d);return{x:v,y:_,textAnchor:"middle",verticalAnchor:"middle"}},BN=t=>"cx"in t&&je(t.cx),OPe=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,s;n!=null&&!BN(n)&&(s=n);var{x:a,y:l,upperWidth:u,lowerWidth:d,height:f}=e,m=a,y=a+(u-d)/2,v=(m+y)/2,_=(u+d)/2,E=m+u/2,w=f>=0?1:-1,A=w*r,C=w>0?"end":"start",P=w>0?"start":"end",L=u>=0?1:-1,M=L*r,z=L>0?"end":"start",j=L>0?"start":"end";if(i==="top"){var R={x:m+u/2,y:l-A,textAnchor:"middle",verticalAnchor:C};return Cn(Cn({},R),s?{height:Math.max(l-s.y,0),width:u}:{})}if(i==="bottom"){var D={x:y+d/2,y:l+f+A,textAnchor:"middle",verticalAnchor:P};return Cn(Cn({},D),s?{height:Math.max(s.y+s.height-(l+f),0),width:d}:{})}if(i==="left"){var B={x:v-M,y:l+f/2,textAnchor:z,verticalAnchor:"middle"};return Cn(Cn({},B),s?{width:Math.max(B.x-s.x,0),height:f}:{})}if(i==="right"){var V={x:v+_+M,y:l+f/2,textAnchor:j,verticalAnchor:"middle"};return Cn(Cn({},V),s?{width:Math.max(s.x+s.width-V.x,0),height:f}:{})}var $=s?{width:_,height:f}:{};return i==="insideLeft"?Cn({x:v+M,y:l+f/2,textAnchor:j,verticalAnchor:"middle"},$):i==="insideRight"?Cn({x:v+_-M,y:l+f/2,textAnchor:z,verticalAnchor:"middle"},$):i==="insideTop"?Cn({x:m+u/2,y:l+A,textAnchor:"middle",verticalAnchor:P},$):i==="insideBottom"?Cn({x:y+d/2,y:l+f-A,textAnchor:"middle",verticalAnchor:C},$):i==="insideTopLeft"?Cn({x:m+M,y:l+A,textAnchor:j,verticalAnchor:P},$):i==="insideTopRight"?Cn({x:m+u-M,y:l+A,textAnchor:z,verticalAnchor:P},$):i==="insideBottomLeft"?Cn({x:y+M,y:l+f-A,textAnchor:j,verticalAnchor:C},$):i==="insideBottomRight"?Cn({x:y+d-M,y:l+f-A,textAnchor:z,verticalAnchor:C},$):i&&typeof i=="object"&&(je(i.x)||Ho(i.x))&&(je(i.y)||Ho(i.y))?Cn({x:a+ia(i.x,_),y:l+ia(i.y,f),textAnchor:"end",verticalAnchor:"end"},$):Cn({x:E,y:l+f/2,textAnchor:"middle",verticalAnchor:"middle"},$)},jPe={angle:0,offset:5,zIndex:yr.label,position:"middle",textBreakAll:!1};function zl(t){var e=Mr(t,jPe),{viewBox:n,position:r,value:i,children:s,content:a,className:l="",textBreakAll:u,labelRef:d}=e,f=APe(),m=HK(),y=r==="center"?m:f??m,v,_,E;if(n==null?v=y:BN(n)?v=n:v=Jq(n),!v||dn(i)&&dn(s)&&!T.isValidElement(a)&&typeof a!="function")return null;var w=Cn(Cn({},e),{},{viewBox:v});if(T.isValidElement(a)){var{labelRef:A}=w,C=bPe(w,vPe);return T.cloneElement(a,C)}if(typeof a=="function"){if(_=T.createElement(a,w),T.isValidElement(_))return _}else _=NPe(e);var P=ci(e);if(BN(v)){if(r==="insideStart"||r==="insideEnd"||r==="end")return PPe(e,r,_,P,v);E=IPe(v,e.offset,e.position)}else E=OPe(e,v);return T.createElement(Is,{zIndex:e.zIndex},T.createElement($I,So({ref:d,className:Lt("recharts-label",l)},P,E,{textAnchor:hPe(P.textAnchor)?P.textAnchor:E.textAnchor,breakAll:u}),_))}zl.displayName="Label";var RPe=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?T.createElement(zl,So({key:"label-implicit"},r)):qa(t)?T.createElement(zl,So({key:"label-implicit",value:t},r)):T.isValidElement(t)?t.type===zl?T.cloneElement(t,Cn({key:"label-implicit"},r)):T.createElement(zl,So({key:"label-implicit",content:t},r)):qI(t)?T.createElement(zl,So({key:"label-implicit",content:t},r)):t&&typeof t=="object"?T.createElement(zl,So({},t,{key:"label-implicit"},r)):null};function kPe(t){var{label:e,labelRef:n}=t,r=HK();return RPe(e,r,n)||null}var yT={},vT={},KV;function MPe(){return KV||(KV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(vT)),vT}var bT={},GV;function DPe(){return GV||(GV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(bT)),bT}var YV;function LPe(){return YV||(YV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=MPe(),n=DPe(),r=IP();function i(s){if(r.isArrayLike(s))return e.last(n.toArray(s))}t.last=i})(yT)),yT}var xT,XV;function VPe(){return XV||(XV=1,xT=LPe().last),xT}var UPe=VPe();const zPe=Zo(UPe);var BPe=["valueAccessor"],FPe=["dataKey","clockWise","id","textBreakAll","zIndex"];function ax(){return ax=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ax.apply(null,arguments)}function QV(t,e){if(t==null)return{};var n,r,i=$Pe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function $Pe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var qPe=t=>Array.isArray(t.value)?zPe(t.value):t.value,WK=T.createContext(void 0),KK=WK.Provider,GK=T.createContext(void 0);GK.Provider;function HPe(){return T.useContext(WK)}function WPe(){return T.useContext(GK)}function jv(t){var{valueAccessor:e=qPe}=t,n=QV(t,BPe),{dataKey:r,clockWise:i,id:s,textBreakAll:a,zIndex:l}=n,u=QV(n,FPe),d=HPe(),f=WPe(),m=d||f;return!m||!m.length?null:T.createElement(Is,{zIndex:l??yr.label},T.createElement(Ss,{className:"recharts-label-list"},m.map((y,v)=>{var _,E=dn(r)?e(y,v):tr(y&&y.payload,r),w=dn(s)?{}:{id:"".concat(s,"-").concat(v)};return T.createElement(zl,ax({key:"label-".concat(v)},ci(y),u,w,{fill:(_=n.fill)!==null&&_!==void 0?_:y.fill,parentViewBox:y.parentViewBox,value:E,textBreakAll:a,viewBox:y.viewBox,index:v,zIndex:0}))})))}jv.displayName="LabelList";function YK(t){var{label:e}=t;return e?e===!0?T.createElement(jv,{key:"labelList-implicit"}):T.isValidElement(e)||qI(e)?T.createElement(jv,{key:"labelList-implicit",content:e}):typeof e=="object"?T.createElement(jv,ax({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function FN(){return FN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},FN.apply(null,arguments)}var XK=t=>{var{cx:e,cy:n,r,className:i}=t,s=Lt("recharts-dot",i);return je(e)&&je(n)&&je(r)?T.createElement("circle",FN({},na(t),PP(t),{className:s,cx:e,cy:n,r})):null},KPe={radiusAxis:{},angleAxis:{}},QK=Ii({name:"polarAxis",initialState:KPe,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:LMe,removeRadiusAxis:VMe,addAngleAxis:UMe,removeAngleAxis:zMe}=QK.actions,GPe=QK.reducer,wT={exports:{}},Ft={};var ZV;function YPe(){if(ZV)return Ft;ZV=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.for("react.view_transition"),v=Symbol.for("react.client.reference");function _(E){if(typeof E=="object"&&E!==null){var w=E.$$typeof;switch(w){case t:switch(E=E.type,E){case n:case i:case r:case u:case d:case y:return E;default:switch(E=E&&E.$$typeof,E){case a:case l:case m:case f:return E;case s:return E;default:return w}}case e:return w}}}return Ft.ContextConsumer=s,Ft.ContextProvider=a,Ft.Element=t,Ft.ForwardRef=l,Ft.Fragment=n,Ft.Lazy=m,Ft.Memo=f,Ft.Portal=e,Ft.Profiler=i,Ft.StrictMode=r,Ft.Suspense=u,Ft.SuspenseList=d,Ft.isContextConsumer=function(E){return _(E)===s},Ft.isContextProvider=function(E){return _(E)===a},Ft.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===t},Ft.isForwardRef=function(E){return _(E)===l},Ft.isFragment=function(E){return _(E)===n},Ft.isLazy=function(E){return _(E)===m},Ft.isMemo=function(E){return _(E)===f},Ft.isPortal=function(E){return _(E)===e},Ft.isProfiler=function(E){return _(E)===i},Ft.isStrictMode=function(E){return _(E)===r},Ft.isSuspense=function(E){return _(E)===u},Ft.isSuspenseList=function(E){return _(E)===d},Ft.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===n||E===i||E===r||E===u||E===d||typeof E=="object"&&E!==null&&(E.$$typeof===m||E.$$typeof===f||E.$$typeof===a||E.$$typeof===s||E.$$typeof===l||E.$$typeof===v||E.getModuleId!==void 0)},Ft.typeOf=_,Ft}var JV;function XPe(){return JV||(JV=1,wT.exports=YPe()),wT.exports}var QPe=XPe(),eU=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",tU=null,_T=null,ZK=t=>{if(t===tU&&Array.isArray(_T))return _T;var e=[];return T.Children.forEach(t,n=>{dn(n)||(QPe.isFragment(n)?e=e.concat(ZK(n.props.children)):e.push(n))}),_T=e,tU=t,e};function ZPe(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>eU(i)):r=[eU(e)],ZK(t).forEach(i=>{var s=Bf(i,"type.displayName")||Bf(i,"type.name");s&&r.indexOf(s)!==-1&&n.push(i)}),n}var JK=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,ET={},nU;function JPe(){return nU||(nU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${i}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(ET)),ET}var ST,rU;function eIe(){return rU||(rU=1,ST=JPe().isPlainObject),ST}var tIe=eIe();const nIe=Zo(tIe);function iU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iU(Object(n),!0).forEach(function(r){rIe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rIe(t,e,n){return(e=iIe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iIe(t){var e=sIe(t,"string");return typeof e=="symbol"?e:e+""}function sIe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ox(){return ox=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ox.apply(null,arguments)}var aU=(t,e,n,r,i)=>{var s=n-r,a;return a="M ".concat(t,",").concat(e),a+="L ".concat(t+n,",").concat(e),a+="L ".concat(t+n-s/2,",").concat(e+i),a+="L ".concat(t+n-s/2-r,",").concat(e+i),a+="L ".concat(t,",").concat(e," Z"),a},aIe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},oIe=t=>{var e=Mr(t,aIe),{x:n,y:r,upperWidth:i,lowerWidth:s,height:a,className:l}=e,{animationEasing:u,animationDuration:d,animationBegin:f,isUpdateAnimationActive:m}=e,y=T.useRef(null),[v,_]=T.useState(-1),E=T.useRef(i),w=T.useRef(s),A=T.useRef(a),C=T.useRef(n),P=T.useRef(r),L=jw(t,"trapezoid-");if(T.useEffect(()=>{if(y.current&&y.current.getTotalLength)try{var xe=y.current.getTotalLength();xe&&_(xe)}catch{}},[]),n!==+n||r!==+r||i!==+i||s!==+s||a!==+a||i===0&&s===0||a===0)return null;var M=Lt("recharts-trapezoid",l);if(!m)return T.createElement("g",null,T.createElement("path",ox({},ci(e),{className:M,d:aU(n,r,i,s,a)})));var z=E.current,j=w.current,R=A.current,D=C.current,B=P.current,V="0px ".concat(v===-1?1:v,"px"),$="".concat(v,"px 0px"),q=dH(["strokeDasharray"],d,u);return T.createElement(Ow,{animationId:L,key:L,canBegin:v>0,duration:d,easing:u,isActive:m,begin:f},xe=>{var be=xn(z,i,xe),X=xn(j,s,xe),ee=xn(R,a,xe),he=xn(D,n,xe),Y=xn(B,r,xe);y.current&&(E.current=be,w.current=X,A.current=ee,C.current=he,P.current=Y);var H=xe>0?{transition:q,strokeDasharray:$}:{strokeDasharray:V};return T.createElement("path",ox({},ci(e),{className:M,d:aU(he,Y,be,X,ee),ref:y,style:sU(sU({},H),e.style)}))})},lIe=["option","shapeType","propTransformer","activeClassName"];function cIe(t,e){if(t==null)return{};var n,r,i=uIe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function uIe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function oU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oU(Object(n),!0).forEach(function(r){dIe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dIe(t,e,n){return(e=fIe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fIe(t){var e=hIe(t,"string");return typeof e=="symbol"?e:e+""}function hIe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mIe(t,e){return lx(lx({},e),t)}function pIe(t,e){return t==="symbols"}function lU(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return T.createElement(pH,n);case"trapezoid":return T.createElement(oIe,n);case"sector":return T.createElement(vH,n);case"symbols":if(pIe(e))return T.createElement(CP,n);break;case"curve":return T.createElement(uH,n);default:return null}}function gIe(t){return T.isValidElement(t)?t.props:t}function eG(t){var{option:e,shapeType:n,propTransformer:r=mIe,activeClassName:i="recharts-active-shape"}=t,s=cIe(t,lIe),a;if(T.isValidElement(e))a=T.cloneElement(e,lx(lx({},s),gIe(e)));else if(typeof e=="function")a=e(s,s.index);else if(nIe(e)&&typeof e!="boolean"){var l=r(e,s);a=T.createElement(lU,{shapeType:n,elementProps:l})}else{var u=s;a=T.createElement(lU,{shapeType:n,elementProps:u})}return s.isActive?T.createElement(Ss,{className:i},a):a}var tG=(t,e,n)=>{var r=gn();return(i,s)=>a=>{t?.(i,s,a),r(dK({activeIndex:String(s),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},nG=t=>{var e=gn();return(n,r)=>i=>{t?.(n,r,i),e(zNe())}},rG=(t,e,n)=>{var r=gn();return(i,s)=>a=>{t?.(i,s,a),r(BNe({activeIndex:String(s),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function iG(t){var{tooltipEntrySettings:e}=t,n=gn(),r=Yr(),i=T.useRef(null);return T.useLayoutEffect(()=>{r||(i.current===null?n(DNe(e)):i.current!==e&&n(LNe({prev:i.current,next:e})),i.current=e)},[e,n,r]),T.useLayoutEffect(()=>()=>{i.current&&(n(VNe(i.current)),i.current=null)},[n]),null}function sG(t){var{legendPayload:e}=t,n=gn(),r=Yr(),i=T.useRef(null);return T.useLayoutEffect(()=>{r||(i.current===null?n(i1e(e)):i.current!==e&&n(s1e({prev:i.current,next:e})),i.current=e)},[n,r,e]),T.useLayoutEffect(()=>()=>{i.current&&(n(a1e(i.current)),i.current=null)},[n]),null}var TT,yIe=()=>{var[t]=T.useState(()=>Fp("uid-"));return t},vIe=(TT=TX.useId)!==null&&TT!==void 0?TT:yIe;function aG(t,e){var n=vIe();return e||(t?"".concat(t,"-").concat(n):n)}var bIe=T.createContext(void 0),oG=t=>{var{id:e,type:n,children:r}=t,i=aG("recharts-".concat(n),e);return T.createElement(bIe.Provider,{value:i},r(i))},xIe={cartesianItems:[],polarItems:[]},lG=Ii({name:"graphicalItems",initialState:xIe,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:an()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Zs(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:an()},removeCartesianGraphicalItem:{reducer(t,e){var n=Zs(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:an()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:an()},removePolarGraphicalItem:{reducer(t,e){var n=Zs(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:an()}}}),{addCartesianGraphicalItem:wIe,replaceCartesianGraphicalItem:_Ie,removeCartesianGraphicalItem:EIe,addPolarGraphicalItem:BMe,removePolarGraphicalItem:FMe}=lG.actions,SIe=lG.reducer,TIe=t=>{var e=gn(),n=T.useRef(null);return T.useLayoutEffect(()=>{n.current===null?e(wIe(t)):n.current!==t&&e(_Ie({prev:n.current,next:t})),n.current=t},[e,t]),T.useLayoutEffect(()=>()=>{n.current&&(e(EIe(n.current)),n.current=null)},[e]),null},cG=T.memo(TIe),AIe=["points"];function cU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function AT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cU(Object(n),!0).forEach(function(r){NIe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NIe(t,e,n){return(e=CIe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CIe(t){var e=PIe(t,"string");return typeof e=="symbol"?e:e+""}function PIe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cx(){return cx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cx.apply(null,arguments)}function IIe(t,e){if(t==null)return{};var n,r,i=OIe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function OIe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function jIe(t){var{option:e,dotProps:n,className:r}=t;if(T.isValidElement(e))return T.cloneElement(e,n);if(typeof e=="function")return e(n);var i=Lt(r,typeof e!="boolean"?e.className:""),s=n??{},{points:a}=s,l=IIe(s,AIe);return T.createElement(XK,cx({},l,{className:i}))}function RIe(t,e){return t==null?!1:e?!0:t.length===1}function kIe(t){var{points:e,dot:n,className:r,dotClassName:i,dataKey:s,baseProps:a,needClip:l,clipPathId:u,zIndex:d=yr.scatter}=t;if(!RIe(e,n))return null;var f=JK(n),m=Vve(n),y=e.map((_,E)=>{var w,A,C=AT(AT(AT({r:3},a),m),{},{index:E,cx:(w=_.x)!==null&&w!==void 0?w:void 0,cy:(A=_.y)!==null&&A!==void 0?A:void 0,dataKey:s,value:_.value,payload:_.payload,points:e});return T.createElement(jIe,{key:"dot-".concat(E),option:n,dotProps:C,className:i})}),v={};return l&&u!=null&&(v.clipPath="url(#clipPath-".concat(f?"":"dots-").concat(u,")")),T.createElement(Is,{zIndex:d},T.createElement(Ss,cx({className:r},v),y))}function uU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uU(Object(n),!0).forEach(function(r){MIe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MIe(t,e,n){return(e=DIe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DIe(t){var e=LIe(t,"string");return typeof e=="symbol"?e:e+""}function LIe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var VIe={xAxis:{},yAxis:{},zAxis:{}},uG=Ii({name:"cartesianAxis",initialState:VIe,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:an()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:an()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:an()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:an()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:an()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:an()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:an()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:an()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:an()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var s=i.widthHistory||[];if(s.length===3&&s[0]===s[2]&&r===s[1]&&r!==i.width&&Math.abs(r-s[0])<=1)return;var a=[...s,r].slice(-3);t.yAxis[n]=dU(dU({},t.yAxis[n]),{},{width:r,widthHistory:a})}}}}),{addXAxis:UIe,replaceXAxis:zIe,removeXAxis:BIe,addYAxis:FIe,replaceYAxis:$Ie,removeYAxis:qIe,addZAxis:$Me,replaceZAxis:qMe,removeZAxis:HMe,updateYAxisWidth:HIe}=uG.actions,WIe=uG.reducer,KIe=oe([wr],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),GIe=oe([KIe,Jo,el],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),HI=()=>Re(GIe),YIe=()=>Re(ICe);function fU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function NT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fU(Object(n),!0).forEach(function(r){XIe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XIe(t,e,n){return(e=QIe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QIe(t){var e=ZIe(t,"string");return typeof e=="symbol"?e:e+""}function ZIe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var JIe=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:s,clipPath:a}=t;if(i===!1||e.x==null||e.y==null)return null;var l={index:n,dataKey:s,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},u=NT(NT(NT({},l),Ag(i)),PP(i)),d;return T.isValidElement(i)?d=T.cloneElement(i,u):typeof i=="function"?d=i(u):d=T.createElement(XK,u),T.createElement(Ss,{className:"recharts-active-dot",clipPath:a},d)};function eOe(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i,clipPath:s,zIndex:a=yr.activeDot}=t,l=Re(Zu),u=YIe();if(e==null||u==null)return null;var d=e.find(f=>u.includes(f.payload));return dn(d)?null:T.createElement(Is,{zIndex:a},T.createElement(JIe,{point:d,childIndex:Number(l),mainColor:n,dataKey:i,activeDot:r,clipPath:s}))}var tOe="Invariant failed";function nOe(t,e){throw new Error(tOe)}var rOe=["x","y"];function $N(){return $N=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$N.apply(null,arguments)}function hU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Um(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hU(Object(n),!0).forEach(function(r){iOe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iOe(t,e,n){return(e=sOe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sOe(t){var e=aOe(t,"string");return typeof e=="symbol"?e:e+""}function aOe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oOe(t,e){if(t==null)return{};var n,r,i=lOe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function lOe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function cOe(t,e){var{x:n,y:r}=t,i=oOe(t,rOe),s="".concat(n),a=parseInt(s,10),l="".concat(r),u=parseInt(l,10),d="".concat(e.height||i.height),f=parseInt(d,10),m="".concat(e.width||i.width),y=parseInt(m,10);return Um(Um(Um(Um(Um({},e),i),a?{x:a}:{}),u?{y:u}:{}),{},{height:f,width:y,name:e.name,radius:e.radius})}function ux(t){return T.createElement(eG,$N({shapeType:"rectangle",propTransformer:cOe,activeClassName:"recharts-active-bar"},t))}var uOe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(je(e))return e;var s=je(r)||dn(r);return s?e(r,i):(s||nOe(),n)}},dOe={},dG=Ii({name:"errorBars",initialState:dOe,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(s=>s.dataKey===r.dataKey&&s.direction===r.direction?i:s))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:WMe,replaceErrorBar:KMe,removeErrorBar:GMe}=dG.actions,fOe=dG.reducer,hOe=["children"];function mOe(t,e){if(t==null)return{};var n,r,i=pOe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function pOe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var gOe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},yOe=T.createContext(gOe);function fG(t){var{children:e}=t,n=mOe(t,hOe);return T.createElement(yOe.Provider,{value:n},e)}function WI(t,e){var n,r,i=Re(d=>nl(d,t)),s=Re(d=>rl(d,e)),a=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:fr.allowDataOverflow,l=(r=s?.allowDataOverflow)!==null&&r!==void 0?r:hr.allowDataOverflow,u=a||l;return{needClip:u,needClipX:a,needClipY:l}}function hG(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=HI(),{needClipX:s,needClipY:a,needClip:l}=WI(e,n);if(!l||!i)return null;var{x:u,y:d,width:f,height:m}=i;return T.createElement("clipPath",{id:"clipPath-".concat(r)},T.createElement("rect",{x:s?u:u-f/2,y:a?d:d-m/2,width:s?f:f*2,height:a?m:m*2}))}function vOe(t,e){return t&&typeof t=="object"&&"zIndex"in t&&typeof t.zIndex=="number"&&On(t.zIndex)?t.zIndex:e}var CT={exports:{}},PT={};var mU;function bOe(){if(mU)return PT;mU=1;var t=Xf();function e(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,s=t.useEffect,a=t.useMemo,l=t.useDebugValue;return PT.useSyncExternalStoreWithSelector=function(u,d,f,m,y){var v=i(null);if(v.current===null){var _={hasValue:!1,value:null};v.current=_}else _=v.current;v=a(function(){function w(M){if(!A){if(A=!0,C=M,M=m(M),y!==void 0&&_.hasValue){var z=_.value;if(y(z,M))return P=z}return P=M}if(z=P,n(C,M))return z;var j=m(M);return y!==void 0&&y(z,j)?(C=M,z):(C=M,P=j)}var A=!1,C,P,L=f===void 0?null:f;return[function(){return w(d())},L===null?void 0:function(){return w(L())}]},[d,f,m,y]);var E=r(u,v[0],v[1]);return s(function(){_.hasValue=!0,_.value=E},[E]),l(E),E},PT}var pU;function xOe(){return pU||(pU=1,CT.exports=bOe()),CT.exports}xOe();function wOe(t){t()}function _Oe(){let t=null,e=null;return{clear(){t=null,e=null},notify(){wOe(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var gU={notify(){},get:()=>[]};function EOe(t,e){let n,r=gU,i=0,s=!1;function a(E){f();const w=r.subscribe(E);let A=!1;return()=>{A||(A=!0,w(),m())}}function l(){r.notify()}function u(){_.onStateChange&&_.onStateChange()}function d(){return s}function f(){i++,n||(n=t.subscribe(u),r=_Oe())}function m(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=gU)}function y(){s||(s=!0,f())}function v(){s&&(s=!1,m())}const _={addNestedSub:a,notifyNestedSubs:l,handleChangeWrapper:u,isSubscribed:d,trySubscribe:y,tryUnsubscribe:v,getListeners:()=>r};return _}var SOe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",TOe=SOe(),AOe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",NOe=AOe(),COe=()=>TOe||NOe?T.useLayoutEffect:T.useEffect,POe=COe();function yU(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function IOe(t,e){if(yU(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!yU(t[n[i]],e[n[i]]))return!1;return!0}var OOe=Symbol.for("react-redux-context"),jOe=typeof globalThis<"u"?globalThis:{};function ROe(){if(!T.createContext)return{};const t=jOe[OOe]??=new Map;let e=t.get(T.createContext);return e||(e=T.createContext(null),t.set(T.createContext,e)),e}var kOe=ROe();function MOe(t){const{children:e,context:n,serverState:r,store:i}=t,s=T.useMemo(()=>{const u=EOe(i);return{store:i,subscription:u,getServerState:r?()=>r:void 0}},[i,r]),a=T.useMemo(()=>i.getState(),[i]);POe(()=>{const{subscription:u}=s;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),a!==i.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[s,a]);const l=n||kOe;return T.createElement(l.Provider,{value:s},e)}var DOe=MOe,LOe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function VOe(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function Qw(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(LOe.has(r)){if(t[r]==null&&e[r]==null)continue;if(!IOe(t[r],e[r]))return!1}else if(!VOe(t[r],e[r]))return!1;return!0}var UOe=["onMouseEnter","onMouseLeave","onClick"],zOe=["value","background","tooltipPosition"],BOe=["id"],FOe=["onMouseEnter","onClick","onMouseLeave"];function Qo(){return Qo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qo.apply(null,arguments)}function vU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vU(Object(n),!0).forEach(function(r){$Oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $Oe(t,e,n){return(e=qOe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qOe(t){var e=HOe(t,"string");return typeof e=="symbol"?e:e+""}function HOe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dx(t,e){if(t==null)return{};var n,r,i=WOe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function WOe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var KOe=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:r,value:ww(n,e),payload:t}]},GOe=T.memo(t=>{var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:s,hide:a,unit:l,tooltipType:u}=t,d={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:ww(s,e),hide:a,type:u,color:i,unit:l}};return T.createElement(iG,{tooltipEntrySettings:d})});function YOe(t){var e=Re(Zu),{data:n,dataKey:r,background:i,allOtherBarProps:s}=t,{onMouseEnter:a,onMouseLeave:l,onClick:u}=s,d=dx(s,UOe),f=tG(a,r),m=nG(l),y=rG(u,r);if(!i||n==null)return null;var v=Ag(i);return T.createElement(Is,{zIndex:vOe(i,yr.barBackground)},n.map((_,E)=>{var{value:w,background:A,tooltipPosition:C}=_,P=dx(_,zOe);if(!A)return null;var L=f(_,E),M=m(_,E),z=y(_,E),j=Jr(Jr(Jr(Jr(Jr({option:i,isActive:String(E)===e},P),{},{fill:"#eee"},A),v),dw(d,_,E)),{},{onMouseEnter:L,onMouseLeave:M,onClick:z,dataKey:r,index:E,className:"recharts-bar-background-rectangle"});return T.createElement(ux,Qo({key:"background-bar-".concat(E)},j))}))}function XOe(t){var{showLabels:e,children:n,rects:r}=t,i=r?.map(s=>{var a={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return Jr(Jr({},a),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:a,fill:s.fill})});return T.createElement(KK,{value:e?i:void 0},n)}function QOe(t){var{shape:e,activeBar:n,baseProps:r,entry:i,index:s,dataKey:a}=t,l=Re(Zu),u=Re(TK),d=n&&String(s)===l&&(u==null||a===u),f=d?n:e;return d?T.createElement(Is,{zIndex:yr.activeBar},T.createElement(ux,Qo({},r,{name:String(r.name)},i,{isActive:d,option:f,index:s,dataKey:a}))):T.createElement(ux,Qo({},r,{name:String(r.name)},i,{isActive:d,option:f,index:s,dataKey:a}))}function ZOe(t){var{shape:e,baseProps:n,entry:r,index:i,dataKey:s}=t;return T.createElement(ux,Qo({},n,{name:String(n.name)},r,{isActive:!1,option:e,index:i,dataKey:s}))}function JOe(t){var e,{data:n,props:r}=t,i=(e=na(r))!==null&&e!==void 0?e:{},{id:s}=i,a=dx(i,BOe),{shape:l,dataKey:u,activeBar:d}=r,{onMouseEnter:f,onClick:m,onMouseLeave:y}=r,v=dx(r,FOe),_=tG(f,u),E=nG(y),w=rG(m,u);return n?T.createElement(T.Fragment,null,n.map((A,C)=>T.createElement(Ss,Qo({key:"rectangle-".concat(A?.x,"-").concat(A?.y,"-").concat(A?.value,"-").concat(C),className:"recharts-bar-rectangle"},dw(v,A,C),{onMouseEnter:_(A,C),onMouseLeave:E(A,C),onClick:w(A,C)}),d?T.createElement(QOe,{shape:l,activeBar:d,baseProps:a,entry:A,index:C,dataKey:u}):T.createElement(ZOe,{shape:l,baseProps:a,entry:A,index:C,dataKey:u})))):null}function eje(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:s,animationBegin:a,animationDuration:l,animationEasing:u,onAnimationEnd:d,onAnimationStart:f}=e,m=n.current,y=jw(e,"recharts-bar-"),[v,_]=T.useState(!1),E=!v,w=T.useCallback(()=>{typeof d=="function"&&d(),_(!1)},[d]),A=T.useCallback(()=>{typeof f=="function"&&f(),_(!0)},[f]);return T.createElement(XOe,{showLabels:E,rects:r},T.createElement(Ow,{animationId:y,begin:a,duration:l,isActive:s,easing:u,onAnimationEnd:w,onAnimationStart:A,key:y},C=>{var P=C===1?r:r?.map((L,M)=>{var z=m&&m[M];if(z)return Jr(Jr({},L),{},{x:xn(z.x,L.x,C),y:xn(z.y,L.y,C),width:xn(z.width,L.width,C),height:xn(z.height,L.height,C)});if(i==="horizontal"){var j=xn(0,L.height,C),R=xn(L.stackedBarStart,L.y,C);return Jr(Jr({},L),{},{y:R,height:j})}var D=xn(0,L.width,C),B=xn(L.stackedBarStart,L.x,C);return Jr(Jr({},L),{},{width:D,x:B})});return C>0&&(n.current=P??null),P==null?null:T.createElement(Ss,null,T.createElement(JOe,{props:e,data:P}))}),T.createElement(YK,{label:e.label}),e.children)}function tje(t){var e=T.useRef(null);return T.createElement(eje,{previousRectanglesRef:e,props:t})}var mG=0,nje=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:tr(t,e)}};class rje extends T.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:s,yAxisId:a,needClip:l,background:u,id:d}=this.props;if(e||n==null)return null;var f=Lt("recharts-bar",i),m=d;return T.createElement(Ss,{className:f,id:d},l&&T.createElement("defs",null,T.createElement(hG,{clipPathId:m,xAxisId:s,yAxisId:a})),T.createElement(Ss,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(m,")"):void 0},T.createElement(YOe,{data:n,dataKey:r,background:u,allOtherBarProps:this.props}),T.createElement(tje,this.props)))}}var ije={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:mG,xAxisId:0,yAxisId:0,zIndex:yr.bar};function sje(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:a,animationBegin:l,animationDuration:u,animationEasing:d,isAnimationActive:f}=t,{needClip:m}=WI(e,n),y=Rg(),v=Yr(),_=ZPe(t.children,MK),E=Re(C=>Rje(C,e,n,v,t.id,_));if(y!=="vertical"&&y!=="horizontal")return null;var w,A=E?.[0];return A==null||A.height==null||A.width==null?w=0:w=y==="vertical"?A.height/2:A.width/2,T.createElement(fG,{xAxisId:e,yAxisId:n,data:E,dataPointFormatter:nje,errorBarOffset:w},T.createElement(rje,Qo({},t,{layout:y,needClip:m,data:E,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:a,animationBegin:l,animationDuration:u,animationEasing:d,isAnimationActive:f})))}function aje(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:s,xAxis:a,yAxis:l,xAxisTicks:u,yAxisTicks:d,stackedData:f,displayedData:m,offset:y,cells:v,parentViewBox:_,dataStartIndex:E}=t,w=e==="horizontal"?l:a,A=f?w.scale.domain():null,C=s_e({numericAxis:w}),P=w.scale(C);return m.map((L,M)=>{var z,j,R,D,B,V;f?z=Jwe(f[M+E],A):(z=tr(L,n),Array.isArray(z)||(z=[C,z]));var $=uOe(r,mG)(z[1],M);if(e==="horizontal"){var q,[xe,be]=[l.scale(z[0]),l.scale(z[1])];j=U3({axis:a,ticks:u,bandSize:s,offset:i.offset,entry:L,index:M}),R=(q=be??xe)!==null&&q!==void 0?q:void 0,D=i.size;var X=xe-be;if(B=ra(X)?0:X,V={x:j,y:y.top,width:D,height:y.height},Math.abs($)>0&&Math.abs(B)<Math.abs($)){var ee=Ni(B||$)*(Math.abs($)-Math.abs(B));R-=ee,B+=ee}}else{var[he,Y]=[a.scale(z[0]),a.scale(z[1])];if(j=he,R=U3({axis:l,ticks:d,bandSize:s,offset:i.offset,entry:L,index:M}),D=Y-he,B=i.size,V={x:y.left,y:R,width:y.width,height:B},Math.abs($)>0&&Math.abs(D)<Math.abs($)){var H=Ni(D||$)*(Math.abs($)-Math.abs(D));D+=H}}if(j==null||R==null||D==null||B==null)return null;var k=Jr(Jr({},L),{},{stackedBarStart:P,x:j,y:R,width:D,height:B,value:f?z:z[1],payload:L,background:V,tooltipPosition:{x:j+D/2,y:R+B/2},parentViewBox:_},v&&v[M]&&v[M].props);return k}).filter(Boolean)}function oje(t){var e=Mr(t,ije),n=Yr();return T.createElement(oG,{id:e.id,type:"bar"},r=>T.createElement(T.Fragment,null,T.createElement(sG,{legendPayload:KOe(e)}),T.createElement(GOe,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType}),T.createElement(cG,{type:"bar",id:r,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:i_e(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:n}),T.createElement(Is,{zIndex:e.zIndex},T.createElement(sje,Qo({},e,{id:r})))))}var pG=T.memo(oje,Qw);pG.displayName="Bar";function bU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ov(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bU(Object(n),!0).forEach(function(r){lje(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lje(t,e,n){return(e=cje(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cje(t){var e=uje(t,"string");return typeof e=="symbol"?e:e+""}function uje(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dje=(t,e)=>e,fje=(t,e,n)=>n,hje=(t,e,n,r)=>r,mje=(t,e,n,r,i)=>i,Yg=oe([Kw,mje],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),pje=oe([Yg],t=>t?.maxBarSize),gje=(t,e,n,r,i,s)=>s,xU=(t,e,n)=>{var r=n??t;if(!dn(r))return ia(r,e,0)},yje=oe([Tt,Kw,dje,fje,hje],(t,e,n,r,i)=>e.filter(s=>t==="horizontal"?s.xAxisId===n:s.yAxisId===r).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),vje=(t,e,n,r)=>{var i=Tt(t);return i==="horizontal"?MN(t,"yAxis",n,r):MN(t,"xAxis",e,r)},bje=(t,e,n)=>{var r=Tt(t);return r==="horizontal"?vV(t,"xAxis",e):vV(t,"yAxis",n)},xje=(t,e,n)=>{var r={},i=t.filter(qw),s=t.filter(d=>d.stackId==null),a=i.reduce((d,f)=>(d[f.stackId]||(d[f.stackId]=[]),d[f.stackId].push(f),d),r),l=Object.entries(a).map(d=>{var[f,m]=d,y=m.map(_=>_.dataKey),v=xU(e,n,m[0].barSize);return{stackId:f,dataKeys:y,barSize:v}}),u=s.map(d=>{var f=[d.dataKey].filter(y=>y!=null),m=xU(e,n,d.barSize);return{stackId:void 0,dataKeys:f,barSize:m}});return[...l,...u]},wje=oe([yje,PAe,bje],xje),_je=(t,e,n,r,i)=>{var s,a,l=Yg(t,e,n,r,i);if(l!=null){var u=Tt(t),d=mW(t),{maxBarSize:f}=l,m=dn(f)?d:f,y,v;return u==="horizontal"?(y=wc(t,"xAxis",e,r),v=xc(t,"xAxis",e,r)):(y=wc(t,"yAxis",n,r),v=xc(t,"yAxis",n,r)),(s=(a=qf(y,v,!0))!==null&&a!==void 0?a:m)!==null&&s!==void 0?s:0}},gG=(t,e,n,r)=>{var i=Tt(t),s,a;return i==="horizontal"?(s=wc(t,"xAxis",e,r),a=xc(t,"xAxis",e,r)):(s=wc(t,"yAxis",n,r),a=xc(t,"yAxis",n,r)),qf(s,a)};function Eje(t,e,n,r,i){var s=r.length;if(!(s<1)){var a=ia(t,n,0,!0),l,u=[];if(On(r[0].barSize)){var d=!1,f=n/s,m=r.reduce((A,C)=>A+(C.barSize||0),0);m+=(s-1)*a,m>=n&&(m-=(s-1)*a,a=0),m>=n&&f>0&&(d=!0,f*=.9,m=s*f);var y=(n-m)/2>>0,v={offset:y-a,size:0};l=r.reduce((A,C)=>{var P,L={stackId:C.stackId,dataKeys:C.dataKeys,position:{offset:v.offset+v.size+a,size:d?f:(P=C.barSize)!==null&&P!==void 0?P:0}},M=[...A,L];return v=M[M.length-1].position,M},u)}else{var _=ia(e,n,0,!0);n-2*_-(s-1)*a<=0&&(a=0);var E=(n-2*_-(s-1)*a)/s;E>1&&(E>>=0);var w=On(i)?Math.min(E,i):E;l=r.reduce((A,C,P)=>[...A,{stackId:C.stackId,dataKeys:C.dataKeys,position:{offset:_+(E+a)*P+(E-w)/2,size:w}}],u)}return l}}var Sje=(t,e,n,r,i,s,a)=>{var l=dn(a)?e:a,u=Eje(n,r,i!==s?i:s,t,l);return i!==s&&u!=null&&(u=u.map(d=>ov(ov({},d),{},{position:ov(ov({},d.position),{},{offset:d.position.offset-i/2})}))),u},Tje=oe([wje,mW,CAe,pW,_je,gG,pje],Sje),Aje=(t,e,n,r)=>wc(t,"xAxis",e,r),Nje=(t,e,n,r)=>wc(t,"yAxis",n,r),Cje=(t,e,n,r)=>xc(t,"xAxis",e,r),Pje=(t,e,n,r)=>xc(t,"yAxis",n,r),Ije=oe([Tje,Yg],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),Oje=(t,e)=>{var n=EI(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:s}=i;if(s)return s.find(a=>a.key===n)}}}},jje=oe([vje,Yg],Oje),Rje=oe([wr,zP,Aje,Nje,Cje,Pje,Ije,Tt,Uw,gG,jje,Yg,gje],(t,e,n,r,i,s,a,l,u,d,f,m,y)=>{var{chartData:v,dataStartIndex:_,dataEndIndex:E}=u;if(!(m==null||a==null||e==null||l!=="horizontal"&&l!=="vertical"||n==null||r==null||i==null||s==null||d==null)){var{data:w}=m,A;if(w!=null&&w.length>0?A=w:A=v?.slice(_,E+1),A!=null)return aje({layout:l,barSettings:m,pos:a,parentViewBox:e,bandSize:d,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:s,stackedData:f,displayedData:A,offset:t,cells:y,dataStartIndex:_})}}),kje=t=>{var{chartData:e}=t,n=gn(),r=Yr();return T.useEffect(()=>r?()=>{}:(n(OV(e)),()=>{n(OV(void 0))}),[e,n,r]),null},wU={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},yG=Ii({name:"brush",initialState:wU,reducers:{setBrushSettings(t,e){return e.payload==null?wU:e.payload}}}),{setBrushSettings:YMe}=yG.actions,Mje=yG.reducer;function Dje(t,e,n){return(e=Lje(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lje(t){var e=Vje(t,"string");return typeof e=="symbol"?e:e+""}function Vje(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class KI{static create(e){return new KI(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}default:return this.scale(e)}if(n){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}Dje(KI,"EPS",1e-4);function Uje(t){return(t%180+180)%180}var zje=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=Uje(i),a=s*Math.PI/180,l=Math.atan(r/n),u=a>l&&a<Math.PI-l?r/Math.sin(a):n/Math.cos(a);return Math.abs(u)},Bje={dots:[],areas:[],lines:[]},vG=Ii({name:"referenceElements",initialState:Bje,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=Zs(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=Zs(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=Zs(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:XMe,removeDot:QMe,addArea:ZMe,removeArea:JMe,addLine:eDe,removeLine:tDe}=vG.actions,Fje=vG.reducer,$je=T.createContext(void 0),qje=t=>{var{children:e}=t,[n]=T.useState("".concat(Fp("recharts"),"-clip")),r=HI();if(r==null)return null;var{x:i,y:s,width:a,height:l}=r;return T.createElement($je.Provider,{value:n},T.createElement("defs",null,T.createElement("clipPath",{id:n},T.createElement("rect",{x:i,y:s,height:l,width:a}))),e)};function bG(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e)n.push(t[r]);return n}function Hje(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return zje(r,n)}function Wje(t,e,n){var r=n==="width",{x:i,y:s,width:a,height:l}=t;return e===1?{start:r?i:s,end:r?i+a:s+l}:{start:r?i+a:s+l,end:r?i:s}}function fx(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function Kje(t,e){return bG(t,e+1)}function Gje(t,e,n,r,i){for(var s=(r||[]).slice(),{start:a,end:l}=e,u=0,d=1,f=a,m=function(){var _=r?.[u];if(_===void 0)return{v:bG(r,d)};var E=u,w,A=()=>(w===void 0&&(w=n(_,E)),w),C=_.coordinate,P=u===0||fx(t,C,A,f,l);P||(u=0,f=a,d+=1),P&&(f=C+t*(A()/2+i),u+=d)},y;d<=s.length;)if(y=m(),y)return y.v;return[]}function _U(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Br(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_U(Object(n),!0).forEach(function(r){Yje(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_U(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yje(t,e,n){return(e=Xje(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xje(t){var e=Qje(t,"string");return typeof e=="symbol"?e:e+""}function Qje(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zje(t,e,n,r,i){for(var s=(r||[]).slice(),a=s.length,{start:l}=e,{end:u}=e,d=function(y){var v=s[y],_,E=()=>(_===void 0&&(_=n(v,y)),_);if(y===a-1){var w=t*(v.coordinate+t*E()/2-u);s[y]=v=Br(Br({},v),{},{tickCoord:w>0?v.coordinate-w*t:v.coordinate})}else s[y]=v=Br(Br({},v),{},{tickCoord:v.coordinate});if(v.tickCoord!=null){var A=fx(t,v.tickCoord,E,l,u);A&&(u=v.tickCoord-t*(E()/2+i),s[y]=Br(Br({},v),{},{isShow:!0}))}},f=a-1;f>=0;f--)d(f);return s}function Jje(t,e,n,r,i,s){var a=(r||[]).slice(),l=a.length,{start:u,end:d}=e;if(s){var f=r[l-1],m=n(f,l-1),y=t*(f.coordinate+t*m/2-d);if(a[l-1]=f=Br(Br({},f),{},{tickCoord:y>0?f.coordinate-y*t:f.coordinate}),f.tickCoord!=null){var v=fx(t,f.tickCoord,()=>m,u,d);v&&(d=f.tickCoord-t*(m/2+i),a[l-1]=Br(Br({},f),{},{isShow:!0}))}}for(var _=s?l-1:l,E=function(C){var P=a[C],L,M=()=>(L===void 0&&(L=n(P,C)),L);if(C===0){var z=t*(P.coordinate-t*M()/2-u);a[C]=P=Br(Br({},P),{},{tickCoord:z<0?P.coordinate-z*t:P.coordinate})}else a[C]=P=Br(Br({},P),{},{tickCoord:P.coordinate});if(P.tickCoord!=null){var j=fx(t,P.tickCoord,M,u,d);j&&(u=P.tickCoord+t*(M()/2+i),a[C]=Br(Br({},P),{},{isShow:!0}))}},w=0;w<_;w++)E(w);return a}function GI(t,e,n){var{tick:r,ticks:i,viewBox:s,minTickGap:a,orientation:l,interval:u,tickFormatter:d,unit:f,angle:m}=t;if(!i||!i.length||!r)return[];if(je(u)||Mg.isSsr){var y;return(y=Kje(i,je(u)?u:0))!==null&&y!==void 0?y:[]}var v=[],_=l==="top"||l==="bottom"?"width":"height",E=f&&_==="width"?yp(f,{fontSize:e,letterSpacing:n}):{width:0,height:0},w=(P,L)=>{var M=typeof d=="function"?d(P.value,L):P.value;return _==="width"?Hje(yp(M,{fontSize:e,letterSpacing:n}),E,m):yp(M,{fontSize:e,letterSpacing:n})[_]},A=i.length>=2?Ni(i[1].coordinate-i[0].coordinate):1,C=Wje(s,A,_);return u==="equidistantPreserveStart"?Gje(A,C,w,i,a):(u==="preserveStart"||u==="preserveStartEnd"?v=Jje(A,C,w,i,a,u==="preserveStartEnd"):v=Zje(A,C,w,i,a),v.filter(P=>P.isShow))}var eRe=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:s=0}=t,a=0;if(e){Array.from(e).forEach(f=>{if(f){var m=f.getBoundingClientRect();m.width>a&&(a=m.width)}});var l=n?n.getBoundingClientRect().width:0,u=i+s,d=a+u+l+(n?r:0);return Math.round(d)}return 0},tRe=["axisLine","width","height","className","hide","ticks","axisType"];function nRe(t,e){if(t==null)return{};var n,r,i=rRe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function rRe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Ju(){return Ju=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ju.apply(null,arguments)}function EU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EU(Object(n),!0).forEach(function(r){iRe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iRe(t,e,n){return(e=sRe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sRe(t){var e=aRe(t,"string");return typeof e=="symbol"?e:e+""}function aRe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Mo={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:yr.axis};function oRe(t){var{x:e,y:n,width:r,height:i,orientation:s,mirror:a,axisLine:l,otherSvgProps:u}=t;if(!l)return null;var d=Fn(Fn(Fn({},u),na(l)),{},{fill:"none"});if(s==="top"||s==="bottom"){var f=+(s==="top"&&!a||s==="bottom"&&a);d=Fn(Fn({},d),{},{x1:e,y1:n+f*i,x2:e+r,y2:n+f*i})}else{var m=+(s==="left"&&!a||s==="right"&&a);d=Fn(Fn({},d),{},{x1:e+m*r,y1:n,x2:e+m*r,y2:n+i})}return T.createElement("line",Ju({},d,{className:Lt("recharts-cartesian-axis-line",Bf(l,"className"))}))}function lRe(t,e,n,r,i,s,a,l,u){var d,f,m,y,v,_,E=l?-1:1,w=t.tickSize||a,A=je(t.tickCoord)?t.tickCoord:t.coordinate;switch(s){case"top":d=f=t.coordinate,y=n+ +!l*i,m=y-E*w,_=m-E*u,v=A;break;case"left":m=y=t.coordinate,f=e+ +!l*r,d=f-E*w,v=d-E*u,_=A;break;case"right":m=y=t.coordinate,f=e+ +l*r,d=f+E*w,v=d+E*u,_=A;break;default:d=f=t.coordinate,y=n+ +l*i,m=y+E*w,_=m+E*u,v=A;break}return{line:{x1:d,y1:m,x2:f,y2:y},tick:{x:v,y:_}}}function cRe(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function uRe(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function dRe(t){var{option:e,tickProps:n,value:r}=t,i,s=Lt(n.className,"recharts-cartesian-axis-tick-value");if(T.isValidElement(e))i=T.cloneElement(e,Fn(Fn({},n),{},{className:s}));else if(typeof e=="function")i=e(Fn(Fn({},n),{},{className:s}));else{var a="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(a=Lt(a,e?.className)),i=T.createElement($I,Ju({},n,{className:a}),r)}return i}var fRe=T.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:s,tickFormatter:a,unit:l,padding:u,tickTextProps:d,orientation:f,mirror:m,x:y,y:v,width:_,height:E,tickSize:w,tickMargin:A,fontSize:C,letterSpacing:P,getTicksConfig:L,events:M,axisType:z}=t,j=GI(Fn(Fn({},L),{},{ticks:n}),C,P),R=cRe(f,m),D=uRe(f,m),B=na(L),V=Ag(r),$={};typeof i=="object"&&($=i);var q=Fn(Fn({},B),{},{fill:"none"},$),xe=j.map(ee=>Fn({entry:ee},lRe(ee,y,v,_,E,f,w,m,A))),be=xe.map(ee=>{var{entry:he,line:Y}=ee;return T.createElement(Ss,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(he.value,"-").concat(he.coordinate,"-").concat(he.tickCoord)},i&&T.createElement("line",Ju({},q,Y,{className:Lt("recharts-cartesian-axis-tick-line",Bf(i,"className"))})))}),X=xe.map((ee,he)=>{var{entry:Y,tick:H}=ee,k=Fn(Fn(Fn(Fn({textAnchor:R,verticalAnchor:D},B),{},{stroke:"none",fill:s},V),H),{},{index:he,payload:Y,visibleTicksCount:j.length,tickFormatter:a,padding:u},d);return T.createElement(Ss,Ju({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(Y.value,"-").concat(Y.coordinate,"-").concat(Y.tickCoord)},dw(M,Y,he)),r&&T.createElement(dRe,{option:r,tickProps:k,value:"".concat(typeof a=="function"?a(Y.value,he):Y.value).concat(l||"")}))});return T.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(z,"-ticks")},X.length>0&&T.createElement(Is,{zIndex:yr.label},T.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(z,"-tick-labels"),ref:e},X)),be.length>0&&T.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(z,"-tick-lines")},be))}),hRe=T.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:s,hide:a,ticks:l,axisType:u}=t,d=nRe(t,tRe),[f,m]=T.useState(""),[y,v]=T.useState(""),_=T.useRef(null);T.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var w;return eRe({ticks:_.current,label:(w=t.labelRef)===null||w===void 0?void 0:w.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var E=T.useCallback(w=>{if(w){var A=w.getElementsByClassName("recharts-cartesian-axis-tick-value");_.current=A;var C=A[0];if(C){var P=window.getComputedStyle(C),L=P.fontSize,M=P.letterSpacing;(L!==f||M!==y)&&(m(L),v(M))}}},[f,y]);return a||r!=null&&r<=0||i!=null&&i<=0?null:T.createElement(Is,{zIndex:t.zIndex},T.createElement(Ss,{className:Lt("recharts-cartesian-axis",s)},T.createElement(oRe,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:na(t)}),T.createElement(fRe,{ref:E,axisType:u,events:d,fontSize:f,getTicksConfig:t,height:t.height,letterSpacing:y,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:l,unit:t.unit,width:t.width,x:t.x,y:t.y}),T.createElement(SPe,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},T.createElement(kPe,{label:t.label,labelRef:t.labelRef}),t.children)))}),YI=T.forwardRef((t,e)=>{var n=Mr(t,Mo);return T.createElement(hRe,Ju({},n,{ref:e}))});YI.displayName="CartesianAxis";var mRe=["x1","y1","x2","y2","key"],pRe=["offset"],gRe=["xAxisId","yAxisId"],yRe=["xAxisId","yAxisId"];function SU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SU(Object(n),!0).forEach(function(r){vRe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vRe(t,e,n){return(e=bRe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bRe(t){var e=xRe(t,"string");return typeof e=="symbol"?e:e+""}function xRe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cu(){return Cu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cu.apply(null,arguments)}function hx(t,e){if(t==null)return{};var n,r,i=wRe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function wRe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var _Re=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:s,height:a,ry:l}=t;return T.createElement("rect",{x:r,y:i,ry:l,width:s,height:a,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function xG(t){var{option:e,lineItemProps:n}=t,r;if(T.isValidElement(e))r=T.cloneElement(e,n);else if(typeof e=="function")r=e(n);else{var i,{x1:s,y1:a,x2:l,y2:u,key:d}=n,f=hx(n,mRe),m=(i=na(f))!==null&&i!==void 0?i:{},{offset:y}=m,v=hx(m,pRe);r=T.createElement("line",Cu({},v,{x1:s,y1:a,x2:l,y2:u,fill:"none",key:d}))}return r}function ERe(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:a}=t,l=hx(t,gRe),u=i.map((d,f)=>{var m=Hr(Hr({},l),{},{x1:e,y1:d,x2:e+n,y2:d,key:"line-".concat(f),index:f});return T.createElement(xG,{key:"line-".concat(f),option:r,lineItemProps:m})});return T.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function SRe(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:a}=t,l=hx(t,yRe),u=i.map((d,f)=>{var m=Hr(Hr({},l),{},{x1:d,y1:e,x2:d,y2:e+n,key:"line-".concat(f),index:f});return T.createElement(xG,{option:r,lineItemProps:m,key:"line-".concat(f)})});return T.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function TRe(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:s,height:a,horizontalPoints:l,horizontal:u=!0}=t;if(!u||!e||!e.length||l==null)return null;var d=l.map(m=>Math.round(m+i-i)).sort((m,y)=>m-y);i!==d[0]&&d.unshift(0);var f=d.map((m,y)=>{var v=!d[y+1],_=v?i+a-m:d[y+1]-m;if(_<=0)return null;var E=y%e.length;return T.createElement("rect",{key:"react-".concat(y),y:m,x:r,height:_,width:s,stroke:"none",fill:e[E],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return T.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function ARe(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:s,width:a,height:l,verticalPoints:u}=t;if(!e||!n||!n.length)return null;var d=u.map(m=>Math.round(m+i-i)).sort((m,y)=>m-y);i!==d[0]&&d.unshift(0);var f=d.map((m,y)=>{var v=!d[y+1],_=v?i+a-m:d[y+1]-m;if(_<=0)return null;var E=y%n.length;return T.createElement("rect",{key:"react-".concat(y),x:m,y:s,width:_,height:l,stroke:"none",fill:n[E],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return T.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var NRe=(t,e)=>{var{xAxis:n,width:r,height:i,offset:s}=t;return Kq(GI(Hr(Hr(Hr({},Mo),n),{},{ticks:Gq(n),viewBox:{x:0,y:0,width:r,height:i}})),s.left,s.left+s.width,e)},CRe=(t,e)=>{var{yAxis:n,width:r,height:i,offset:s}=t;return Kq(GI(Hr(Hr(Hr({},Mo),n),{},{ticks:Gq(n),viewBox:{x:0,y:0,width:r,height:i}})),s.top,s.top+s.height,e)},PRe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:yr.grid};function wG(t){var e=FP(),n=$P(),r=eH(),i=Hr(Hr({},Mr(t,PRe)),{},{x:je(t.x)?t.x:r.left,y:je(t.y)?t.y:r.top,width:je(t.width)?t.width:r.width,height:je(t.height)?t.height:r.height}),{xAxisId:s,yAxisId:a,x:l,y:u,width:d,height:f,syncWithTicks:m,horizontalValues:y,verticalValues:v}=i,_=Yr(),E=Re(D=>bV(D,"xAxis",s,_)),w=Re(D=>bV(D,"yAxis",a,_));if(!Ha(d)||!Ha(f)||!je(l)||!je(u))return null;var A=i.verticalCoordinatesGenerator||NRe,C=i.horizontalCoordinatesGenerator||CRe,{horizontalPoints:P,verticalPoints:L}=i;if((!P||!P.length)&&typeof C=="function"){var M=y&&y.length,z=C({yAxis:w?Hr(Hr({},w),{},{ticks:M?y:w.ticks}):void 0,width:e??d,height:n??f,offset:r},M?!0:m);Vb(Array.isArray(z),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof z,"]")),Array.isArray(z)&&(P=z)}if((!L||!L.length)&&typeof A=="function"){var j=v&&v.length,R=A({xAxis:E?Hr(Hr({},E),{},{ticks:j?v:E.ticks}):void 0,width:e??d,height:n??f,offset:r},j?!0:m);Vb(Array.isArray(R),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof R,"]")),Array.isArray(R)&&(L=R)}return T.createElement(Is,{zIndex:i.zIndex},T.createElement("g",{className:"recharts-cartesian-grid"},T.createElement(_Re,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),T.createElement(TRe,Cu({},i,{horizontalPoints:P})),T.createElement(ARe,Cu({},i,{verticalPoints:L})),T.createElement(ERe,Cu({},i,{offset:r,horizontalPoints:P,xAxis:E,yAxis:w})),T.createElement(SRe,Cu({},i,{offset:r,verticalPoints:L,xAxis:E,yAxis:w}))))}wG.displayName="CartesianGrid";var _G=(t,e,n,r)=>wc(t,"xAxis",e,r),EG=(t,e,n,r)=>xc(t,"xAxis",e,r),SG=(t,e,n,r)=>wc(t,"yAxis",n,r),TG=(t,e,n,r)=>xc(t,"yAxis",n,r),IRe=oe([Tt,_G,SG,EG,TG],(t,e,n,r,i)=>Ic(t,"xAxis")?qf(e,r,!1):qf(n,i,!1)),ORe=(t,e,n,r,i)=>i;function jRe(t){return t.type==="line"}var RRe=oe([Kw,ORe],(t,e)=>t.filter(jRe).find(n=>n.id===e)),kRe=oe([Tt,_G,SG,EG,TG,RRe,IRe,Uw],(t,e,n,r,i,s,a,l)=>{var{chartData:u,dataStartIndex:d,dataEndIndex:f}=l;if(!(s==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||a==null||t!=="horizontal"&&t!=="vertical")){var{dataKey:m,data:y}=s,v;if(y!=null&&y.length>0?v=y:v=u?.slice(d,f+1),v!=null)return tke({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:m,bandSize:a,displayedData:v})}});function MRe(t){var e=Ag(t),n=3,r=2;if(e!=null){var{r:i,strokeWidth:s}=e,a=Number(i),l=Number(s);return(Number.isNaN(a)||a<0)&&(a=n),(Number.isNaN(l)||l<0)&&(l=r),{r:a,strokeWidth:l}}return{r:n,strokeWidth:r}}var DRe=["id"],LRe=["type","layout","connectNulls","needClip","shape"],VRe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function ng(){return ng=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ng.apply(null,arguments)}function TU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Oa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TU(Object(n),!0).forEach(function(r){URe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function URe(t,e,n){return(e=zRe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zRe(t){var e=BRe(t,"string");return typeof e=="symbol"?e:e+""}function BRe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function XI(t,e){if(t==null)return{};var n,r,i=FRe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function FRe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var $Re=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:r,value:ww(n,e),payload:t}]},qRe=T.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:s,name:a,hide:l,unit:u,tooltipType:d}=t,f={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:s,dataKey:e,nameKey:void 0,name:ww(a,e),hide:l,type:d,color:r,unit:u}};return T.createElement(iG,{tooltipEntrySettings:f})}),AG=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function HRe(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var WRe=(t,e,n)=>{var r=n.reduce((m,y)=>m+y);if(!r)return AG(e,t);for(var i=Math.floor(t/r),s=t%r,a=e-t,l=[],u=0,d=0;u<n.length;d+=n[u],++u)if(d+n[u]>s){l=[...n.slice(0,u),s-d];break}var f=l.length%2===0?[0,a]:[a];return[...HRe(n,i),...l,...f].map(m=>"".concat(m,"px")).join(", ")};function KRe(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:s,needClip:a}=r,{id:l}=r,u=XI(r,DRe),d=na(u);return T.createElement(kIe,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:s,baseProps:d,needClip:a,clipPathId:e})}function GRe(t){var{showLabels:e,children:n,points:r}=t,i=T.useMemo(()=>r?.map(s=>{var a,l,u={x:(a=s.x)!==null&&a!==void 0?a:0,y:(l=s.y)!==null&&l!==void 0?l:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Oa(Oa({},u),{},{value:s.value,payload:s.payload,viewBox:u,parentViewBox:void 0,fill:void 0})}),[r]);return T.createElement(KK,{value:e?i:void 0},n)}function AU(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:s}=t,{type:a,layout:l,connectNulls:u,needClip:d,shape:f}=s,m=XI(s,LRe),y=Oa(Oa({},ci(m)),{},{fill:"none",className:"recharts-line-curve",clipPath:d?"url(#clipPath-".concat(e,")"):void 0,points:r,type:a,layout:l,connectNulls:u,strokeDasharray:i??s.strokeDasharray});return T.createElement(T.Fragment,null,r?.length>1&&T.createElement(eG,ng({shapeType:"curve",option:f},y,{pathRef:n})),T.createElement(KRe,{points:r,clipPathId:e,props:s}))}function YRe(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function XRe(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:s}=t,{points:a,strokeDasharray:l,isAnimationActive:u,animationBegin:d,animationDuration:f,animationEasing:m,animateNewValues:y,width:v,height:_,onAnimationEnd:E,onAnimationStart:w}=n,A=i.current,C=jw(a,"recharts-line-"),P=T.useRef(C),[L,M]=T.useState(!1),z=!L,j=T.useCallback(()=>{typeof E=="function"&&E(),M(!1)},[E]),R=T.useCallback(()=>{typeof w=="function"&&w(),M(!0)},[w]),D=YRe(r.current),B=T.useRef(0);P.current!==C&&(B.current=s.current,P.current=C);var V=B.current;return T.createElement(GRe,{points:a,showLabels:z},n.children,T.createElement(Ow,{animationId:C,begin:d,duration:f,isActive:u,easing:m,onAnimationEnd:j,onAnimationStart:R,key:C},$=>{var q=xn(V,D+V,$),xe=Math.min(q,D),be;if(u)if(l){var X="".concat(l).split(/[,\s]+/gim).map(Y=>parseFloat(Y));be=WRe(xe,D,X)}else be=AG(D,xe);else be=l==null?void 0:String(l);if($>0&&D>0&&(i.current=a,s.current=Math.max(s.current,xe)),A){var ee=A.length/a.length,he=$===1?a:a.map((Y,H)=>{var k=Math.floor(H*ee);if(A[k]){var K=A[k];return Oa(Oa({},Y),{},{x:xn(K.x,Y.x,$),y:xn(K.y,Y.y,$)})}return y?Oa(Oa({},Y),{},{x:xn(v*2,Y.x,$),y:xn(_/2,Y.y,$)}):Oa(Oa({},Y),{},{x:Y.x,y:Y.y})});return i.current=he,T.createElement(AU,{props:n,points:he,clipPathId:e,pathRef:r,strokeDasharray:be})}return T.createElement(AU,{props:n,points:a,clipPathId:e,pathRef:r,strokeDasharray:be})}),T.createElement(YK,{label:n.label}))}function QRe(t){var{clipPathId:e,props:n}=t,r=T.useRef(null),i=T.useRef(0),s=T.useRef(null);return T.createElement(XRe,{props:n,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:s})}var ZRe=(t,e)=>{var n,r;return{x:(n=t.x)!==null&&n!==void 0?n:void 0,y:(r=t.y)!==null&&r!==void 0?r:void 0,value:t.value,errorVal:tr(t.payload,e)}};class JRe extends T.Component{render(){var{hide:e,dot:n,points:r,className:i,xAxisId:s,yAxisId:a,top:l,left:u,width:d,height:f,id:m,needClip:y,zIndex:v}=this.props;if(e)return null;var _=Lt("recharts-line",i),E=m,{r:w,strokeWidth:A}=MRe(n),C=JK(n),P=w*2+A,L=y?"url(#clipPath-".concat(C?"":"dots-").concat(E,")"):void 0;return T.createElement(Is,{zIndex:v},T.createElement(Ss,{className:_},y&&T.createElement("defs",null,T.createElement(hG,{clipPathId:E,xAxisId:s,yAxisId:a}),!C&&T.createElement("clipPath",{id:"clipPath-dots-".concat(E)},T.createElement("rect",{x:u-P/2,y:l-P/2,width:d+P,height:f+P}))),T.createElement(fG,{xAxisId:s,yAxisId:a,data:r,dataPointFormatter:ZRe,errorBarOffset:0},T.createElement(QRe,{props:this.props,clipPathId:E}))),T.createElement(eOe,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:L}))}}var NG={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:yr.line,type:"linear"};function eke(t){var e=Mr(t,NG),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:s,animationEasing:a,connectNulls:l,dot:u,hide:d,isAnimationActive:f,label:m,legendType:y,xAxisId:v,yAxisId:_,id:E}=e,w=XI(e,VRe),{needClip:A}=WI(v,_),C=HI(),P=Rg(),L=Yr(),M=Re(B=>kRe(B,v,_,L,E));if(P!=="horizontal"&&P!=="vertical"||M==null||C==null)return null;var{height:z,width:j,x:R,y:D}=C;return T.createElement(JRe,ng({},w,{id:E,connectNulls:l,dot:u,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:s,animationEasing:a,isAnimationActive:f,hide:d,label:m,legendType:y,xAxisId:v,yAxisId:_,points:M,layout:P,height:z,width:j,left:R,top:D,needClip:A}))}function tke(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:s,dataKey:a,bandSize:l,displayedData:u}=t;return u.map((d,f)=>{var m=tr(d,a);if(e==="horizontal"){var y=V3({axis:n,ticks:i,bandSize:l,entry:d,index:f}),v=dn(m)?null:r.scale(m);return{x:y,y:v,value:m,payload:d}}var _=dn(m)?null:n.scale(m),E=V3({axis:r,ticks:s,bandSize:l,entry:d,index:f});return _==null||E==null?null:{x:_,y:E,value:m,payload:d}}).filter(Boolean)}function nke(t){var e=Mr(t,NG),n=Yr();return T.createElement(oG,{id:e.id,type:"line"},r=>T.createElement(T.Fragment,null,T.createElement(sG,{legendPayload:$Re(e)}),T.createElement(qRe,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType}),T.createElement(cG,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),T.createElement(eke,ng({},e,{id:r}))))}var CG=T.memo(nke,Qw);CG.displayName="Line";var rke=["domain","range"],ike=["domain","range"];function NU(t,e){if(t==null)return{};var n,r,i=ske(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ske(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function CU(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function PG(t,e){if(t===e)return!0;var{domain:n,range:r}=t,i=NU(t,rke),{domain:s,range:a}=e,l=NU(e,ike);return!CU(n,s)||!CU(r,a)?!1:Qw(i,l)}var ake=["dangerouslySetInnerHTML","ticks"],oke=["id"];function qN(){return qN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qN.apply(null,arguments)}function PU(t,e){if(t==null)return{};var n,r,i=lke(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function lke(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function cke(t){var e=gn(),n=T.useRef(null);return T.useLayoutEffect(()=>{n.current===null?e(UIe(t)):n.current!==t&&e(zIe({prev:n.current,next:t})),n.current=t},[t,e]),T.useLayoutEffect(()=>()=>{n.current&&(e(BIe(n.current)),n.current=null)},[e]),null}var uke=t=>{var{xAxisId:e,className:n}=t,r=Re(zP),i=Yr(),s="xAxis",a=Re(w=>xh(w,s,e,i)),l=Re(w=>sK(w,s,e,i)),u=Re(w=>tK(w,e)),d=Re(w=>ANe(w,e)),f=Re(w=>SW(w,e));if(u==null||d==null||f==null)return null;var{dangerouslySetInnerHTML:m,ticks:y}=t,v=PU(t,ake),{id:_}=f,E=PU(f,oke);return T.createElement(YI,qN({},v,E,{scale:a,x:d.x,y:d.y,width:u.width,height:u.height,className:Lt("recharts-".concat(s," ").concat(s),n),viewBox:r,ticks:l,axisType:s}))},dke={allowDataOverflow:fr.allowDataOverflow,allowDecimals:fr.allowDecimals,allowDuplicatedCategory:fr.allowDuplicatedCategory,angle:fr.angle,axisLine:Mo.axisLine,height:fr.height,hide:!1,includeHidden:fr.includeHidden,interval:fr.interval,minTickGap:fr.minTickGap,mirror:fr.mirror,orientation:fr.orientation,padding:fr.padding,reversed:fr.reversed,scale:fr.scale,tick:fr.tick,tickCount:fr.tickCount,tickLine:Mo.tickLine,tickSize:Mo.tickSize,type:fr.type,xAxisId:0},fke=t=>{var e=Mr(t,dke);return T.createElement(T.Fragment,null,T.createElement(cke,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),T.createElement(uke,e))},IG=T.memo(fke,PG);IG.displayName="XAxis";var hke=["dangerouslySetInnerHTML","ticks"],mke=["id"];function HN(){return HN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},HN.apply(null,arguments)}function IU(t,e){if(t==null)return{};var n,r,i=pke(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function pke(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function gke(t){var e=gn(),n=T.useRef(null);return T.useLayoutEffect(()=>{n.current===null?e(FIe(t)):n.current!==t&&e($Ie({prev:n.current,next:t})),n.current=t},[t,e]),T.useLayoutEffect(()=>()=>{n.current&&(e(qIe(n.current)),n.current=null)},[e]),null}var yke=t=>{var{yAxisId:e,className:n,width:r,label:i}=t,s=T.useRef(null),a=T.useRef(null),l=Re(zP),u=Yr(),d=gn(),f="yAxis",m=Re(M=>xh(M,f,e,u)),y=Re(M=>nK(M,e)),v=Re(M=>CNe(M,e)),_=Re(M=>sK(M,f,e,u)),E=Re(M=>TW(M,e));if(T.useLayoutEffect(()=>{if(!(r!=="auto"||!y||qI(i)||T.isValidElement(i)||E==null)){var M=s.current;if(M){var z=M.getCalculatedWidth();Math.round(y.width)!==Math.round(z)&&d(HIe({id:e,width:z}))}}},[_,y,d,i,e,r,E]),y==null||v==null||E==null)return null;var{dangerouslySetInnerHTML:w,ticks:A}=t,C=IU(t,hke),{id:P}=E,L=IU(E,mke);return T.createElement(YI,HN({},C,L,{ref:s,labelRef:a,scale:m,x:v.x,y:v.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:y.width,height:y.height,className:Lt("recharts-".concat(f," ").concat(f),n),viewBox:l,ticks:_,axisType:f}))},vke={allowDataOverflow:hr.allowDataOverflow,allowDecimals:hr.allowDecimals,allowDuplicatedCategory:hr.allowDuplicatedCategory,angle:hr.angle,axisLine:Mo.axisLine,hide:!1,includeHidden:hr.includeHidden,interval:hr.interval,minTickGap:hr.minTickGap,mirror:hr.mirror,orientation:hr.orientation,padding:hr.padding,reversed:hr.reversed,scale:hr.scale,tick:hr.tick,tickCount:hr.tickCount,tickLine:Mo.tickLine,tickSize:Mo.tickSize,type:hr.type,width:hr.width,yAxisId:0},bke=t=>{var e=Mr(t,vke);return T.createElement(T.Fragment,null,T.createElement(gke,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),T.createElement(yke,e))},WN=T.memo(bke,PG);WN.displayName="YAxis";var xke=(t,e)=>e,QI=oe([xke,Tt,_W,ir,wK,il,$Ce,wr],XCe),ZI=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},OG=Ts("mouseClick"),jG=Og();jG.startListening({actionCreator:OG,effect:(t,e)=>{var n=t.payload,r=QI(e.getState(),ZI(n));r?.activeIndex!=null&&e.dispatch(FNe({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var KN=Ts("mouseMove"),RG=Og(),lv=null;RG.startListening({actionCreator:KN,effect:(t,e)=>{var n=t.payload;lv!==null&&cancelAnimationFrame(lv);var r=ZI(n);lv=requestAnimationFrame(()=>{var i=e.getState(),s=RI(i,i.tooltip.settings.shared);if(s==="axis"){var a=QI(i,r);a?.activeIndex!=null?e.dispatch(hK({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):e.dispatch(fK())}lv=null})}});var OU={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},kG=Ii({name:"rootProps",initialState:OU,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:OU.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),wke=kG.reducer,{updateOptions:_ke}=kG.actions,MG=Ii({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:nDe}=MG.actions,Eke=MG.reducer,DG=Ts("keyDown"),LG=Ts("focus"),JI=Og();JI.startListening({actionCreator:DG,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,s=t.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var a=kI(i,_h(n),Fg(n),Kg(n)),l=a==null?-1:Number(a);if(!(!Number.isFinite(l)||l<0)){var u=il(n);if(s==="Enter"){var d=sx(n,"axis","hover",String(i.index));e.dispatch(LN({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:d}));return}var f=jNe(n),m=f==="left-to-right"?1:-1,y=s==="ArrowRight"?1:-1,v=l+y*m;if(!(u==null||v>=u.length||v<0)){var _=sx(n,"axis","hover",String(v));e.dispatch(LN({active:!0,activeIndex:v.toString(),activeDataKey:void 0,activeCoordinate:_}))}}}}}});JI.startListening({actionCreator:LG,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var s="0",a=sx(n,"axis","hover",String(s));e.dispatch(LN({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:a}))}}}});var ps=Ts("externalEvent"),VG=Og(),IT=new Map;VG.startListening({actionCreator:ps,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var i=r.type,s=IT.get(i);s!==void 0&&cancelAnimationFrame(s);var a=requestAnimationFrame(()=>{try{var l=e.getState(),u={activeCoordinate:NCe(l),activeDataKey:TK(l),activeIndex:Zu(l),activeLabel:SK(l),activeTooltipIndex:Zu(l),isTooltipActive:CCe(l)};n(u,r)}finally{IT.delete(i)}});IT.set(i,a)}}});var Ske=oe([wh],t=>t.tooltipItemPayloads),Tke=oe([Ske,Hg,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(l=>l.settings.dataKey===r);if(i!=null){var{positions:s}=i;if(s!=null){var a=e(s,n);return a}}}),UG=Ts("touchMove"),zG=Og();zG.startListening({actionCreator:UG,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=RI(r,r.tooltip.settings.shared);if(i==="axis"){var s=QI(r,ZI({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));s?.activeIndex!=null&&e.dispatch(hK({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var a,l=n.touches[0];if(document.elementFromPoint==null)return;var u=document.elementFromPoint(l.clientX,l.clientY);if(!u||!u.getAttribute)return;var d=u.getAttribute(f_e),f=(a=u.getAttribute(h_e))!==null&&a!==void 0?a:void 0,m=Tke(e.getState(),d,f);e.dispatch(dK({activeDataKey:f,activeIndex:d,activeCoordinate:m}))}}}});var Ake=vq({brush:Mje,cartesianAxis:WIe,chartData:C2e,errorBars:fOe,graphicalItems:SIe,layout:Kwe,legend:o1e,options:E2e,polarAxis:GPe,polarOptions:Eke,referenceElements:Fje,rootProps:wke,tooltip:$Ne,zIndex:u2e}),Nke=function(e){return vwe({reducer:Ake,preloadedState:e,middleware:n=>{var r;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([jG.middleware,RG.middleware,JI.middleware,VG.middleware,zG.middleware])},enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(Rq({type:"raf"}))},devTools:Mg.devToolsEnabled})};function Cke(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=Yr(),s=T.useRef(null);if(i)return n;s.current==null&&(s.current=Nke(e));var a=OP;return T.createElement(DOe,{context:a,store:s.current},n)}function Pke(t){var{layout:e,margin:n}=t,r=gn(),i=Yr();return T.useEffect(()=>{i||(r(qwe(e)),r($we(n)))},[r,i,e,n]),null}var Ike=T.memo(Pke,Qw);function Oke(t){var e=gn();return T.useEffect(()=>{e(_ke(t))},[e,t]),null}function jU(t){var{zIndex:e,isPanorama:n}=t,r=n?"recharts-zindex-panorama-":"recharts-zindex-",i=aG("".concat(r).concat(e)),s=gn();return T.useLayoutEffect(()=>(s(l2e({zIndex:e,elementId:i,isPanorama:n})),()=>{s(c2e({zIndex:e,isPanorama:n}))}),[s,e,i,n]),T.createElement("g",{tabIndex:-1,id:i})}function RU(t){var{children:e,isPanorama:n}=t,r=Re(ZCe);if(!r||r.length===0)return e;var i=r.filter(a=>a<0),s=r.filter(a=>a>0);return T.createElement(T.Fragment,null,i.map(a=>T.createElement(jU,{key:a,zIndex:a,isPanorama:n})),e,s.map(a=>T.createElement(jU,{key:a,zIndex:a,isPanorama:n})))}var jke=["children"];function Rke(t,e){if(t==null)return{};var n,r,i=kke(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function kke(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function mx(){return mx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mx.apply(null,arguments)}var Mke={width:"100%",height:"100%",display:"block"},Dke=T.forwardRef((t,e)=>{var n=FP(),r=$P(),i=cH();if(!Ha(n)||!Ha(r))return null;var{children:s,otherAttributes:a,title:l,desc:u}=t,d,f;return a!=null&&(typeof a.tabIndex=="number"?d=a.tabIndex:d=i?0:void 0,typeof a.role=="string"?f=a.role:f=i?"application":void 0),T.createElement(wP,mx({},a,{title:l,desc:u,role:f,tabIndex:d,width:n,height:r,style:Mke,ref:e}),s)}),Lke=t=>{var{children:e}=t,n=Re(Tw);if(!n)return null;var{width:r,height:i,y:s,x:a}=n;return T.createElement(wP,{width:r,height:i,x:a,y:s},e)},kU=T.forwardRef((t,e)=>{var{children:n}=t,r=Rke(t,jke),i=Yr();return i?T.createElement(Lke,null,T.createElement(RU,{isPanorama:!0},n)):T.createElement(Dke,mx({ref:e},r),T.createElement(RU,{isPanorama:!1},n))});function Vke(){var t=gn(),[e,n]=T.useState(null),r=Re(d_e);return T.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),s=i.width/e.offsetWidth;On(s)&&s!==r&&t(Wwe(s))}},[e,t,r]),n}function MU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Uke(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MU(Object(n),!0).forEach(function(r){zke(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zke(t,e,n){return(e=Bke(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bke(t){var e=Fke(t,"string");return typeof e=="symbol"?e:e+""}function Fke(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ed(){return ed=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ed.apply(null,arguments)}var $ke=()=>(L2e(),null);function px(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var qke=T.forwardRef((t,e)=>{var n,r,i=T.useRef(null),[s,a]=T.useState({containerWidth:px((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:px((r=t.style)===null||r===void 0?void 0:r.height)}),l=T.useCallback((d,f)=>{a(m=>{var y=Math.round(d),v=Math.round(f);return m.containerWidth===y&&m.containerHeight===v?m:{containerWidth:y,containerHeight:v}})},[]),u=T.useCallback(d=>{if(typeof e=="function"&&e(d),d!=null&&typeof ResizeObserver<"u"){var{width:f,height:m}=d.getBoundingClientRect();l(f,m);var y=_=>{var{width:E,height:w}=_[0].contentRect;l(E,w)},v=new ResizeObserver(y);v.observe(d),i.current=v}},[e,l]);return T.useEffect(()=>()=>{var d=i.current;d?.disconnect()},[l]),T.createElement(T.Fragment,null,T.createElement(Nw,{width:s.containerWidth,height:s.containerHeight}),T.createElement("div",ed({ref:u},t)))}),Hke=T.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,s]=T.useState({containerWidth:px(n),containerHeight:px(r)}),a=T.useCallback((u,d)=>{s(f=>{var m=Math.round(u),y=Math.round(d);return f.containerWidth===m&&f.containerHeight===y?f:{containerWidth:m,containerHeight:y}})},[]),l=T.useCallback(u=>{if(typeof e=="function"&&e(u),u!=null){var{width:d,height:f}=u.getBoundingClientRect();a(d,f)}},[e,a]);return T.createElement(T.Fragment,null,T.createElement(Nw,{width:i.containerWidth,height:i.containerHeight}),T.createElement("div",ed({ref:l},t)))}),Wke=T.forwardRef((t,e)=>{var{width:n,height:r}=t;return T.createElement(T.Fragment,null,T.createElement(Nw,{width:n,height:r}),T.createElement("div",ed({ref:e},t)))}),Kke=T.forwardRef((t,e)=>{var{width:n,height:r}=t;return Ho(n)||Ho(r)?T.createElement(Hke,ed({},t,{ref:e})):T.createElement(Wke,ed({},t,{ref:e}))});function Gke(t){return t===!0?qke:Kke}var Yke=T.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:s,onContextMenu:a,onDoubleClick:l,onMouseDown:u,onMouseEnter:d,onMouseLeave:f,onMouseMove:m,onMouseUp:y,onTouchEnd:v,onTouchMove:_,onTouchStart:E,style:w,width:A,responsive:C,dispatchTouchEvents:P=!0}=t,L=T.useRef(null),M=gn(),[z,j]=T.useState(null),[R,D]=T.useState(null),B=Vke(),V=BP(),$=V?.width>0?V.width:A,q=V?.height>0?V.height:i,xe=T.useCallback(Z=>{B(Z),typeof e=="function"&&e(Z),j(Z),D(Z),Z!=null&&(L.current=Z)},[B,e,j,D]),be=T.useCallback(Z=>{M(OG(Z)),M(ps({handler:s,reactEvent:Z}))},[M,s]),X=T.useCallback(Z=>{M(KN(Z)),M(ps({handler:d,reactEvent:Z}))},[M,d]),ee=T.useCallback(Z=>{M(fK()),M(ps({handler:f,reactEvent:Z}))},[M,f]),he=T.useCallback(Z=>{M(KN(Z)),M(ps({handler:m,reactEvent:Z}))},[M,m]),Y=T.useCallback(()=>{M(LG())},[M]),H=T.useCallback(Z=>{M(DG(Z.key))},[M]),k=T.useCallback(Z=>{M(ps({handler:a,reactEvent:Z}))},[M,a]),K=T.useCallback(Z=>{M(ps({handler:l,reactEvent:Z}))},[M,l]),re=T.useCallback(Z=>{M(ps({handler:u,reactEvent:Z}))},[M,u]),ce=T.useCallback(Z=>{M(ps({handler:y,reactEvent:Z}))},[M,y]),se=T.useCallback(Z=>{M(ps({handler:E,reactEvent:Z}))},[M,E]),ye=T.useCallback(Z=>{P&&M(UG(Z)),M(ps({handler:_,reactEvent:Z}))},[M,P,_]),de=T.useCallback(Z=>{M(ps({handler:v,reactEvent:Z}))},[M,v]),Se=Gke(C);return T.createElement(jK.Provider,{value:z},T.createElement(k7.Provider,{value:R},T.createElement(Se,{width:$??w?.width,height:q??w?.height,className:Lt("recharts-wrapper",r),style:Uke({position:"relative",cursor:"default",width:$,height:q},w),onClick:be,onContextMenu:k,onDoubleClick:K,onFocus:Y,onKeyDown:H,onMouseDown:re,onMouseEnter:X,onMouseLeave:ee,onMouseMove:he,onMouseUp:ce,onTouchEnd:de,onTouchMove:ye,onTouchStart:se,ref:xe},T.createElement($ke,null),n)))}),Xke=["width","height","responsive","children","className","style","compact","title","desc"];function Qke(t,e){if(t==null)return{};var n,r,i=Zke(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Zke(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Jke=T.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:s,className:a,style:l,compact:u,title:d,desc:f}=t,m=Qke(t,Xke),y=na(m);return u?T.createElement(T.Fragment,null,T.createElement(Nw,{width:n,height:r}),T.createElement(kU,{otherAttributes:y,title:d,desc:f},s)):T.createElement(Yke,{className:a,style:l,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},T.createElement(kU,{otherAttributes:y,title:d,desc:f,ref:e},T.createElement(qje,null,s)))});function GN(){return GN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},GN.apply(null,arguments)}var eMe={top:5,right:5,bottom:5,left:5},tMe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:eMe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},nMe=T.forwardRef(function(e,n){var r,i=Mr(e.categoricalChartProps,tMe),{chartName:s,defaultTooltipEventType:a,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,categoricalChartProps:d}=e,f={chartName:s,defaultTooltipEventType:a,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,eventEmitter:void 0};return T.createElement(Cke,{preloadedState:{options:f},reduxStoreName:(r=d.id)!==null&&r!==void 0?r:s},T.createElement(kje,{chartData:d.data}),T.createElement(Ike,{layout:i.layout,margin:i.margin}),T.createElement(Oke,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),T.createElement(Jke,GN({},i,{ref:n})))}),rMe=["axis"],iMe=T.forwardRef((t,e)=>T.createElement(nMe,{chartName:"ComposedChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:rMe,tooltipPayloadSearcher:w2e,categoricalChartProps:t,ref:e}));function sMe({currentExamId:t}){const[e,n]=T.useState([]),[r,i]=T.useState(!0),[s,a]=T.useState(!1),l=T.useRef(null);return T.useEffect(()=>{const u=setTimeout(()=>{a(!0)},250);if(!l.current)return()=>clearTimeout(u);const d=new ResizeObserver(f=>{for(const m of f){const{width:y,height:v}=m.contentRect;y>0&&v>0&&(a(!0),clearTimeout(u),d.disconnect())}});return d.observe(l.current),()=>{clearTimeout(u),d.disconnect()}},[]),T.useEffect(()=>{(async()=>{if(!(!mt.currentUser||!t))try{const d=Rr(en(qe,"quizAttempts"),Et("userId","==",mt.currentUser.uid),Et("examId","==",t),ch("timestamp","desc"),Ro(50)),y=(await oi(d)).docs.map(v=>({id:v.id,...v.data()})).reverse().map(v=>{const _=Math.round(v.score/v.totalQuestions*100);let E=0;return v.averageTimePerQuestion?E=Math.round(v.averageTimePerQuestion):v.timeSpent&&v.totalQuestions>0&&(E=Math.round(v.timeSpent/v.totalQuestions)),{date:new Date(v.timestamp.seconds*1e3).toLocaleDateString(void 0,{month:"short",day:"numeric"}),accuracy:_,speed:E}});n(y)}catch(d){console.error("Error fetching analytics data:",d)}finally{i(!1)}})()},[t]),r?p.jsx("div",{className:"h-64 w-full bg-slate-800/50 animate-pulse rounded-xl"}):e.length===0?p.jsx("div",{className:"h-64 w-full flex items-center justify-center text-slate-400 bg-slate-800/30 rounded-xl border border-slate-700/50",children:"No quiz data available yet."}):p.jsx("div",{className:"w-full h-[300px] md:h-[400px] relative overflow-hidden bg-slate-800/30 rounded-xl border border-slate-700/50",children:p.jsx("div",{className:"w-full h-full overflow-x-auto overflow-y-hidden scrollbar-thin scrollbar-thumb-slate-700 scrollbar-track-slate-800/50",children:p.jsx("div",{ref:l,className:"min-w-[800px] w-full h-full bg-slate-800/20 relative",style:{minHeight:"100%"},children:s&&p.jsx(B_e,{width:"100%",height:"100%",minWidth:0,minHeight:0,debounce:1,children:p.jsxs(iMe,{data:e,margin:{top:20,right:20,bottom:20,left:20},children:[p.jsx(wG,{stroke:"#334155",strokeDasharray:"3 3",vertical:!1}),p.jsx(IG,{dataKey:"date",stroke:"#94a3b8",tick:{fill:"#94a3b8"},tickLine:{stroke:"#334155"},axisLine:{stroke:"#334155"}}),p.jsx(WN,{yAxisId:"left",stroke:"#10b981",domain:[0,100],tick:{fill:"#10b981"},tickLine:{stroke:"#334155"},axisLine:{stroke:"#334155"},label:{value:"Accuracy (%)",angle:-90,position:"insideLeft",fill:"#10b981",dy:50}}),p.jsx(WN,{yAxisId:"right",orientation:"right",stroke:"#8b5cf6",tick:{fill:"#8b5cf6"},tickLine:{stroke:"#334155"},axisLine:{stroke:"#334155"},label:{value:"Avg Time (sec)",angle:90,position:"insideRight",fill:"#8b5cf6",dy:50}}),p.jsx(H2e,{contentStyle:{backgroundColor:"#1e293b",borderColor:"#334155",borderRadius:"0.75rem",color:"#f1f5f9"},itemStyle:{color:"#f1f5f9"},labelStyle:{color:"#94a3b8",marginBottom:"0.5rem"}}),p.jsx(lH,{wrapperStyle:{paddingTop:"10px"}}),p.jsx(pG,{yAxisId:"left",dataKey:"accuracy",name:"Accuracy (%)",fill:"#10b981",barSize:20,radius:[4,4,0,0],fillOpacity:.8}),p.jsx(CG,{yAxisId:"right",type:"monotone",dataKey:"speed",name:"Speed (sec/q)",stroke:"#8b5cf6",strokeWidth:3,dot:{fill:"#8b5cf6",strokeWidth:2,r:4},activeDot:{r:6,stroke:"#fff",strokeWidth:2}})]})})})})})}function aMe(){const{checkPermission:t}=Pc(),{selectedExamId:e,examName:n}=Xa(),r=jn();return p.jsxs("div",{className:"space-y-8",children:[p.jsx("div",{className:"flex items-center justify-between",children:p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-bold text-white font-display",children:"Your Statistics"}),n&&p.jsx("span",{className:"text-sm font-bold text-indigo-400 uppercase tracking-wider mb-1 block",children:n}),p.jsx("p",{className:"text-slate-400 mt-1",children:"Deep dive into your performance metrics."})]})}),p.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-sm rounded-2xl border border-slate-700 p-6",children:[p.jsx("h3",{className:"text-xl font-bold text-white font-display mb-6",children:"Performance Trends"}),p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:t("analytics")?"":"blur-md pointer-events-none opacity-50 select-none",children:p.jsx(sMe,{currentExamId:e})}),!t("analytics")&&p.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center z-10",children:[p.jsx("div",{className:"w-12 h-12 bg-slate-800 rounded-full flex items-center justify-center mb-4 shadow-xl border border-slate-700",children:p.jsx(Jx,{className:"w-6 h-6 text-brand-400"})}),p.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Pro Feature"}),p.jsx("p",{className:"text-slate-300 mb-6 text-center max-w-sm",children:"Upgrade to unlock detailed performance analytics and trends."}),p.jsx("button",{onClick:()=>r("/app/pricing"),className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-400 hover:to-purple-500 text-white font-bold py-2 px-6 rounded-lg shadow-lg hover:shadow-purple-500/25 transition-all",children:"Upgrade Now"})]})]})]})]})}const vu={"default-exam":[{name:"Process",weight:.5,topics:["Project Integration","Scope Management","Schedule","Cost","Quality","Resources","Communications","Risk","Procurement","Stakeholders"]},{name:"People",weight:.42,topics:["Conflict Resolution","Leading a Team","Supporting Team Performance","Empowering Members","Training","Building a Team"]},{name:"Business Environment",weight:.08,topics:["Compliance","delivering Value","Organizational Change"]}],pmp:[{name:"Process",weight:.5,topics:["Project Integration","Scope Management","Schedule","Cost","Quality","Resources","Communications","Risk","Procurement","Stakeholders"]},{name:"People",weight:.42,topics:["Conflict Resolution","Leading a Team","Supporting Team Performance","Empowering Members","Training","Building a Team"]},{name:"Business Environment",weight:.08,topics:["Compliance","delivering Value","Organizational Change"]}],"itil-4-foundation":[{name:"General Management Practices",weight:.3,topics:["Architecture Management","Continual Improvement","Information Security Management","Knowledge Management","Measurement and Reporting","Organizational Change Management","Portfolio Management","Project Management","Relationship Management","Risk Management","Service Financial Management","Strategy Management","Supplier Management","Workforce and Talent Management"]},{name:"Service Management Practices",weight:.5,topics:["Availability Management","Business Analysis","Capacity and Performance Management","Change Control","Incident Management","IT Asset Management","Monitoring and Event Management","Problem Management","Release Management","Service Catalogue Management","Service Configuration Management","Service Continuity Management","Service Design","Service Desk","Service Level Management","Service Request Management","Service Validation and Testing"]},{name:"Technical Management Practices",weight:.2,topics:["Deployment Management","Infrastructure and Platform Management","Software Development and Management"]}]},oMe=t=>{const e=t.toLowerCase();for(const n in vu){const i=vu[n].find(s=>s.name.toLowerCase()===e||e.includes(s.name.toLowerCase())||s.name.toLowerCase().includes(e));if(i)return i.topics}return[`Review ${t} concepts`,`Practice ${t} questions`,`Advanced ${t} application`]},BG=(t,e,n)=>{if(n&&n.length>0){const r=1/n.length;return n.map(i=>({name:i,weight:r,topics:oMe(i)}))}if(vu[t])return vu[t];if(e){const r=e.toLowerCase();if(r.includes("itil"))return vu["itil-4-foundation"];if(r.includes("pmp"))return vu["default-exam"]}return vu["default-exam"]},vp={generatePlan:(t,e,n,r,i,s)=>{const a=new Date,l=Math.ceil((n.getTime()-a.getTime())/(1e3*60*60*24)),u=[],d=new Date(a),f=BG(e,i,s);for(let m=0;m<l&&!(d>=n);m++){if(d.getDay()===6){u.push({id:`task-${m}-mock`,date:new Date(d),domain:"Mixed",topic:"Full Mock Exam",activityType:"mock-exam",completed:!1,durationMinutes:240}),d.setDate(d.getDate()+1);continue}const y=Math.random();let v=f[0],_=0;for(const w of f)if(_+=w.weight,y<=_){v=w;break}const E=v.topics[Math.floor(Math.random()*v.topics.length)];u.push({id:`task-${m}-read`,date:new Date(d),domain:v.name,topic:`Review: ${E}`,activityType:"reading",completed:!1,durationMinutes:30}),u.push({id:`task-${m}-quiz`,date:new Date(d),domain:v.name,topic:`Practice Quiz: ${E}`,activityType:"quiz",completed:!1,durationMinutes:15}),d.setDate(d.getDate()+1)}return{userId:t,examId:e,startDate:a,examDate:n,weeklyHours:r,tasks:u,createdAt:new Date,status:"active"}},savePlan:async t=>{try{return(await id(en(qe,"study_plans"),t)).id}catch(e){throw console.error("Error saving study plan:",e),e}},archiveCurrentPlan:async t=>{try{const e=Rr(en(qe,"study_plans"),Et("userId","==",t),Et("status","==","active")),r=(await oi(e)).docs.map(i=>fc(on(qe,"study_plans",i.id),{status:"archived"}));await Promise.all(r)}catch(e){throw console.error("Error archiving plan:",e),e}},getCurrentPlan:async(t,e)=>{console.log("StudyPlanService.getCurrentPlan called with:",{userId:t,examId:e});try{const n=[Et("userId","==",t),Et("status","==","active")];e&&n.push(Et("examId","==",e));const r=Rr(en(qe,"study_plans"),...n,ch("createdAt","desc"),Ro(1)),i=await oi(r);if(!i.empty){const s=i.docs[0].data();return{id:i.docs[0].id,...s,startDate:s.startDate.toDate(),examDate:s.examDate.toDate(),createdAt:s.createdAt.toDate(),tasks:s.tasks.map(a=>({...a,date:a.date.toDate()}))}}return null}catch(n){return console.error("Error fetching study plan:",n),null}},markTaskComplete:async(t,e,n)=>{try{const r=on(qe,"study_plans",t),i=await ti(r);if(!i.exists())throw new Error("Plan not found");const l=i.data().tasks.map(u=>u.id===e?{...u,completed:n}:u);await fc(r,{tasks:l})}catch(r){throw console.error("Error marking task complete:",r),r}}};function lMe(){const{user:t}=oa(),{selectedExamId:e,examName:n,examDomains:r}=Xa(),i=jn(),s=xr(),a=s.state?.editMode,l=s.state?.currentSettings,[u,d]=T.useState(1),[f,m]=T.useState(""),[y,v]=T.useState(10),[_,E]=T.useState(!1);T.useEffect(()=>{if(a&&l){if(l.examDate){const A=new Date(l.examDate);m(A.toISOString().split("T")[0])}l.weeklyHours&&v(l.weeklyHours)}},[a,l]);const w=async()=>{if(!(!t||!f)){E(!0);try{const A=e||"default-exam";a&&await vp.archiveCurrentPlan(t.uid);const C=vp.generatePlan(t.uid,A,new Date(f),y,n||void 0,r||[]);await vp.savePlan(C),i("/app/planner")}catch(A){console.error(A),alert("Failed to create plan. Please try again.")}finally{E(!1)}}};return p.jsx("div",{className:"min-h-screen bg-slate-900 text-slate-100 flex items-center justify-center p-4",children:p.jsxs("div",{className:"max-w-md w-full bg-slate-800 border border-slate-700 rounded-2xl p-8 shadow-2xl",children:[p.jsxs("div",{className:"text-center mb-8",children:[p.jsx("h1",{className:"text-2xl font-bold font-display text-white mb-2",children:a?"Update Your Study Plan":"Your Custom Plan is Ready."}),p.jsx("p",{className:"text-slate-400",children:a?"Adjust your schedule and availability.":"Based on your diagnostic results, I've designed a schedule to target your specific gaps."})]}),p.jsxs("div",{className:"flex justify-center gap-2 mb-8",children:[p.jsx("div",{className:`h-1 flex-1 rounded-full ${u>=1?"bg-indigo-500":"bg-slate-700"}`}),p.jsx("div",{className:`h-1 flex-1 rounded-full ${u>=2?"bg-indigo-500":"bg-slate-700"}`})]}),u===1&&p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{children:[p.jsxs("label",{className:"block text-slate-300 font-medium mb-2 flex items-center gap-2",children:[p.jsx(Zx,{className:"w-4 h-4 text-indigo-400"}),"When is your exam?"]}),p.jsx("input",{type:"date",className:"w-full bg-slate-900 border border-slate-700 rounded-xl px-4 py-3 text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none transition-all",value:f,onChange:A=>m(A.target.value),min:new Date().toISOString().split("T")[0]})]}),p.jsxs("button",{onClick:()=>d(2),disabled:!f,className:"w-full bg-indigo-600 hover:bg-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed text-white font-bold py-3 rounded-xl transition-all flex items-center justify-center gap-2",children:["Next Step ",p.jsx(sb,{className:"w-4 h-4"})]})]}),u===2&&p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{children:[p.jsxs("label",{className:"block text-slate-300 font-medium mb-4 flex items-center gap-2",children:[p.jsx(Wu,{className:"w-4 h-4 text-indigo-400"}),"Hours per week for study: ",p.jsxs("span",{className:"text-white font-bold",children:[y,"h"]})]}),p.jsx("input",{type:"range",min:"2",max:"40",step:"1",value:y,onChange:A=>v(parseInt(A.target.value)),className:"w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-indigo-500"}),p.jsxs("div",{className:"flex justify-between text-xs text-slate-500 mt-2",children:[p.jsx("span",{children:"Casual (2h)"}),p.jsx("span",{children:"Intense (40h)"})]})]}),p.jsxs("div",{className:"flex gap-3",children:[p.jsx("button",{onClick:()=>d(1),className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white font-medium py-3 rounded-xl transition-all",children:"Back"}),p.jsx("button",{onClick:w,disabled:_,className:"flex-[2] bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-3 rounded-xl transition-all flex items-center justify-center gap-2",children:_?p.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):p.jsxs(p.Fragment,{children:[a?"Update Plan":"Generate Plan"," ",p.jsx(Va,{className:"w-4 h-4"})]})})]})]})]})})}function cMe({isOpen:t,onClose:e,onStart:n}){const[r,i]=T.useState(120),[s,a]=T.useState(60);if(!t)return null;const l=[{label:"Drill Mode",minutes:60,questions:50,description:"Quick check-in."},{label:"Half-Mock",minutes:120,questions:90,description:"Balanced endurance test."},{label:"Full Simulation",minutes:230,questions:180,description:"The real deal. 4 Hours."}],u=f=>Math.floor(f/1.2),d=()=>{let f=0,m=0,y="custom";if(r==="custom")f=s,m=u(s);else{const v=l.find(_=>_.minutes===r);v&&(f=v.minutes,m=v.questions,v.label==="Full Simulation"&&(y="full-mock"))}n({count:m,durationMinutes:f,mode:y})};return p.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm",children:p.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-2xl w-full max-w-lg shadow-2xl relative",children:[p.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-slate-400 hover:text-white transition-colors",children:p.jsx(pc,{className:"w-6 h-6"})}),p.jsxs("div",{className:"p-8",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[p.jsx("div",{className:"w-12 h-12 rounded-full bg-indigo-500/20 text-indigo-400 flex items-center justify-center",children:p.jsx(Wu,{className:"w-6 h-6"})}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-2xl font-bold text-white",children:"Setup Mock Exam"}),p.jsx("p",{className:"text-slate-400",children:"Choose your time commitment."})]})]}),p.jsxs("div",{className:"space-y-3 mb-8",children:[l.map(f=>p.jsxs("button",{onClick:()=>i(f.minutes),className:`w-full flex items-center justify-between p-4 rounded-xl border transition-all ${r===f.minutes?"bg-indigo-600 border-indigo-500 text-white shadow-lg shadow-indigo-900/20":"bg-slate-800 border-slate-700 text-slate-300 hover:border-slate-600 hover:bg-slate-750"}`,children:[p.jsxs("div",{className:"text-left",children:[p.jsx("div",{className:"font-bold text-lg",children:f.label}),p.jsx("div",{className:`text-sm ${r===f.minutes?"text-indigo-100":"text-slate-400"}`,children:f.description})]}),p.jsxs("div",{className:"text-right",children:[p.jsxs("div",{className:"font-bold text-xl",children:[f.questions," Qs"]}),p.jsx("div",{className:`text-sm ${r===f.minutes?"text-indigo-200":"text-slate-500"}`,children:f.minutes<60?`${f.minutes}m`:`${Math.floor(f.minutes/60)}h ${f.minutes%60>0?f.minutes%60+"m":""}`})]})]},f.minutes)),p.jsxs("button",{onClick:()=>i("custom"),className:`w-full p-4 rounded-xl border transition-all ${r==="custom"?"bg-slate-800 border-indigo-500 ring-1 ring-indigo-500":"bg-slate-800 border-slate-700 hover:border-slate-600"}`,children:[p.jsxs("div",{className:"flex items-center justify-between mb-2",children:[p.jsx("span",{className:"font-bold text-white",children:"Custom Duration"}),r==="custom"&&p.jsxs("span",{className:"text-indigo-400 font-bold",children:[u(s)," Questions"]})]}),r==="custom"&&p.jsxs("div",{className:"mt-3",children:[p.jsx("input",{type:"range",min:"10",max:"300",step:"10",value:s,onChange:f=>a(parseInt(f.target.value)),className:"w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-indigo-500"}),p.jsxs("div",{className:"flex justify-between text-xs text-slate-500 mt-2",children:[p.jsx("span",{children:"10 min"}),p.jsxs("span",{className:"text-white font-bold text-base",children:[s," Minutes"]}),p.jsx("span",{children:"5 hours"})]})]})]})]}),p.jsxs("div",{className:"bg-amber-500/10 border border-amber-500/20 rounded-lg p-4 mb-6 flex gap-3",children:[p.jsx(ab,{className:"w-5 h-5 text-amber-500 shrink-0"}),p.jsx("p",{className:"text-amber-200 text-sm",children:"Questions are randomly selected from the entire database to simulate a fresh exam experience every time."})]}),p.jsxs("div",{className:"flex gap-3",children:[p.jsx("button",{onClick:e,className:"flex-1 py-3 px-4 rounded-xl font-bold text-slate-300 hover:text-white hover:bg-slate-800 transition-colors",children:"Cancel"}),p.jsx("button",{onClick:d,className:"flex-1 py-3 px-4 rounded-xl bg-indigo-600 hover:bg-indigo-500 text-white font-bold shadow-lg shadow-indigo-900/20 transition-all hover:scale-[1.02] active:scale-[0.98]",children:"Start Exam"})]})]})]})})}function uMe(){const{user:t}=oa(),e=jn(),[n,r]=T.useState(null),[i,s]=T.useState(!0),[a,l]=T.useState(!1),{selectedExamId:u,examName:d}=Xa();if(T.useEffect(()=>{if(!t||!u)return;(async()=>{s(!0);try{console.log("StudySchedule loading plan for exam:",u);const w=await vp.getCurrentPlan(t.uid,u);if(!w){e("/app/planner/setup");return}r(w)}catch(w){console.error("Failed to load plan",w)}finally{s(!1)}})()},[t,e,u]),i)return p.jsx("div",{className:"p-8 text-center text-slate-400",children:"Loading your personalized roadmap..."});if(!n)return null;const f=new Date;f.setHours(0,0,0,0);const m=[...n.tasks].sort((E,w)=>E.date.getTime()-w.date.getTime()),y=m.filter(E=>{const w=new Date(E.date);return w.setHours(0,0,0,0),w.getTime()===f.getTime()}),v=m.filter(E=>{const w=new Date(E.date);return w.setHours(0,0,0,0),w.getTime()>f.getTime()}),_=async(E,w)=>{if(!(!n||!t)){r(A=>A?{...A,tasks:A.tasks.map(C=>C.id===E?{...C,completed:!w}:C)}:null);try{await vp.markTaskComplete(n.id,E,!w)}catch(A){console.error("Failed to update task",A),r(C=>C?{...C,tasks:C.tasks.map(P=>P.id===E?{...P,completed:w}:P)}:null)}}};return p.jsxs("div",{className:"p-6 md:p-10 max-w-6xl mx-auto text-slate-100",children:[p.jsxs("header",{className:"mb-8 flex flex-col md:flex-row md:items-center justify-between gap-4",children:[p.jsxs("div",{children:[p.jsxs("h1",{className:"text-3xl font-bold font-display text-white mb-2",children:["My ",d||""," Plan"]}),p.jsxs("p",{className:"text-slate-400 flex items-center gap-2",children:[p.jsx(Zx,{className:"w-4 h-4"}),"Target Exam Date: ",p.jsx("span",{className:"text-emerald-400 font-bold",children:n.examDate.toLocaleDateString()})]})]}),p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsxs("div",{className:"bg-slate-800 px-4 py-2 rounded-lg border border-slate-700 text-sm",children:[n.weeklyHours," hours / week"]}),p.jsx("button",{onClick:()=>e("/app/planner/setup",{state:{editMode:!0,currentSettings:{examDate:n.examDate,weeklyHours:n.weeklyHours}}}),className:"bg-slate-700 hover:bg-slate-600 px-4 py-2 rounded-lg text-sm font-medium transition-colors border border-slate-600 hover:border-slate-500",children:"Edit Settings"})]})]}),p.jsxs("section",{className:"mb-12",children:[p.jsxs("h2",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[p.jsx("span",{className:"w-2 h-8 bg-indigo-500 rounded-full"}),"Today's Mission"]}),y.length===0?p.jsxs("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-8 text-center text-slate-400",children:[p.jsx(Sf,{className:"w-12 h-12 text-slate-600 mx-auto mb-3"}),p.jsx("p",{children:"No tasks scheduled for today. Enjoy your break!"})]}):p.jsx("div",{className:"grid gap-4",children:y.map(E=>p.jsx(DU,{task:E,onToggleComplete:()=>_(E.id,E.completed),onStartMock:()=>l(!0)},E.id))})]}),p.jsxs("section",{children:[p.jsxs("h2",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[p.jsx("span",{className:"w-2 h-8 bg-slate-600 rounded-full"}),"Upcoming"]}),p.jsx("div",{className:"grid gap-4 opacity-75",children:v.map(E=>p.jsx(DU,{task:E,isUpcoming:!0},E.id))})]}),p.jsx(cMe,{isOpen:a,onClose:()=>l(!1),onStart:E=>{l(!1),e("/app/simulator",{state:E})}})]})}const dMe=t=>{const e=["bg-pink-500/10 text-pink-400 border-pink-500/20","bg-amber-500/10 text-amber-400 border-amber-500/20","bg-emerald-500/10 text-emerald-400 border-emerald-500/20","bg-blue-500/10 text-blue-400 border-blue-500/20","bg-purple-500/10 text-purple-400 border-purple-500/20","bg-cyan-500/10 text-cyan-400 border-cyan-500/20","bg-rose-500/10 text-rose-400 border-rose-500/20","bg-indigo-500/10 text-indigo-400 border-indigo-500/20"];if(t==="Mixed")return"bg-slate-500/10 text-slate-400 border-slate-500/20";let n=0;for(let i=0;i<t.length;i++)n=t.charCodeAt(i)+((n<<5)-n);const r=Math.abs(n)%e.length;return e[r]};function DU({task:t,isUpcoming:e=!1,onToggleComplete:n,onStartMock:r}){const i=jn(),s=()=>{t.activityType==="mock-exam"?r&&r():t.activityType==="quiz"?i("/app/quiz"):n&&n()};return p.jsxs("div",{className:`
            flex items-center gap-4 p-4 rounded-xl border transition-all
            ${e?"bg-slate-900 border-slate-800":"bg-slate-800 border-slate-700 hover:border-indigo-500/50"}
        `,children:[p.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center shrink-0 
                ${t.activityType==="quiz"?"bg-purple-500/10 text-purple-400":t.activityType==="mock-exam"?"bg-red-500/10 text-red-400":"bg-blue-500/10 text-blue-400"}
            `,children:t.activityType==="quiz"?p.jsx(Yce,{className:"w-5 h-5"}):t.activityType==="mock-exam"?p.jsx(Wu,{className:"w-5 h-5"}):p.jsx(n9,{className:"w-5 h-5"})}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[p.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded border ${dMe(t.domain)}`,children:t.domain}),e&&p.jsx("span",{className:"text-xs text-slate-500",children:t.date.toLocaleDateString()})]}),p.jsx("h3",{className:"font-bold text-slate-200 truncate",children:t.topic}),p.jsx("p",{className:"text-xs text-slate-400 mt-1",children:t.activityType==="reading"?"Read a chapter or watch a video lesson on this topic.":t.activityType==="quiz"?"Take a quick quiz to test your retention.":"Full length simulation to build endurance. Block out 4 hours."})]}),p.jsxs("div",{className:"flex items-center gap-4 text-slate-500 text-sm",children:[p.jsxs("div",{className:"flex items-center gap-1",title:"Estimated duration",children:[p.jsx(Wu,{className:"w-4 h-4"}),t.durationMinutes,"m"]}),!e&&p.jsx("button",{onClick:s,className:`w-6 h-6 rounded-full border-2 border-slate-600 transition-colors flex items-center justify-center group
                            ${t.activityType==="reading"?"hover:border-emerald-500 hover:bg-emerald-500/10":"hover:border-indigo-500 hover:bg-indigo-500/10"}
                        `,title:t.activityType==="reading"?"Mark as Complete":"Start Activity",children:t.activityType==="reading"?p.jsx(Sf,{className:`w-4 h-4 text-emerald-500 transition-opacity ${t.completed?"opacity-100":"opacity-0 group-hover:opacity-100"}`}):p.jsx("div",{className:"w-2 h-2 bg-indigo-500 rounded-full opacity-0 group-hover:opacity-100 transition-opacity"})})]})]})}const fMe=(t={})=>{const[e,n]=T.useState(!1),[r,i]=T.useState(!1),[s,a]=T.useState(!0),l=T.useRef(null),u=T.useRef(window.speechSynthesis),d=T.useRef(t);T.useEffect(()=>{d.current=t},[t]),T.useEffect(()=>{if(!("webkitSpeechRecognition"in window)&&!("SpeechRecognition"in window)){a(!1);return}const E=window.SpeechRecognition||window.webkitSpeechRecognition;l.current=new E,l.current.continuous=!1,l.current.interimResults=!1,l.current.lang="en-US",l.current.onstart=()=>{i(!0),d.current.onListeningStart?.()},l.current.onend=()=>{i(!1),d.current.onListeningEnd?.()},l.current.onerror=w=>{console.error("Speech recognition error",w.error),i(!1),d.current.onError?.(w.error)}},[]);const[f,m]=T.useState([]);T.useEffect(()=>{const E=()=>{const w=window.speechSynthesis.getVoices(),A=w.filter(C=>C.lang.startsWith("en"));m(A.length>0?A:w)};return E(),window.speechSynthesis.onvoiceschanged=E,()=>{window.speechSynthesis.onvoiceschanged=null}},[]);const y=T.useCallback((E,w,A)=>{if(!u.current)return;u.current.cancel();const C=E.match(/[^.!?]+[.!?]+["']?|.+$/g)||[E],P=[];C.forEach(z=>{z.length<160?P.push(z.trim()):(z.match(/.{1,160}(?:\s|$)/g)||[z]).forEach(R=>P.push(R.trim()))});let L=0;const M=()=>{if(L>=P.length){n(!1),w?.();return}const z=P[L];if(!z){L++,M();return}const j=new SpeechSynthesisUtterance(z);A&&(j.voice=A),j.rate=1,j.pitch=1,j.onstart=()=>n(!0),j.onend=()=>{L++,M()},j.onerror=R=>{console.error("Speech synthesis error",R),R.error!=="interrupted"&&R.error!=="canceled"&&(n(!1),d.current.onError?.("TTS Error"))},u.current.speak(j)};M()},[]),v=T.useCallback(E=>{if(l.current)try{l.current.abort(),l.current.onresult=w=>{const A=w.results[0][0].transcript;E(A)},l.current.start()}catch(w){console.error("Failed to start listening",w)}},[]),_=T.useCallback(()=>{u.current&&u.current.cancel(),l.current&&l.current.abort(),n(!1),i(!1)},[]);return{speak:y,listen:v,stopAll:_,isSpeaking:e,isListening:r,supported:s,voices:f}};function hMe(){const t=jn(),{examName:e}=Xa(),[n,r]=T.useState("SETUP"),[i,s]=T.useState([]),[a,l]=T.useState(0),[u,d]=T.useState(""),[f,m]=T.useState(!1),[y,v]=T.useState(localStorage.getItem("verbal_voice_uri")||""),[_,E]=T.useState(5),[w,A]=T.useState({score:0,wrong:0,details:[]}),C=T.useRef([]),P=T.useRef(0),L=T.useRef({score:0,wrong:0,details:[]}),M=T.useRef(!1),z=T.useRef(!0);T.useEffect(()=>{C.current=i},[i]),T.useEffect(()=>{P.current=a},[a]),T.useEffect(()=>{L.current=w},[w]);const{speak:j,listen:R,stopAll:D,voices:B}=fMe({onError:Y=>{console.error("Voice Error:",Y),n==="LISTENING"&&(Y==="no-speech"?j("I didn't hear anything. Please say Option A, B, C, or D.",()=>{z.current&&be()},V):(r("SETUP"),j("Voice error. Stopping session.",void 0,V)))},onListeningEnd:()=>{n==="LISTENING"&&!M.current&&setTimeout(()=>{z.current&&n==="LISTENING"&&j("I didn't catch that.",()=>{z.current&&be()},V)},500)}}),V=B.find(Y=>Y.voiceURI===y)||null;T.useEffect(()=>()=>{z.current=!1,D()},[D]);const $=async()=>{r("LOADING");const Y=localStorage.getItem("selectedExamId")||"default-exam";try{const H=await Ku.generateSimulationExam(Y,_),k=[];for(const K of H){const re=await ti(on(qe,"questions",K));re.exists()&&k.push({id:re.id,...re.data()})}if(z.current){if(k.length===0){alert("No questions found."),r("SETUP");return}s(k),A({score:0,wrong:0,details:[]}),q(k)}}catch(H){console.error(H),r("SETUP")}};function q(Y){Y.length!==0&&(r("READING"),xe(0,Y))}function xe(Y,H=i){const k=H&&H.length>0?H:C.current;if(Y>=k.length){ee();return}const K=k[Y],re=`Question ${Y+1}. ${K.stem}. Option A: ${K.options[0]}. Option B: ${K.options[1]}. Option C: ${K.options[2]}. Option D: ${K.options[3]}. What is your answer?`;r("READING"),setTimeout(()=>{j(re,()=>{z.current&&be()},V)},1e3)}function be(){z.current&&(r("LISTENING"),d(""),M.current=!1,R(Y=>{M.current=!0,d(Y),X(Y)}))}function X(Y){const H=Y.toLowerCase();let k=-1;if(H.includes("a")||H.includes("one")||H.includes("first")?k=0:H.includes("b")||H.includes("two")||H.includes("second")?k=1:H.includes("c")||H.includes("three")||H.includes("third")?k=2:(H.includes("d")||H.includes("four")||H.includes("last"))&&(k=3),k!==-1){const K=C.current[P.current];if(!K){console.error("No question found at index using refs",P.current);return}const re=typeof K.correctAnswer=="string"?parseInt(K.correctAnswer,10):K.correctAnswer,ce=k===re;A(de=>({score:de.score+(ce?1:0),wrong:de.wrong+(ce?0:1),details:[...de.details,{questionId:K.id,selectedOption:k,correctOption:re,isCorrect:ce,domain:K.domain}]})),r("FEEDBACK");const se=ce?"Correct!":`Incorrect. The answer was ${["A","B","C","D"][re]}.`,ye=`Here is why: ${K.explanation}`;j(`${se} ${ye}. Moving on...`,()=>{if(!z.current)return;const de=P.current+1;l(de),xe(de)},V)}else j("I didn't catch that. Please say Option A, B, C, or D.",()=>{be()},V)}const ee=async()=>{r("FINISHED");const Y=L.current,H=C.current.length;j(`Session complete. You got ${Y.score} out of ${H} correct. Great job.`,void 0,V);const k=mt.currentUser;if(k)try{const K=localStorage.getItem("selectedExamId")||"default-exam";await id(en(qe,"quizAttempts"),{userId:k.uid,examId:K,score:Y.score,totalQuestions:H,timestamp:new Date,mode:"verbal",timeSpent:H*60,details:Y.details})}catch(K){console.error("Failed to save session",K)}},he=Y=>{v(Y),localStorage.setItem("verbal_voice_uri",Y);const H=B.find(k=>k.voiceURI===Y);H&&j("This is my voice.",void 0,H)};return p.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col items-center justify-between p-8 relative overflow-hidden",children:[p.jsxs("div",{className:"w-full flex justify-between items-center z-10",children:[p.jsx("button",{onClick:()=>t("/app"),className:"p-4 bg-white/10 rounded-full hover:bg-white/20 transition-colors",children:p.jsx(S2,{className:"w-6 h-6"})}),p.jsxs("div",{className:"flex flex-col items-center",children:[p.jsxs("div",{className:"flex items-center gap-2 text-indigo-400",children:[p.jsx(ZD,{className:"w-5 h-5"}),p.jsx("span",{className:"font-bold tracking-wider",children:"VERBAL"})]}),e&&p.jsx("span",{className:"text-sm text-indigo-300 font-bold tracking-widest uppercase mt-1",children:e}),(n==="READING"||n==="LISTENING"||n==="FEEDBACK")&&p.jsxs("div",{className:"flex gap-4 text-sm mt-1",children:[p.jsxs("span",{className:"text-emerald-400 font-bold",children:[" ",w.score]}),p.jsxs("span",{className:"text-red-400 font-bold",children:[" ",w.wrong]})]})]}),p.jsxs("div",{className:"relative",children:[p.jsx("button",{onClick:()=>m(!f),className:"p-4 bg-white/10 rounded-full hover:bg-white/20 transition-colors",title:"Voice Settings",children:p.jsx(Rue,{className:"w-6 h-6"})}),f&&p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>m(!1)}),p.jsxs("div",{className:"absolute top-full right-0 mt-4 w-72 bg-slate-800 rounded-2xl border border-slate-700 shadow-xl overflow-hidden z-50",children:[p.jsx("div",{className:"p-4 border-b border-slate-700 bg-slate-800",children:p.jsx("h3",{className:"font-bold text-white text-sm uppercase tracking-wider",children:"Select Voice"})}),p.jsx("div",{className:"max-h-64 overflow-y-auto bg-slate-900/50",children:B.length>0?B.map(Y=>p.jsxs("button",{onClick:()=>he(Y.voiceURI),className:`w-full text-left p-3 px-4 flex items-center justify-between hover:bg-slate-700/50 transition-colors border-b border-slate-700/50 last:border-0 ${y===Y.voiceURI?"bg-indigo-500/10 text-indigo-400":"text-slate-300"}`,children:[p.jsxs("div",{className:"flex flex-col overflow-hidden",children:[p.jsx("span",{className:"truncate text-sm font-medium",children:Y.name}),p.jsx("span",{className:"text-xs text-slate-500",children:Y.lang})]}),y===Y.voiceURI&&p.jsx(Va,{className:"w-4 h-4 flex-shrink-0 ml-2"})]},Y.voiceURI)):p.jsx("div",{className:"p-4 text-center text-slate-500 text-sm",children:"No voices found."})})]})]})]})]}),p.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center w-full z-10 max-w-2xl px-4",children:[n==="SETUP"&&p.jsxs("div",{className:"text-center w-full max-w-md bg-slate-900/50 p-8 rounded-3xl border border-slate-800 backdrop-blur-sm",children:[p.jsx("h1",{className:"text-3xl font-black mb-2",children:"Verbal Mode"}),p.jsx("p",{className:"text-slate-400 mb-8",children:"Hands-free verbal practice session."}),p.jsxs("div",{className:"mb-8",children:[p.jsx("label",{className:"block text-slate-500 text-sm font-bold mb-4 uppercase tracking-wider",children:"How many questions?"}),p.jsx("div",{className:"grid grid-cols-4 gap-2",children:[5,10,20,50].map(Y=>p.jsx("button",{onClick:()=>E(Y),className:`p-3 rounded-xl font-bold transition-all ${_===Y?"bg-indigo-600 text-white shadow-lg shadow-indigo-500/25":"bg-slate-800 text-slate-400 hover:bg-slate-700"}`,children:Y},Y))})]}),p.jsxs("button",{onClick:$,className:"w-full py-4 bg-indigo-600 rounded-xl font-bold text-lg shadow-[0_0_20px_rgba(79,70,229,0.3)] hover:scale-[1.02] transition-transform flex items-center justify-center gap-2",children:[p.jsx(l9,{className:"w-5 h-5 fill-white"})," START SESSION"]})]}),n==="LOADING"&&p.jsxs("div",{className:"animate-pulse flex flex-col items-center",children:[p.jsx("div",{className:"w-16 h-16 border-4 border-indigo-500 border-t-transparent rounded-full animate-spin mb-4"}),p.jsx("span",{className:"text-indigo-400 font-bold",children:"Loading Session..."})]}),(n==="READING"||n==="LISTENING"||n==="FEEDBACK")&&i[a]&&p.jsxs("div",{className:"w-full space-y-6",children:[p.jsxs("div",{className:"flex justify-center mb-8",children:[n==="READING"&&p.jsxs("span",{className:"text-indigo-400 font-bold animate-pulse flex items-center gap-2",children:[p.jsx(ZD,{className:"w-5 h-5"})," READING"]}),n==="LISTENING"&&p.jsxs("span",{className:"text-emerald-400 font-bold animate-bounce flex items-center gap-2",children:[p.jsx(o9,{className:"w-5 h-5"})," LISTENING"]}),n==="FEEDBACK"&&p.jsx("span",{className:"text-amber-400 font-bold flex items-center gap-2",children:"CHECKING"})]}),n==="LISTENING"&&p.jsx("div",{className:"absolute top-32 left-0 w-full text-center",children:p.jsxs("span",{className:"text-slate-500 text-sm bg-slate-900/80 px-4 py-2 rounded-full border border-slate-700/50",children:["Start answer with ",p.jsx("strong",{children:'"Option..."'})]})}),p.jsxs("div",{className:"bg-slate-900/80 p-6 rounded-2xl border border-slate-800 backdrop-blur-sm",children:[p.jsxs("h2",{className:"text-xl md:text-2xl font-bold leading-relaxed mb-6",children:[p.jsxs("span",{className:"text-slate-500 mr-2",children:[a+1,"."]}),i[a].stem]}),p.jsx("div",{className:"grid gap-3",children:i[a].options.map((Y,H)=>p.jsxs("div",{className:"flex items-start gap-3 p-4 rounded-xl bg-slate-800/50 border border-slate-700/50",children:[p.jsx("span",{className:"font-bold text-indigo-400 w-6",children:["A","B","C","D"][H]}),p.jsx("span",{className:"text-slate-200 text-lg leading-snug",children:Y})]},H))})]}),n==="LISTENING"&&p.jsx("div",{className:"text-center",children:p.jsxs("p",{className:"text-slate-500 text-sm",children:["Detected: ",p.jsx("span",{className:"text-white font-mono",children:u||"..."})]})})]}),n==="FINISHED"&&p.jsxs("div",{className:"text-center max-w-md w-full bg-slate-900/50 p-8 rounded-3xl border border-slate-800",children:[p.jsx(Va,{className:"w-16 h-16 text-emerald-400 mx-auto mb-4"}),p.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Session Complete!"}),p.jsx("p",{className:"text-slate-400 mb-6",children:"Results saved to your readiness profile."}),p.jsxs("div",{className:"flex justify-center gap-8 mb-8",children:[p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"text-3xl font-black text-emerald-400",children:w.score}),p.jsx("div",{className:"text-xs text-slate-500 uppercase font-bold",children:"Correct"})]}),p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"text-3xl font-black text-red-400",children:w.wrong}),p.jsx("div",{className:"text-xs text-slate-500 uppercase font-bold",children:"Wrong"})]})]}),p.jsx("button",{onClick:()=>t("/app"),className:"w-full px-8 py-4 bg-slate-800/50 hover:bg-slate-800 rounded-xl font-bold border border-slate-700 transition-all",children:"Back to Dashboard"})]})]}),n!=="SETUP"&&n!=="FINISHED"&&n!=="LOADING"&&p.jsxs("button",{onClick:()=>{D(),r("SETUP")},className:"w-full max-w-sm bg-red-500/20 hover:bg-red-500/30 border border-red-500/50 text-red-200 p-6 rounded-2xl flex items-center justify-center gap-3 font-bold transition-all",children:[p.jsx(Due,{className:"w-6 h-6 fill-current"}),"STOP SESSION"]}),p.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-slate-900 to-black pointer-events-none -z-10"}),p.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[500px] h-[500px] bg-indigo-600/10 blur-[100px] rounded-full pointer-events-none -z-10"})]})}const FG={calculateReadiness:async(t,e)=>{try{const n=en(qe,"quizAttempts"),r=Rr(n,Et("userId","==",t),Et("examId","==",e),ch("timestamp","desc"),Ro(50)),s=(await oi(r)).docs.map(M=>M.data());if(s.length===0)return{overallScore:0,trend:"stable",domainBreakdown:[],totalQuestionsAnswered:0,mockExamsTaken:0,examId:e};let a=0,l=0,u=0;const d={};BG(e).forEach(M=>{d[M.name]={correct:0,total:0}}),s.forEach(M=>{if(a+=M.score,l+=M.totalQuestions,M.mode==="simulation"&&u++,M.details&&Array.isArray(M.details))M.details.forEach(z=>{z.domain&&(d[z.domain]||(d[z.domain]={correct:0,total:0}),d[z.domain].total++,z.isCorrect&&d[z.domain].correct++)});else if(M.domain&&M.domain!=="Mixed"){const z=M.domain;d[z]||(d[z]={correct:0,total:0}),d[z].total+=M.totalQuestions,d[z].correct+=M.score}});const m=l>0?a/l*100:0,y=s.slice(0,5);let v=0,_=0;y.forEach(M=>{v+=M.score,_+=M.totalQuestions});const E=_>0?v/_*100:0;let w="stable";E>m+5&&(w="improving"),E<m-5&&(w="declining");const A=Math.round(m*.7+E*.3);let C=0;l<50&&(C=(50-l)*.5);const P=Math.max(0,Math.round(A-C)),L=Object.entries(d).map(([M,z])=>{const j=z.total>0?z.correct/z.total*100:0;let R="Insufficient";return z.total>=10&&(j>=75?R="Strong":j<60?R="Weak":R="Moderate"),{domain:M,score:Math.round(j),totalQuestions:z.total,status:R}}).sort((M,z)=>{const j={Weak:0,Insufficient:1,Moderate:2,Strong:3};return j[M.status]-j[z.status]});return{overallScore:P,trend:w,domainBreakdown:L,totalQuestionsAnswered:l,mockExamsTaken:u,examId:e,isPreliminary:l<50}}catch(n){throw console.error("Prediction Engine Error:",n),n}}},mMe=Object.freeze(Object.defineProperty({__proto__:null,PredictionEngine:FG},Symbol.toStringTag,{value:"Module"}));function pMe(){const{user:t}=oa(),{checkPermission:e}=Pc(),{selectedExamId:n,examName:r}=Xa(),i=jn(),[s,a]=T.useState(null),[l,u]=T.useState([]),[d,f]=T.useState(!0);if(T.useEffect(()=>{(async()=>{if(!(!t||!n))try{const[A,C]=await Promise.allSettled([FG.calculateReadiness(t.uid,n),ea(Fu(),"getWeakestPatterns")()]);A.status==="fulfilled"&&a(A.value),C.status==="fulfilled"&&C.value.data&&u(C.value.data)}catch(A){console.error("Failed to load readiness report",A)}finally{f(!1)}})()},[t,n]),d)return p.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center",children:p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-500"})});if(!s||s.totalQuestionsAnswered===0)return p.jsx("div",{className:"min-h-screen bg-slate-900 p-8 flex flex-col items-center justify-center text-center",children:p.jsxs("div",{className:"bg-slate-800 p-8 rounded-2xl border border-slate-700 max-w-md",children:[p.jsx(r9,{className:"w-16 h-16 text-slate-500 mx-auto mb-4"}),p.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Not Enough Data"}),p.jsx("p",{className:"text-slate-400 mb-6",children:"Complete a few quizzes or a mock exam to generate your readiness prediction."}),p.jsx(fn,{to:"/app/quiz",className:"bg-indigo-600 hover:bg-indigo-500 text-white px-6 py-3 rounded-xl font-bold transition-colors",children:"Take a Quiz"})]})});const m=w=>w>=80?"text-emerald-400 stroke-emerald-500":w>=65?"text-amber-400 stroke-amber-500":"text-red-400 stroke-red-500",y=w=>w==="Strong"?"text-emerald-400 bg-emerald-400/10 border-emerald-400/20":w==="Moderate"?"text-amber-400 bg-amber-400/10 border-amber-400/20":w==="Insufficient"?"text-slate-400 bg-slate-400/10 border-slate-400/20":"text-red-400 bg-red-400/10 border-red-400/20",v=80,_=2*Math.PI*v,E=_-s.overallScore/100*_;return p.jsx("div",{className:"min-h-screen bg-slate-900 text-slate-100 p-8 pb-24",children:p.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Exam Readiness"}),r&&p.jsx("span",{className:"text-sm font-bold text-indigo-400 uppercase tracking-wider mb-1 block",children:r}),p.jsx("p",{className:"text-slate-400",children:"AI-powered prediction based on your recent performance."})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[p.jsxs("div",{className:"md:col-span-2 bg-slate-800 rounded-2xl p-8 border border-slate-700 shadow-xl relative overflow-hidden",children:[!e("analytics")&&p.jsxs("div",{className:"absolute inset-0 z-20 bg-slate-800/60 backdrop-blur-md flex flex-col items-center justify-center text-center p-6",children:[p.jsx("div",{className:"w-16 h-16 bg-slate-900 rounded-full flex items-center justify-center mb-4 shadow-xl border border-slate-700",children:p.jsx(Jx,{className:"w-8 h-8 text-indigo-400"})}),p.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Detailed Analysis Locked"}),p.jsx("p",{className:"text-slate-300 mb-6 max-w-sm",children:"Get detailed readiness predictions and trend analysis with Pro."}),p.jsx("button",{onClick:()=>i("/app/pricing"),className:"bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-3 px-8 rounded-xl shadow-lg shadow-indigo-500/25 transition-all",children:"Unlock Report"})]}),p.jsxs("div",{className:`flex flex-col md:flex-row items-center gap-8 ${e("analytics")?"":"blur-sm opacity-50 pointer-events-none"}`,children:[p.jsxs("div",{className:"relative w-48 h-48 flex-shrink-0",children:[p.jsxs("svg",{className:"w-full h-full -rotate-90",children:[p.jsx("circle",{cx:"96",cy:"96",r:v,className:"stroke-slate-700",strokeWidth:"12",fill:"none"}),p.jsx("circle",{cx:"96",cy:"96",r:v,className:`${m(s.overallScore)} transition-all duration-1000 ease-out`,strokeWidth:"12",strokeDasharray:_,strokeDashoffset:E,strokeLinecap:"round",fill:"none"})]}),p.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[p.jsxs("span",{className:`text-4xl font-black ${m(s.overallScore).split(" ")[0]}`,children:[s.overallScore,"%"]}),p.jsx("span",{className:"text-xs text-slate-400 font-bold uppercase tracking-wider mt-1",children:"Probability"})]})]}),p.jsxs("div",{className:"flex-1 w-full space-y-6",children:[p.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-900/50 rounded-xl border border-slate-700/50",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-slate-400",children:"Current Trend"}),p.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.trend==="improving"&&p.jsx(Fue,{className:"w-5 h-5 text-emerald-400"}),s.trend==="declining"&&p.jsx(zue,{className:"w-5 h-5 text-red-400"}),s.trend==="stable"&&p.jsx(Aue,{className:"w-5 h-5 text-slate-400"}),p.jsx("span",{className:"font-bold capitalize text-white",children:s.trend})]})]}),p.jsxs("div",{className:"text-right",children:[p.jsx("p",{className:"text-sm text-slate-400",children:"Questions Analyzed"}),p.jsx("p",{className:"font-bold text-xl text-white mt-1",children:s.totalQuestionsAnswered})]})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-bold text-white mb-2 flex items-center gap-2",children:s.isPreliminary?p.jsxs("div",{className:"flex items-center gap-2 text-amber-400",children:[p.jsx(ab,{className:"w-5 h-5"}),p.jsx("span",{children:"Preliminary Assessment"})]}):s.overallScore>=75?p.jsxs("div",{className:"flex items-center gap-2 text-emerald-400",children:[p.jsx(Sf,{className:"w-5 h-5"}),p.jsx("span",{children:"Assessment"})]}):p.jsxs("div",{className:"flex items-center gap-2 text-amber-400",children:[p.jsx(ab,{className:"w-5 h-5"}),p.jsx("span",{children:"Assessment"})]})}),p.jsx("p",{className:"text-slate-400 text-sm leading-relaxed",children:s.isPreliminary?`We need more data to provide a confident prediction. Your score is currently dampened by ${(50-s.totalQuestionsAnswered)*.5}% until you reach 50 questions.`:s.overallScore>=80?"You are showing strong readiness! Maintain this consistency and focus on time management.":s.overallScore>=65?"You're getting close, but consistency is key. Focus on your weak domains below to boost your score.":"We recommend more targeted practice before scheduling your exam. Focus on fundamental concepts."})]})]})]})]}),p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"bg-slate-800 p-6 rounded-2xl border border-slate-700",children:[p.jsx("h3",{className:"text-slate-400 text-sm font-bold uppercase mb-4",children:"Activity"}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{className:"text-white",children:"Mock Exams"}),p.jsx("span",{className:"font-mono text-indigo-400",children:s.mockExamsTaken})]}),p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{className:"text-white",children:"Total Qs"}),p.jsx("span",{className:"font-mono text-indigo-400",children:s.totalQuestionsAnswered})]})]})]}),p.jsxs("div",{className:"bg-slate-800 p-6 rounded-2xl border border-slate-700",children:[p.jsx("h3",{className:"text-slate-400 text-sm font-bold uppercase mb-4",children:"Top Focus Area"}),s.domainBreakdown.length>0&&s.domainBreakdown[0].score<70?p.jsxs("div",{children:[p.jsx("p",{className:"text-white font-bold mb-1",children:s.domainBreakdown[0].domain}),p.jsx(fn,{to:"/app/quiz",state:{filterDomain:s.domainBreakdown[0].domain},className:"text-xs text-indigo-400 hover:text-indigo-300 flex items-center gap-1 mt-2",children:"Practice this domain "})]}):p.jsx("p",{className:"text-emerald-400 text-sm",children:"All domains looking good!"})]})]})]}),l.length>0&&p.jsxs("div",{className:"bg-slate-800 rounded-2xl border border-slate-700 overflow-hidden",children:[p.jsx("div",{className:"p-6 border-b border-slate-700 flex justify-between items-center",children:p.jsxs("div",{children:[p.jsxs("h3",{className:"font-bold text-white flex items-center gap-2",children:[p.jsx("span",{className:"w-2 h-2 rounded-full bg-red-500 animate-pulse"}),"Mindset Gaps"]}),p.jsx("p",{className:"text-xs text-slate-400 mt-1",children:'Common "User Traps" you are falling for. Master these to boost your score.'})]})}),p.jsx("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-4 bg-slate-900/30",children:l.map(w=>p.jsx(Fpe,{pattern:w},w.pattern_id))})]}),p.jsxs("div",{className:"bg-slate-800 rounded-2xl border border-slate-700 overflow-hidden",children:[p.jsx("div",{className:"p-6 border-b border-slate-700",children:p.jsx("h3",{className:"font-bold text-white",children:"Domain Breakdown"})}),p.jsx("div",{className:"divide-y divide-slate-700",children:s.domainBreakdown.map(w=>p.jsxs("div",{className:"p-6 hover:bg-slate-750 transition-colors",children:[p.jsxs("div",{className:"flex items-center justify-between mb-2",children:[p.jsx("span",{className:"font-medium text-white",children:w.domain}),p.jsxs("span",{className:`text-sm font-medium px-2 py-0.5 rounded ${y(w.status)}`,children:[w.status," ",w.totalQuestions>0?`(${Math.round(w.score)}%)`:""]})]}),p.jsx("div",{className:"w-full h-4 bg-slate-700 rounded-full overflow-hidden border border-slate-600/50",children:p.jsx("div",{className:"h-full rounded-full transition-all duration-500 shadow-[0_0_10px_rgba(0,0,0,0.2)]",style:{width:`${w.score}%`,backgroundColor:`hsl(${Math.min(w.score*1.2,120)}, 85%, 45%)`}})})]},w.domain))})]}),p.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-6 border border-slate-700/50 text-sm text-slate-400 space-y-2",children:[p.jsxs("p",{children:[p.jsx("span",{className:"font-bold text-slate-300",children:"Insufficient Data:"}),' A domain will be marked as "Insufficient" until you have answered at least 10 questions in that specific area.']}),p.jsxs("p",{children:[p.jsx("span",{className:"font-bold text-slate-300",children:"Score (%):"})," This percentage represents your accuracy (Correct Answers / Total Attempts) within that domain."]}),p.jsxs("div",{className:"mt-2 text-slate-400",children:[p.jsx("span",{className:"font-bold text-slate-300",children:"Current Trend:"})," Compares your last 5 attempts to your overall average:",p.jsxs("ul",{className:"list-disc ml-5 mt-1 space-y-1",children:[p.jsxs("li",{children:[p.jsx("span",{className:"text-emerald-400",children:"Improving:"})," Recent accuracy is >5% higher than overall."]}),p.jsxs("li",{children:[p.jsx("span",{className:"text-red-400",children:"Declining:"})," Recent accuracy is >5% lower than overall."]}),p.jsxs("li",{children:[p.jsx("span",{className:"text-slate-400",children:"Stable:"})," Recent performance is consistent (within 5%)."]})]})]})]})]})})}function gMe(){const[t,e]=T.useState(!1),[n,r]=T.useState(null),[i,s]=T.useState(null),a=async()=>{e(!0),s(null),r(null);try{const u=await ea(Df,"testOpenAIConnection")({});r(u.data)}catch(l){console.error("Diagnostics failed:",l),s(l.message||"Unknown error occurred")}finally{e(!1)}};return p.jsx("div",{className:"min-h-screen bg-slate-950 text-slate-100 p-8",children:p.jsxs("div",{className:"max-w-2xl mx-auto",children:[p.jsx("h1",{className:"text-3xl font-bold mb-6 font-display text-white",children:"System Diagnostics"}),p.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-6 mb-8",children:[p.jsx("h2",{className:"text-xl font-bold mb-4 text-slate-200",children:"OpenAI Connection"}),p.jsx("p",{className:"text-slate-400 mb-6",children:"Test the connectivity between the Firebase Backend and OpenAI API. This verifies that the `OPENAI_API_KEY` secret is correctly set and the quota is active."}),p.jsx("div",{className:"flex items-center gap-4",children:p.jsx("button",{onClick:a,disabled:t,className:`px-6 py-2 rounded-lg font-bold transition-all ${t?"bg-slate-700 text-slate-400 cursor-not-allowed":"bg-brand-600 hover:bg-brand-500 text-white shadow-lg shadow-brand-500/20"}`,children:t?"Running Test...":"Test Connection"})}),p.jsxs("div",{className:"mt-8",children:[i&&p.jsxs("div",{className:"p-4 bg-red-900/30 border border-red-500/50 rounded-lg text-red-200",children:[p.jsx("strong",{className:"block mb-1 text-red-100",children:"Test Failed "}),p.jsx("span",{className:"font-mono text-sm",children:i})]}),n&&p.jsxs("div",{className:"p-4 bg-emerald-900/30 border border-emerald-500/50 rounded-lg text-emerald-200",children:[p.jsx("strong",{className:"block mb-1 text-emerald-100",children:"Test Passed "}),p.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-2 font-mono text-sm",children:[p.jsxs("div",{children:[p.jsx("span",{className:"text-emerald-400/70 block text-xs uppercase",children:"Latency"}),n.latency,"ms"]}),p.jsxs("div",{children:[p.jsx("span",{className:"text-emerald-400/70 block text-xs uppercase",children:"Model"}),n.model]}),p.jsxs("div",{className:"col-span-2",children:[p.jsx("span",{className:"text-emerald-400/70 block text-xs uppercase",children:"Message"}),n.message]})]})]})]})]}),p.jsx("div",{className:"text-center",children:p.jsx("a",{href:"/app",className:"text-slate-500 hover:text-slate-300 transition-colors",children:" Back to Dashboard"})})]})})}function yMe(t){const e=T.useRef(sessionStorage.getItem("ecp_session_id")),n=T.useRef(null),r=xr(),i=async()=>{if(!(!t||e.current))try{const l=Date.now(),u=await id(en(qe,"user_sessions"),{userId:t.uid,email:t.email,app:"examcoachpro",loginAt:of(),lastSeenAt:of(),logoutAt:null,durationSec:null,endedBy:null,userAgent:navigator.userAgent});e.current=u.id,n.current=l,sessionStorage.setItem("ecp_session_id",u.id),console.log("Session created:",u.id)}catch(l){console.error("Failed to create session:",l)}},s=async()=>{if(e.current)try{await fc(on(qe,"user_sessions",e.current),{lastSeenAt:of()})}catch(l){l.code==="not-found"&&(e.current=null,sessionStorage.removeItem("ecp_session_id")),console.error("Heartbeat failed:",l)}};return T.useEffect(()=>{t&&(async()=>{if(e.current&&!n.current)try{const u=await ti(on(qe,"user_sessions",e.current));u.exists()&&(n.current=u.data().loginAt?.toDate().getTime()||null)}catch(u){console.error("Failed to sync login time:",u)}})()},[t]),T.useEffect(()=>{t&&!e.current?i():t||(e.current=null,n.current=null,sessionStorage.removeItem("ecp_session_id"))},[t]),T.useEffect(()=>{if(!t)return;const l=setInterval(s,6e4);return()=>clearInterval(l)},[t]),T.useEffect(()=>{if(!t)return;const l=()=>{document.visibilityState==="visible"&&s()};return document.addEventListener("visibilitychange",l),()=>document.removeEventListener("visibilitychange",l)},[t]),T.useEffect(()=>{t&&s()},[r.pathname,t]),{closeSession:async()=>{if(e.current)try{const l=e.current,u=on(qe,"user_sessions",l);let d=null;n.current&&(d=Math.round((Date.now()-n.current)/1e3)),await fc(u,{logoutAt:of(),endedBy:"logout",durationSec:d}),console.log("Session closed successfully:",l),e.current=null,n.current=null,sessionStorage.removeItem("ecp_session_id")}catch(l){console.error("Failed to close session:",l)}}}}function vMe(){const{user:t}=oa(),{entitlement:e}=Pc(),{startTrial:n,loading:r}=K$(),[i,s]=T.useState(!1);T.useEffect(()=>{if(!t)return;if(e.plan==="free"&&!e.trialConsumed&&!e.isPro){if(!sessionStorage.getItem(`trial_snooze_${t.uid}`)){const f=setTimeout(()=>s(!0),1500);return()=>clearTimeout(f)}}else s(!1)},[t,e]);const a=async()=>{await n()&&s(!1)},l=()=>{s(!1),t&&sessionStorage.setItem(`trial_snooze_${t.uid}`,"true")};return i?p.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-[100] p-4 backdrop-blur-sm",children:p.jsxs("div",{className:"bg-slate-900 border border-brand-500/30 rounded-2xl max-w-md w-full p-8 shadow-2xl relative overflow-hidden",children:[p.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-brand-500 to-transparent opacity-50"}),p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"w-16 h-16 bg-brand-500/10 rounded-full flex items-center justify-center mx-auto mb-6 border border-brand-500/20 shadow-lg shadow-brand-500/10",children:p.jsx("span",{className:"text-3xl",children:""})}),p.jsx("h2",{className:"text-2xl font-bold text-white mb-2 font-display",children:"Start your 14-day Pro trial"}),p.jsxs("p",{className:"text-slate-400 mb-8 leading-relaxed",children:["Unlock infinite practice questions, full explanations, AI tutoring, and all Pro features.",p.jsx("br",{}),p.jsx("br",{}),p.jsx("span",{className:"text-brand-400 font-bold bg-brand-500/10 px-2 py-1 rounded",children:"No payment required."})]}),p.jsx("button",{onClick:a,disabled:r,className:"w-full py-4 bg-brand-600 hover:bg-brand-500 text-white font-bold rounded-xl transition-all shadow-lg shadow-brand-500/20 mb-4 transform hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed",children:r?"Activating...":"Start Free Trial"}),p.jsx("button",{onClick:l,className:"text-slate-500 hover:text-slate-300 text-sm font-medium transition-colors",children:"Not now"})]})]})}):null}function bMe(){const[t,e]=T.useState(null),[n,r]=T.useState(null),i=GC();if(T.useEffect(()=>{const a=yC(mt,async l=>{if(e(l),l)try{const u=await ti(on(i,"users",l.uid));u.exists()?r(u.data()?.role||"user"):r("user")}catch(u){console.error("Error fetching user role:",u),r("user")}else r(null)});return()=>a()},[i]),!t)return null;const s=n?.toLowerCase()==="admin";return p.jsx("div",{className:"flex items-center gap-4 z-50 relative",children:p.jsxs("div",{className:"flex items-center gap-3 px-4 py-2 bg-slate-800/80 backdrop-blur-md rounded-full border border-white/10 text-xs font-medium shadow-lg",children:[p.jsxs("div",{className:"flex items-center gap-1.5 text-slate-300",children:[p.jsx(Gue,{className:"w-3.5 h-3.5"}),p.jsx("span",{className:"truncate max-w-[150px] lg:max-w-[250px]",children:t.email})]}),p.jsx("div",{className:"h-3 w-px bg-white/10"}),p.jsxs("div",{className:`flex items-center gap-1.5 ${s?"text-brand-400 font-bold":"text-slate-500"}`,children:[s&&p.jsx(c9,{className:"w-3.5 h-3.5"}),p.jsx("span",{className:"uppercase tracking-wider",children:s?"ADMIN":"USER"})]}),p.jsx("div",{className:"h-3 w-px bg-white/10"}),p.jsxs("div",{className:"text-slate-500 font-mono uppercase tracking-wider flex items-center gap-1",children:[p.jsx(vue,{className:"w-3 h-3"}),"APP: EXAM APP"]})]})})}const $G=T.createContext(null);function oa(){return T.useContext($G)}function xMe({children:t}){const[e,n]=T.useState(null),[r,i]=T.useState(!0),{closeSession:s}=yMe(e);T.useEffect(()=>{if(!mt){console.error("Firebase Auth not initialized correctly."),i(!1);return}return yC(mt,u=>{n(u),i(!1)})},[]);const a=async()=>{try{await s(),await FT(mt)}catch(l){console.error("Logout failed:",l),await FT(mt)}};return!mt&&!r?p.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-900 text-white",children:p.jsxs("div",{className:"text-center p-8 bg-slate-800 rounded-xl border border-red-500/30",children:[p.jsx("h1",{className:"text-2xl font-bold text-red-500 mb-2",children:"Configuration Error"}),p.jsx("p",{className:"text-slate-300",children:"Firebase failed to initialize. Please check your network connection or configuration."})]})}):r?p.jsx("div",{className:"flex h-screen items-center justify-center bg-slate-900 text-white",children:p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-brand-500"})}):p.jsx($G.Provider,{value:{user:e,loading:r,logout:a},children:t})}function wMe(){const{user:t}=oa(),e=xr();return t?p.jsx(tC,{}):p.jsx(eC,{to:"/login",state:{from:e},replace:!0})}function _Me(){const{user:t}=oa();return t?p.jsx(eC,{to:"/app",replace:!0}):p.jsx(tC,{})}function EMe(){const{isCollapsed:t}=E2();return p.jsxs("div",{className:"min-h-screen bg-slate-900 text-slate-100 flex relative",children:[p.jsx(vMe,{}),p.jsxs("div",{className:"absolute top-4 right-8 flex flex-col items-end gap-2 pointer-events-none z-50",children:[p.jsx("div",{className:"pointer-events-auto",children:p.jsx(bMe,{})}),p.jsxs("div",{className:"text-xs font-mono text-white/30 px-2",children:["v",sd]})]}),p.jsx(d9,{}),p.jsx("div",{className:`flex-1 ${t?"ml-20":"ml-64"} p-8 transition-all duration-300`,children:p.jsx(tC,{})})]})}function SMe(){T.useEffect(()=>{(async()=>{if(!sessionStorage.getItem("visited_session"))try{const n=new URLSearchParams(window.location.search).get("utm_source")||"direct";await ea(Df,"logVisitorEvent")({source:n,path:window.location.pathname}),sessionStorage.setItem("visited_session","true"),console.log("Analytics: Visit logged from",n)}catch(e){console.error("Analytics: Failed to log visit",e)}})()},[])}function TMe(){return SMe(),p.jsx(xMe,{children:p.jsx(Mce,{children:p.jsx(jpe,{children:p.jsx(Bpe,{children:p.jsxs(AQ,{children:[p.jsx(sn,{path:"/",element:p.jsx(jce,{})}),p.jsx(sn,{path:"/about",element:p.jsx(Xpe,{})}),p.jsx(sn,{element:p.jsx(_Me,{}),children:p.jsx(sn,{path:"/login",element:p.jsx(Hpe,{})})}),p.jsxs(sn,{path:"/app",element:p.jsx(wMe,{}),children:[p.jsx(sn,{index:!0,element:p.jsx(qpe,{})}),p.jsxs(sn,{element:p.jsx(EMe,{}),children:[p.jsx(sn,{path:"exams",element:p.jsx(Wpe,{})}),p.jsx(sn,{path:"quiz",element:p.jsx(d5,{})}),p.jsx(sn,{path:"quiz/:examId",element:p.jsx(d5,{})}),p.jsx(sn,{path:"pricing",element:p.jsx(Jpe,{})}),p.jsx(sn,{path:"success",element:p.jsx(ege,{})}),p.jsx(sn,{path:"help",element:p.jsx(Qpe,{})}),p.jsx(sn,{path:"simulator",element:p.jsx(tge,{})}),p.jsx(sn,{path:"simulator/exam",element:p.jsx(sge,{})}),p.jsx(sn,{path:"simulator/results",element:p.jsx(kve,{})}),p.jsx(sn,{path:"stats",element:p.jsx(aMe,{})}),p.jsx(sn,{path:"planner",element:p.jsx(uMe,{})}),p.jsx(sn,{path:"planner/setup",element:p.jsx(lMe,{})}),p.jsx(sn,{path:"verbal",element:p.jsx(hMe,{})}),p.jsx(sn,{path:"readiness",element:p.jsx(pMe,{})}),p.jsx(sn,{path:"diagnostics",element:p.jsx(gMe,{})})]})]}),p.jsx(sn,{path:"*",element:p.jsx(eC,{to:"/",replace:!0})})]})})})})})}console.log("Mounting App...");OX.createRoot(document.getElementById("root")).render(p.jsx(T.StrictMode,{children:p.jsx(XQ,{children:p.jsx(TMe,{})})}));
